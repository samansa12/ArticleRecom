linearly derived steiner triple systems attach graph every steiner triple system chromatic number graph related possibility extending triple system quadruple system example triple systems chromatic number one precisely classical systems points lines projective geometry twoelement field hall triple systems chromatic number three wellknown extendable steiner triple systems whose graph chromatic number two extendable also give configurational characterization hall triple systems terms mitres b introduction november 1852 steiner 32 posed infinite series questions concerning known steiner triple systems second questions asked whether always possible given steiner triple system n points introduce nn 4subsets underlying set given triple system property one 4subsets contained triple hand 3subsets underlying set triple one chosen 4subsets necessarily unique words asked whether every steiner triple system extends steiner quadruple system triple systems extend known derived triple systems 1 despite enormous effort especially last twenty years great deal progress made answering second question known steiner triple systems fifteen fewer points derived 10 25 result obtained computer attack introduce rather restricted notion derived steiner triple systems ideas inspired indeed flowed naturally binary view steiner triple systems taken 2 call triple system possessing extension steiner quadruple system linearly derived although author wishes especially thank paul camion pascale charpin research atmosphere created projet codes inria surely contributed investigation bulk took place spring 1995 author visitor apparently plucker 1835 defined triple systems even asked extending quadruple systems pluckers work may inspiration steiners paper see 37 steiner triple systems linearly derived geometric 2 systems many many others steiner triple system linearly derived subsystems may possess hence whenever one finds steiner triple system linearly derived one knows system subsystem cannot linearly derived find linear extension steiner triple system one restricts ones attention 4subsets underlying set system symmetric differences two triples 4subsets support binary sum incidence vectors two triples call 4subsets linear 4subsets linearly derived related existence quadrilaterals unique fourline configurations six points nonfano planes unique sixline configurations seven points triple system par ticular nonfano planes system onetoone correspondence linear 4subsets system seen three distinct ways symmetric difference two triples order easily express understand results present attach graph steiner triple system vertices graph linear 4subsets system two joined edge two 4subsets intersect three points geometric systems points lines projective spaces f 2 characterized steiner triple systems whose graph monochromatic edges among quadrilateralfree steiner triple systems one finds hall triple systems viewed generalizations geometric systems points lines affine spaces f 3 show systems graphs chromatic number three linearly derived fact quadrilateralfree steiner triple system whose graph chromatic number three linearly derived may hall triple systems characterized among quadrilateralfree systems whose graph chromatic number three steiner triple systems whose graphs chromatic number two linearly derived seem form interesting class systems far know never considered linear extension following 5 call steiner triple system geometric system lines projective geometry binary field affine geometry ternary field system constructed quadrilaterals nonfano planes systems fact quadrilaterals alone indeed one surprising outcomes author least investigation realization steiner triple system contains enough fano planes proper nonfano planes linearly derived result theorem 43 may viewed generalization stinsonwei 33 result characterizing geometric binary steiner triple systems terms number quadrilaterals probably vast majority systems graphs chromatic number greater three since maximum possible degree graph steiner triply system eight follows brookss theorem 6 theorem 84 chromatic number graph eight example linearly derived steiner triple system whose graph chromatic number greater three cyclic system order 5 13 points chromatic number greater three linearly derived quadrilateralfree system order 6 15 points also chromatic number greater three mitres unique fiveline configurations seven points two par allel lines play role discussion follow also give configurational characterization hall triple systems couched terms mitres geometric binary systems characterized systems maximum number quadrilaterals hall triple systems characterized systems maximum number mitres elementary knowledge design theory found example chapter 1 4 graph theory necessary order read paper standard references design theory graph theory contain necessary background moreover define notions introduced departure nomenclature vast existing literature steiner triple systems use order designtheory sense denote number points n triple system rather n gamma 32 linear 4subsets graph recall 4subset underlying set steiner triple system linear symmetric difference two triples name comes binary view steiner triple systems linear 4subset support weightfour vector binary code triple system sum incidence vectors two triples linear 4subsets come three flavors according whether arise one way two ways three ways symmetric difference sum clearly three maximum number since 4set splits exactly three ways disjoint union two 2subsets distinguish linear 4subsets calling singlylinear doublylinear triplylinear respectively triangle steiner triple system simply 3subset underlying set triple system steiner triple system n points triangles triangle expanded linear 4subset three ways clearly resulting linear 4subsets might differ fact triangle subset one two three linear 4subsets triangles come three flavors type triangle contained exactly one linear 4subset type ii triangle exactly two linear 4subsets type iii triangle exactly three linear 4subsets simple matter check four 3subsets linear 4subset triangles four 3subsets triplylinear 4subset type four 3subsets doublylinear 4subset type ii singlylinear 4subset could contain type ii type iii triangles sometimes singlylinear 4subset contains type ii triangles fact singlylinear 4subset contains type ii triangles valency graph four course quadrilateralfree steiner triple system linear 4subsets singlylinear contain type iii triangles systems valency every vertex eight denote set singlylinear 4subsets l 2 denote set doublylinear 4subsets l 3 denote set triplylinear 4subsets sim ilarly delta denote set type triangles delta ii denote set type ii triangles delta iii denote set type iii triangles number linear 4subsets steiner triple system n points depends general n system however ways form symmetric difference two triples following lemma summarizes easily proven relationships among cardinalities sets described simple consequences relationships lemma 21 1 jl 2 3 4 5 quadrilateral steiner triple system fourline configuration 3 containing exactly six points configuration doublyeven 4subsets obviously related quadrilaterals notions different quadrilateral gives rise three doublylinear 4subsets triplylinear 4subsets complicate relationship still hand quadrilateralfree steiner triple system steiner triple system whose linear 4subsets singlylinear fact linearity somewhat finer notion easily proven relationship quadrilaterals linearity proposition 22 number quadrilaterals steiner triple system is3 jl 2 particular number doublylinear 4subsets steiner triple system divisible 3 3 using line rather triple conform common usage fourline configurations steiner triple system catalogued counted grannell griggs mendelsohn 13 number quadrilaterals determines number fourline configurations corollary 23 number singlylinear 4subsets steiner triple system divisible 3 proof lemma 21 result obvious 2 triplylinear 4subset steiner triple system corresponds precisely configuration isomorphic nonfano plane configuration sixline configuration exactly seven points viewed usual fano plane line removed linear space plays important role coordinatization problems see delandtsheer 9 page 197 picture triplylinear 4subset complement missing line vertices large triangle plus central point observe triplylinear 4subset given nonfano plane support binary sum incidence vectors six lines configuration order easily state results wish discuss attach graph 4 steiner triple system since graphs appear paper simply call graph steiner triple system vertices graph linear 4subsets two vertices connected edge two linear 4subsets intersect three points vertices graph corresponding elements l 3 clearly isolated vertices edges vertices corresponding elements l 2 edges elements l 2 elements l 1 however 4 least two ways attach graph steiner triple system perhaps interesting graphs block graph strongly regular graph account graph reader may wish consult peeters 28 section 31 graph introducing quite different confused others fact valency element l 2 clearly four every type iii triangle steiner triple system gives rise 3clique graph implies lemma 21 graph least 3chromatic particular graph quadrilateralfree steiner triple system least 3chromatic shall see hall triple systems 3chromatic graphs since every triangle contained linear 4subset linear 4 subset contains triple system least conceivable one might find among linear 4subsets means extend triple system quadruple system terms graph system extension given steiner triple system found among linear 4subsets thing stable 5 subset vertices graph cardinality precisely24 collection linear 4subsets form extension provided enough two intersecting three points graph steiner triple system stable subset vertices cardinality 624 call steiner triple system posesses extension linearly derived collection 1nn linear 4subsets linear extension since l 2 l 3 always stable subset graph steiner triple system following easy proposition 24 steiner triple system n points case equality l 2 l 3 linear extension system linearly derived remarks 1 fact equality occur steiner triple systems shall see corollary 42 precisely systems whose graph 5 stable subset graph set vertices two connected edge subset also sometimes called independent set vertices stable subset graph clique complementary graph 6 general hard technical computerscience sense compute maximum number vertices stable subset graph hard compute chromatic number also expository discussion matters see knuth 18 chromatic number one two 2 since triangles type unique linear 4subset fact triplylinear linear extension steiner triple system must contain triplylinear subsets l 3 must subset linear extension observe linear 4subset always among points subsystem generated one triangles follows linear extension steiner triple system automatically yields linear extensions subsystems since cyclic steiner triple system order 5 13 points shall see linearly derived many triple systems without linear extensions next section investigate geometric steiner triple systems show linearly derived graphs smallest possible chromatic numbers 3 linear extensions geometric systems steiner triple systems deal section either systems points lines projective geometry binary field hall triple systems ie steiner triple systems whose triangles contained subsystem isomorphic affine plane order 3 begin characterization terms graph binary geometric systems result although different equivalent theorems 31 32 33 proposition 31 steiner triple system singlylinear 4subsets precisely 1nngamma1ngamma3 linear 4subsets 4subsets form linear extension moreover triple system system points lines projective geometry binary field graph monochromatic proof lemma 21 jl empty l 2 follows linear subsets triplylinear triangles type hence triangle contained unique linear 4subset necessary linear extension extension simply given l 3 graph edges ie monochromatic system must geometric binary system follows rather easily one simply apply theorem 32 see since number quardilaterals maximal proposition 22 use 15 162 corollary 32 graph steiner triple system monochromatic geometric binary system proof follows easily discussion presented description graph graph monochromatic jl geometric system hand geometric binary system points lines projective geometry every triangle generates fano plane every linear 4subset triplylinear particular graph monochromatic2 characterization binary geometric systems due stinson wei 33 theorems 31 32 following steiner triple system n points quadrilaterals equality geometric system points lines projective geometry binary field point view 2 characterization ternary analogue indeed since characterization via local properties however systems points lines affine geometries ternary field characterized instead hall triple systems systems locally like affine plane order 3 ternary analogue quadrilaterals replaced mitres 7 mitre fiveline configuration exactly seven points two disjoint triples characterization 7 terminology due andries brouwer theorem 33 steiner triple system n points most12 mitres equality hall triple system proof first describe premitre viewed mitre one disjoint triples removed picture fourline configuration may may complete mitre important point every mitre gives rise exactly two configurations number configurations easily counted see 13 premitres simply fourline configurations type c 15 precisely 1nn premitres every steiner triple system n points immediately gives inequality equality every premitre completes mitre since every triangle embeds premitre least three ways fact starting triangle using fact premitres complete mitre easy exercise show every triangle contained subsystem isomorphic affine plane order 3 triple system hall triple system hand given hall triple system every premitre must affine plane order 3 hence must complete mitre since three points collinear must one two lines parallel base premitre2 proof also gives following corollary 34 steiner triple system every premitre completes mitre must hall triple system next want show geometric systems points lines affine geometry ternary field linearly derived show hall triple systems linearly derived fact show graph hall triple system 3chromatic apparently stronger property first note hall triple system cannot contain quadrilateral since affine planes order 3 contain quadrilaterals thus case l 2 l 3 empty linear 4subsets singlylinear contrast binary geometric systems linear 4subsets triplylinear hall triple systems quadrilateralfree certainly many many quadrilateralfree steiner triple systems first nonhall system occuring order system 80 eighty triple systems 15 points andries brouwer proved quadrilateralfree steiner triple systems existed n j 3 mod 6 independently shown griggs murphy phelan 14 brief history problem given griggs constructed systems many moreover conjectures quadrilateralfree steiner triple systems exist admissible orders except 2 5 observe graph quadrilateralfree steiner triple system regular valency 8 contains 3cliques contain 4clique chromatic number course least 3 first show 3 linearly derived proposition 35 quadrilateralfree steiner triple system whose graph chromatic number 3 linear 4subsets split three disjoint subsets yields linear extension triple system proof follows lemma 21 quadrilateralfree steiner triple system n points precisely8 nn linear 4subsets since cardinality stable subset graph whenever graph 3chromatic linear 4subsets must split three stable subsets cardinality corresponding one three colors yielding linear extension2 next show graphs hall triple systems chromatic number three splitting linear 4subsets three disjoint linear exten sions example quadrilateralfree steiner triple system whose graph 3chromatic hall triple system theorem 36 linear 4subsets hall triple system n points split three disjoint subsets cardinality 1nn gamma 1n gamma 3 yielding linear extension particular graph hall triple system 3chromatic proof simple counting shows precisely fiftyfour 4subsets affine plane order 3 contain line must linear 4subsets since affine plane order 3 quadrilateralfree hence contains fiftyfour linear 4subsets wellknown see example 22 section 7 direct proof first principles use small mathieu design get desired splitting fiftyfour 4subsets split three extensions therefore necessarily linear extensions apply idea first used 3 applied present situation either 1 17 split linear 4subsets hall triple system required three disjoint pieces briefly stated idea linear 4subsets occur subsystems affine planes order 3 one piece together extensions planes get linear extensions hall triple system2 thus shown geometric binary system points lines projective geometry binary field linear extension geometric ternary system points lines affine space ternary field moreover characterized binary geometric system terms graph shown context hall systems natural generalization system points lines affine geometry sense linear extensions also graphs chromatic number three examples quadrilateralfree steiner triple system whose graph chromatic number 3 indebted wendy myrvold following computergenerated easily handchecked proof graph unique quadrilateralfree steiner triple system order 6 15 points chromatic number greater 3 example unique quadrilateralfree steiner triple system 15 points taken cycles following three triples twentyone cycle classes necessarily singlylinear 4subsets reader check stepbystep least four colors necessary examining vertices following order f1 2 8 12g f2 4 8 12g course one must first check 4subsets linear easily done hand 4 chromatic number two steiner triple systems whose graphs chromatic number 2 characterize following result case inequality lemma 21 equality thus also extremal case theorem 41 graph steiner triple system chromatic number 2 singlylinear 4subsets number singlylinear 4 subsets equals number doublylinear 4subsets moreover case graph isolated points removed regular bipartite graph valency 4 steiner triple system least two linear extensions one consisting singlylinear triplylinear 4subsets doublylinear triplylinear 4subsets implies existence 3cliques graph steiner triple system graph 2chromatic must simple matter check directly definitions putting l 3 aside graph bipartite parts l 1 l 2 regular valency 4 follows immediately lemma 21 since edges among vertices l 2 set forms linear extension since edges among vertices l 1 either also yields linear extension also clear jl empty obtains2 remark bipartite subgraph graph steiner triple system disconnected definitely two linear extensions since connected component one choose either parts examples 1 steiner triple systems 2 3 16 usual ordering 23 80 15 points satisfy conditions theorem hence announced linear extensions 8 indebted vladimir tonchev making necessary computations example one follows easily done hand fact computed data listed section 5 giving 80 systems number linear 4subsets type also proposition 22 number quadrilaterals number triplylinear 4subsets number nonfano planes contained steiner triple system sixline configurations seven points already remarked systems full 2rank 23 9 80 except 61 none nonfano planes complete fano plane systems 1 22 61 one use 2rank compute easily number nonfano planes complete fano plane since number fano planes corank fano plane maximal subsystem case example 61 nonfano planes 2 2rank 12 hence seven fano planes eight nonfano planes complete fano plane general results presented show four eighty steiner triple systems order 6 linearly derived explicitly give linear extensions known derived history proof fact interesting recently 1980 possibility computer attack eighty systems 8 precisely systems mitrefree possess singlylinear 4subsets 7 page 215 9 23 page 42 incorrectly reported see 24 error several misprints recorded system 23 subsystem fact none four nonfano planes reference missed occurrence apparently misreading beautiful classification done hand seventyfive years ago white cole cummings 38 nonfano planes nine systems single nonfano plane omission also observed grannell griggs 12 page 187 give nine systems single nonfano plane one deemed feasible see 29 page 113 grannell griggs 12 rather quickly made progress via computer remaining fourteen cases despatched computer attack diener schmitt de vries 10 see introduction 10 slightly detailed history body paper short description methods used 2 two steiner triple systems order 5 13 points following linear structure system singly gamma doubly gamma riply gamma quadrilaterals linear linear linear cyclic system mitrefree 7 page 221 wendy myrvold generated computer following easily handchecked proof chromatic number cyclic system least 4 system taken cycles examining vertices graph following order one sees least four colors needed f2 3 4 8g f2 3 4 6g f3 4 6 8g systems known derived see 25 linearly fact myrvold ran clique program cyclic system gave 52 cardinality maximal stable subset follows computer result steiner triple system containing subsystem isomorphic cyclic system order 5 linearly derived corollary 42 steiner triple system n points equality graph chromatic number 1 2 moreover case equality linear extensions remark least theoretically possible steiner triple system lots quadrilaterals nonfanofree non fano planes seems unlikely systems exist since nonfano planes system produce many quadrilaterals known examples however following perhaps empty result case give sharper upper bound number quadrilaterals nonfanofree case given general stinsonwei result suppose steiner triple system n points contains nonfano planes number quadrilaterals most72 equality chromatic number graph 2 moreover case equality l 1 l 2 yield linear extensions proof simple since l 3 empty jl proposition 22 implies inequality equality proposition 22 lemma 21 graph bipartite parts l 1 l 2 either part yields linear extension one phrase characterization entirely terms quadri laterals observe first steiner triple system quadrilateral three 4subsets six points contain line quadrilateral subsets either doublylinear triplylinear following result call subsets 4subsets given quadrilateral steiner triple system without nonfano planes graph chromatic number 2 collection 4subsets given quadrilaterals system forms extension suppose given arbitrary steiner triple system n points let f denote number fano planes contained system n number proper nonfano planes nonfano planes complete fano plane system number triplylinear 4subsets 7f n since every nonfano plane complete fano plane gives rise 6 doublylinear 4subsets following consequence lemma 21 proposition 22 proposition 24 theorem 43 suppose given steiner triple system n points containing f fano planes n proper nonfano planes number quadrilaterals system least 7f 3n moreover equality implies steiner triple system graph chromatic number 1 2 precisely 7f geometric system points lines projective geometry binary field else n 6 0 jl l 1 l 3 providing linear extensions proof since jl 1 hence inequality proposition 22 underbounds number quadri laterals equality forces jl rest theorem remarks 1 observe three systems 15 points graphs chromatic number two 2 3 16 satisfy bound theorem f system 1 also geometric binary systems 2 systems order 8 19 points cannot furnish examples equality since righthandside inequality integer systems order 9 systems 21 points righthandside integer presumably examples exist case would interesting suitably easy construction steiner triple systems n points n j 0 f steiner triple system n points least principle possible graph might highly disconnected consisting isolated vertices comprising l 3 bipartite subgraph one part l 2 part jl 2 j vertices l 1 components graph case chromatic number 3 happen proposition 35 result could extract least six linear extensions consisting onethird vertices 3chromatic components either one two parts bipartite subgraph isolated vertices cyclic system order 5 shows always linear structure systems order six possible since seen chromatic number graph least 4 fact highly disconnected graph arise one must singlylinear 4subsets whose 3subsets type ii since vertex corresponding elements l 2 valency four therefore vertices l 1 making part bipartite subgraph must also valency four moreover impossible jl 2 j singly linear 4subsets set singlylinear 4subsets remaining singlylinear 4subsets must 3subsets type iii usually makes easy check decomposition graph cannot occur neither two triple systems order 5 graphs decomposition reason examples decomposition jl possible none exist 5 linear structure systems order six record results computations made vladimir tonchev robert weishaar information see 36 corank simply 2rank given system rank binary field incidence matrix system number fano planes contained system simply c corank since number nonfano planes number triplylinear 4 subsets one number proper nonfano planes number triplylinear 4subsets c corank number quadrilaterals recorded simply proposition 22 number doublylinear 4subsets linear structure systems order six 19 number linear linear linear 6 quasilinearly derived systems 21 6 quasilinearly derived systems widely believed every steiner triple system derived since problem reduced systems full 2rank see 2 corollary 62 follows corollary 63 2 steiner triple systems derived suitable set quadruples always found among binary linear span incidence vectors triples work demanded quadruples found among binary sums incidence vectors two triples one could investigate systems shown derived looking binary sums incidence vectors either two four triples using yielding course vectors weight four fact one could envisage measure difficult find derivation using six fewer triples eight fewer triples etc tried case four triples study grannell griggs mendelsohn 13 fourline configurations aid us sixteen possible fourline configurations three c c 15 give weightfour vectors appears interesting candidate pre mitre weightfour vector produced premitre four 3subsets triangles complete mitre course could used trying find might called quasilinear extension triple system since know corollary 34 whenever premitre complete mitre hall triple system linear extension case 4subsets coming premitres could used find quasilinear extension example steiner triple system linear extension quasilinear extension one presumes systems exist although believed steiner triple systems derived one still suitably easy construction derived triple systems might conceivably true admissible n 13 linearly derived steiner triple system one could find easy construction one would alternative hananis recursive techniques providing derived 10 support weightfour vector might fact linear already noted triplylinear 4subset support binary sum incidence vectors six lines nonfano plane corresponds 7 historical aside 22 steiner triple systems admissible orders 7 historical aside 13 page 52 grannell griggs mendelsohn wonder fact certain results fourline configurations neglected literature steiner triple systems question could asked results described since ideas seem natural flowing easily either geometric codingtheoretic view subject results easily discovered would like suggest possible explanation different proposed grannell griggs mendlesohn insularity unreceptiveness ideas coming disparate disciplines seems particularly acute among workers investigating steiner triple systems thoralf skolem complained 31 page 274 perhaps announcement hanani 1958 international conference mathematicians inattention paid workers field appendices nettos book indeed ideas constructing triple systems 11 seem ignored half century except members belgian school skolem probably best known work 20s 30s foundations set theory complained 1958 ideas print well quarter century second edition published 1927 lehrbuch der combinatorik eugen netto 26 note 16 nearly quarter century complaint lindner 21 page 184 observed skolems ideas led incredibly simple proof existence steiner triple systems 6n 1987 proof entered english monograph literature steeet street 34 chapter 5 12 ever since infancy work plucker cubic curves see de vries 37 steiner systems intimately related 11 direct easy proof existence steiner triple systems admissible orders constructed 27 30 31 see example 34 chapter 5 efficient easily understood direct construction indebted r stinson pointing two sources neither took account work okeefe streets became aware okeefes work publication book geometry configurational aspects 13 yet 29 pages 105106 paper asserted infeasibility use computers determining whether eighty systems order six derived contributions made finite geometry study steiner triple systems summarily dismissed minor consequence question deriv ability despite history subject also fact fundamental work teirlinck 35 elaboration doyen hubaut vandensavel 11 already shown importance geometric systems steiner systems orders geometric ones insularity may prevalent combinatorial mathematics see example historical essay crapo 8 clearly also appear developed fields even worldclass mathematicians unreceptive new ideas see lang 19 20 r binary codes steiner triple systems graph theory applications dimensional linear spaces hans ludwig de vries ranks incidence matrices steiner triple systems derived steiner triple systems order 15 small basis four line configurations steiner triple systems infinite class steiner systems constructed affine spaces sandwich theorem mordells review mordells review survey embedding theorems steiner systems transitive erweiterungen endlicher permutationsgrup pen small steiner triple systems properties small steiner triple systems properties errata steiner systems s3 lehrbuch der combinatorik verification conjecture ranks structure graphs survey derived triple systems certain distributions integers pairs given differences remarks triple systems steiner combinatorische aufgabe results quadrilaterals steiner triple systems combinatorics experimental design projective affine hyperplanes steiner triple systems order 15 codes hans ludwig de vries complete classification triad systems fifteen elements tr ctr j key h f mattson jr edward f assmus jr 19311998 designs codes cryptography v17 n13 p711 sept 1999