reliable natural language interface household appliances household appliances grow complexity sophistication become harder harder use particularly tiny display screens limited keyboards paper describes strategy building natural language interfaces appliances circumvents problems approach leverages decades research planning natural language interfaces databases reducing appliance problem database problem reduction provably maintains desirable properties database interface paper goes describe implementation evaluation exact interface appliances based reduction exact maps english user request sql query transformed create pddl goal uses blackbox planner 13 map planning problem sequence appliance commands satisfy original request theoretical arguments experimental evaluation show exact highly reliable b table 1 messagelist table one five relations comprising database exact uses represent state panasonic kxtc1040w messagenumber message old old note fully implemented exact nlia tested simulation panasonic device rather actual appliance hardware done wiring tinkering would required actually drive appliance nevertheless command set taken directly manual appliance 1 confident simulation realistic expertise speech hence focus paper developing expressive nlia step towards ultimate goal linking speech recognizer contrast work moore allen walker 30 3 26 built fullblown dialog system instead focus core capability understanding singlesentence appliance commands cook corn 5 minutes well goals delete old messages requires multistep plan find old message erase turn thus nlia implements function single english sentence encoding persons request command sequence satisfies request executed appliance due reliability believe nlia would attractive module researchers investigating dialog systems model readily extensible multiple devices networked home yet addressed issue identifying device user addressing based context content however straightforward approach explicitly naming device addressing seems reasonable example person could say vcr record seinfeld finally assume nlia accurate behavioral model appliances integrates exogenous events affect device eg external caller leaving message assume device notify nlia fact assumption reasonable existing devices surveyed notify user exogenous events eg phone rings answering machine displays count new messages thermostat display indicates whether furnace implemented system depends assumption overall approach using complex informationgathering planner puccini xii 9 10 11 nlia would operate correctly even without notification events interpreting users commands complex multiple plans executed time case users command affect appliance also agents execution stack previously planned actions thus assume nlia process new requests previously planned actions fully executed 4 nlia reduction section show build nlia using nlidb planner reduction based observation user commands appliance made relative devices state either querying state eg sprinkler system set water modifying eg set thermostat 68 since relational database convenient natural way conceptualize devices state users command modeled sql statements computed using nlidb order create full nlia however need show method satisfying sql query update statements using devices primitive command set task use planning algorithm argue one advantages approach construction reliable ie sound complete nlia exploiting formal properties existing nlidb planning systems formally model appliance pair db set action descriptions pddl planning language 15 db database representation appliances initial state example table 1 shows fragment sample relation database model internal state figure 1 shows sample actions panasonic phone action deletemessage parameters x integer precondition leq 1 x leq x 64 playing x effect playing x leq x 63 playing 1 x forall messagelist x z messagelist x blank old action play parameters precondition playmode effect playmode playing messagelist 1 new messagelist 1 old action playnext parameters precondition playmode effect forall x playing x leq x 63 playing x playing 1 x messagelist x new messagelist x old figure 1 pddl encoding panasonic kxtc1040w actions nlia composed four parts appliance model db nlidb translation module planner run time system takes input natural language sentence feeds nlidb figure 2 nlidb converts input sql statement consistent schema database db sql denotes query executed db result returned user example english question answering machine volume mapped following sql query select volume answermachine englishinput devices plan nlia sql statements translator goal planner figure 2 building nlia nlidb planner gray box depicts nlia sql update translator converts goal planning language sent planner generate sequence actions actions executed appropriate devices also exogenous events occur db updated ensure correspondence devices actual state able skip translation planning stages case select query assumption database contains complete state appliance assumption met might case several actions would taken action answers query case would require planning translation step converting sql update statement goal requires explanation reiter shown 22 database updates modeled using situation calculus purposes pddl suffices also without loss generality suppose db relational schema x relation xj attributes aj1 ajk k varies table table db contains set tuples satisfying xj earlier assumption regarding notification exogenous events make closed world assumption 23 sql update statement form set c c c c ai attributes xj ci constants convert sql statement pddl goal process similar used generating propositional form universally quantified goal classical planning 27 first step running following sql query db agents model device select distinct c c execution query retrieve set tuples ti whose values need modified let ti denote corresponding set tuples obtained changing value jth attribute tuple cj denote set tuples db let cwa denote function computes closure set relational atoms3 planner given following ground problem reason grounding goal translation step somewhat subtle sql update commands set clause refers goal state ie desired state device plan executed contrast clause refers state device changes made refers device state commencement planning unfortunately pddl notation making distinction4 translation step left universally quantified variables resulting goal would refer goal state state plan 41 safety revisited include part goal ensure planner doesnt generate plan nasty side effect falsifying something currently true example simplest plan delete old messages delete messages new old phone single command explicitly stating goal new messages deleted force planner come safe plan similarly would want planner respond call sue first randomly recording new answering machine greeting placing call thus prevent planner unwanted positive side effects computing cwa domains resource usage side effects necessary one exclude predicates describing resources goal example reduction action consider operation panasonic phone nlia sentence delete old messages assume nlia given actions figure 1 database fragment table 1 part inputs nlidb translates input sentence sql statement messagelist translator takes sql statement performs syntactic manipulation required rewrite grounded goal pddl let oldmsgnum1 oldmsgnumn represent numbers old messages messagenumber column table messagelist let newmsgnum1 new msgnumm represent numbers new messages pddl grounded goal looks like messagelist oldmsgnum1 old messagelist oldmsgnum1 blank messagelist oldmsgnumn old messagelist oldmsgnumn blank messagelist newmsgnum1 old messagelist newmsgnumm old brevitys sake omit relations database goal planner takes goal together initial 3 closing set positive literals means explicitly adding negation atom absent set set relations constants finite function symbols case operation takes polynomial time 4 see instance sadl 8 action description language provide notation distinguish initial goal states state database db returns plan starting play action next plan contain deletemessage action message number one one oldmsgnum1 old msgnumn playnext action otherwise repeats 64 messages checked deleted old 42 formal properties position state benefits nlia reduction precisely abstractly one consider nlidb n function english sentences sql statements similarly translator described function sql planning problem specifications5 finally planner function problem specifications action sequences since nlia takes english sentence generates action sequences appliance one summarize reduction follows et al 20 define conditions sql statement valid interpretation english sentence definition complex include paper borrow 20 far simpler definitions soundness completeness nlidb sound sql outputs valid interpretation input sentence nlidb complete returns valid interpretations note nlidb sound complete returns single sql statement response users utterance unambiguously determined users intent subject assumptions course definition let sql statement relational database db appliance reaction r consistent query r answers query update r sequence legal device commands changes db accordingly nlia sound response input reaction consistent valid interpretation nlia complete makes consistent reaction valid interpretation one exists variety formulations automated planning 19 briefly summarize following planner sound plan outputs transform initial situation world state goal holds planner complete returns plan one exists formally state two central benefits reduction proposition 1 soundness let n sound nlidb let p sound planner let translation scheme described sound nlia proposition 2 completeness let n complete nlidb let p complete planner let translation scheme described p proofs omitted due lack space 43 significance theory course theoretical guarantees apply practice assumptions satisfied eg words sentence known see 20 complete enumeration experimental results section evidence assumptions realistic 5 given fixed set actions planning problem initial state goal thus maps sql cross product tuple specifications another potential objection theory guarantee reliability fullblown conversational speech speech recognition particular likely result errors clearly true see great value nlia guaranteed reliable enables interface designer localize errors modules institute appropriate recovery strategy consider way analogy sophisticated chessplaying program combines minimax search alphabeta pruning complex tunable evaluation function specialized hardware etc suppose prove alphabeta pruning reliable prunes moves search procedure would eventually discard well reliability alphabeta pruning guarantee chess program always makes best move however program makes mistake know definitely due alphabeta pruning guaranteed reliability one module enables programs designer focus attention modules 5 exact implementation order test theory developed section 4 built exact natural language interface telephone using precise nlidb 20 blackbox planner 13 foundations handcrafted database model panasonic kxtc1040w user manual 1 model used input precise nlidb source state information planner finally created set actions model phones commands described user manual action set also input planner system takes input sentence converts set possible sql statements using precise translates set goals looks plan satisfy goal one goal least one goal plan ambiguous sentence exact needs ask user help disambiguating goal plan phone cannot support function asked exact tell user much exactly one goal plan exact simply carry plan experiments last case far common dataset evaluated system includes examples impossible requests exact well equipped handle problem sentence map appropriate sql statement either unknown words attributevalue pairing sentence say nlidb cannot understand sentence hand sentence maps sql statement planner fails find plan goal since planner complete say appliance support function interface inherits desirable qualities like reliability portability across many appliances planner nlidb make extensions components explained 51 nlidb component precise highly portable nlidb guarantees soundness sql interpretations certain kinds english sentences called semantically tractable questions 20 precise automatically generates lexicon based names relations attributes values input database core reduces problem mapping sentence sql query graphmatching problem solved using maxflow algorithm precise relies charniak parser extract attachment information sentence help constrain matching problem finally precise generates complete set possible sql interpretations sentence consistent lexicon parser precise originally built support questions translate select queries sql since nlia respond requests changing state appliance translate naturally sql update statements extend precise appropriately room explain technical details precise essence extension precises graph matching algorithm keep track two attributes preattribute postattribute preattributes contain values database state update postattributes contain new updated values values set update statement matched postattributes values matched preattributes order understand input sentence system needs classify update select proceed appropriately precises modules including tokenizer lexicon parser remain unchanged 52 planning component already explained prevent unwarranted side effects finesse problem information gathering domain household appliances also surprising amount temporal complexity first user commands may involve events occurring specific future times eg record star trek one could use temporal planner handle goals instead rely temporal capabilities device since possible set vcr program later exact handle goal classical planner vcr support type operation exact would explain goal unachievable second numerous actions durative execution occurs interval time eg play messages although might seem natural model temporal aspects actions explicitly eg pddl 21 level 36 tried discovered problems see finally different commands naturally translate goals different temporal annotations nature temporal mapping complex subtle example consider command play messages note user presumably doesnt want answering machine play messages forever enough thus one models play durative action transiently plays message one cannot model goal one achievement durative model goal implicit temporal annotation must true point execution even true end execution two problems model first planners support indeed pddl 21 level 3 even allow one express goal deeper problem related disambiguating natural language consider commands play messages require playing true end plan turn answering machine could think principled way distinguish goals clearly user would upset exact responded last command turning answering solution use classical atomic model time implicitly recognizing exogenous events may subsequently change device state philosophically consistent pddl 21 level 5 actions instantaneous may initiate 6 httpwwwduracukdplongcompetitionhtml physical processes case process message played evolve time need model processes explicitly since assumption networked device notifies agent events incoming messages thus execution play command terminate device playing simply stops later accord modeling device fashion able use blackbox planner 13 operates compiling pddl planning problems set propositional clauses satisfiable exactly nstep plan exists fast satisfiability algorithm used assignment found reverse compilation phase generates plan otherwise plan length incremented 6 experimental evaluation test system gathered total 72 sentences seven graduate students faculty university washington people provided us data given concise list features available panasonic phone asked write sentences english might use invoke features 72 sentences gathered used 61 experiments eleven sentences excluded describe goal action rather implied example excluded sentence loud sentence describe goal state action achieve goal instead describes current state implies goal sentences clearly demonstrate importance processing speech acts beyond current capabilities exact 100 100 100 100 80 40 20 0 820 869 885 recall precision figure 3 exacts performance experiment figure 3 shows exacts performance dataset recall fraction sentences dataset exact put forth interpretation7 refer sentences tractable sentences intractable sentences exact indicates cannot understand request asks paraphrase precision fraction tractable sentences dataset exact interpreted correctly including interpretation sentence impossible request appropriate measure precision recall data labeled sentence one valid interpretations8 black bars figure show achieve 100 precision dataset 7 remember maximize reliability exact try guess correct interpretation sure 8 exacts interpretation correct member set valid interpretations reflecting commitment reliability utility underlying theory exacts recall 820 eleven sentences unable choose definitive interpretation allow exact ask user choose two possible interpretations exact 2 recall goes 869 user may choose four interpretations recall goes slightly 885 exact4 remaining cases exact unable interpret sentence contains words outside exacts lexicon unlike natural language interfaces exact attempt ignore unfamiliar words ensure reliability exact declines interpret sentence contains unknown words increasing recall exact exact2 exact4 quantifies amount ambiguity data two sentences exactly two interpretations cases reflect fact phone two different volume settings one answering machine one ringer sentence like turn volume two interpretations potentially correct one input sentence multiple interpretations data somewhat idiosyncratic singleword command aloud four interpretations sentence actions turn speakerphone intended goal turn handset ringer turn intercom playback messages play sounds aloud tuning system ambiguities could resolved 7 future work number important directions future work first need test exact much wider range users appliances second need link exact actual device hardware speech recognizer third need address user interface issues arise due speech recognition errors hardware problems example appropriate exact confirm plans user taking actions excessive confirmation nuisance user finally essential enable exact participate fullblown dialogs users dialogs would enable exact choose multiple competing interpretations learn new words phrases idioms thereby improving recall 8 related work build large body work natural language interfaces databases see androutsopoulos et al 4 survey small number nlidbs handle updates none considered nlia problem emphasis provable soundness foundation reliable natural language interface shared popescu et al 20 work exact goes beyond precise several important ways first introduce analyze idea reducing nlia problem nlidb problem maintaining soundness completeness interface second exact composes precise planner automatically generate nlia third extended precise handle updates finally show experimentally linking exact typical household appliance panasonic kxtc1040w phone yields highly reliable interface handle goals impossible requests safety concerns young moore 30 described dpocl sound discourse planner satisfies limited form completeness argue formal properties previous discourse planners largely ignored lack understanding leads inconsistencies representation discourse focus however representing speaker intentions texts exact focuses simpler natural language utterances seeks use control household appliances quesada et al 21 describe spoken dialogue agent dhomme project specifically designed interacting household appliances agent uses semantic grammar restricted tractable subset natural language call natural command language dhomme agent capable understanding complex natural language dialogs guarantee reliability agent also builtin planning capability cannot handle goals require multistep plans number commercial systems built handle dialog household appliances examples include linguamatics automated house9 smartkom homeoffice10 fluency house11 voxi smart homes12 commercial systems report vital information mechanisms trips allen et al 3 agent architecture handling natural conversation travelplanning domain contrast kind system exact designed easily portable number different domains domains interest generally much simpler structure natural language interaction universal speech interface usi 25 project cmu design goals similar usigadget template system portable many different appliances natural language capabilities system however constrained speech recognition technology interaction keywordbased various ubiquitous computing projects eg mits intelligent room 6 considered multimodal interfaces include language however considered reliability language module considered embedding planner system satisfy highlevel goals decline impossible requests abide safety constraints number researchers modeled appliances developed specification languages eg xml appliance interfaces 2 8 12 18 systems designed around specifications tried create single interface appliances another remote appliance like pda personal universal controller puc 16 generates interface appliances using xml specifications unlike exact puc executes simple commands plans use natural language menu2dialog system 14 creates dialog planning system menubased natural language system fully automated however consider problems reliability safety like exact softbots 7 use planners develop complex plans behalf users however one drawback softbotbased interfaces lack natural language capabilities make difficult use especially novice users 9httpwwwlinguamaticscomtechnologydialoguehomehtml 11httpvisualhousefluencyvoicecomhousecgifluencyhousehtml unix consultant uc 29 natural language tutoring system unix although uc designed interface device uc different focus exact uc portable across many devices instead focus complete model single highly complicated device unix shell furthermore response user input advise user accomplish goal rather performing actions finally due complexity uc makes reliability guarantees 9 conclusion paper sketches novel answer fundamental question build reliable natural language interface household appliances answer encapsulated figure 2 leverage thirty years research natural language interfaces databases reduce appliance problem database problem show coupled planner approach number advantages including formal guarantees soundness ability enforce safety ability appropriately handle highlevel goals impossible requests preliminary experiment complements theoretical arguments showing interface fact displays advantages practice 10 acknowledgements thank anamarie popescu help using extending precise system thank krzysztof gajos keith golden tessa lau mike perkowitz anonymous reviews insightful comments previous drafts research supported part nasa grant nag 21538 nsf grants iis9872128 iis9874759 onr grants n00014021 0932 n000140210324 11 r panasonic cordless answering sys uiml applianceindependent xml user interface language architecture realistic conversational systems natural language interfaces databases context sensitive natural language modality intelligent room softbotbased interface internet universal information appliance leap look information gathering puccini planner omnipotence without omniscience sensor management planning representing sensing actions middle ground revisited blackbox new approach application theorem proving problem solving ijcai workshop knowledge reasoning practical dialogue systems generating remote control interfaces complex appliances might people interact agents ucpop sound towards theory natural language interfaces dialogue managements home machine environment linguistic components agent architecture knowledge action logical foundations specifying implementing dynamical systems closed world databases interface agents unified design humanmachine voice interaction learning optimal dialogue strategies case study spoken dialogue agent email introduction leastcommitment planning first law robotics call arms berkeley unix consultant project dpocl principled approach discourse planning tr softbotbased interface internet first law robotics call arms omnipotence without omniscience direct manipulation vs interface agents might people interact agents utml universal information appliance crossmodal interaction using xweb architecture realistic conversational systems generating remote control interfaces complex appliances towards theory natural language interfaces databases ctr anamaria popescu oren etzioni henry kautz towards theory natural language interfaces databases proceedings 8th international conference intelligent user interfaces january 1215 2003 miami florida usa lina zhou mohammedammar shaikh dongsong zhang natural language interface mobile devices intelligent information processing ii springerverlag london 2004 jim blythe task learning instruction tailor proceedings 10th international conference intelligent user interfaces january 1013 2005 san diego california usa koskela kaisa vnnenvainiomattila evolution towards smart home environments empirical evaluation three user interfaces personal ubiquitous computing v8 n34 p234240 july 2004 kevin livingston christopher k riesbeck knowledge acquisition simplified text proceedings 12th international conference intelligent user interfaces january 2831 2007 honolulu hawaii usa henry lieberman jos espinosa goaloriented interface consumer electronics using planning commonsense reasoning proceedings 11th international conference intelligent user interfaces january 29february 01 2006 sydney australia silyan arsov approach response generation restricted bulgarian natural language queries proceedings 5th international conference computer systems technologies june 1718 2004 rousse bulgaria anamaria popescu oren etzioni henry kautz towards theory natural language interfaces databases proceedings 8th international conference intelligent user interfaces january 1215 2003 miami florida usa emerson cabrera paraiso jeanpaul barths intelligent speech interface personal assistants applied knowledge management web intelligence agent system v3 n4 p217230 january 2005 emerson cabrera paraiso jeanpaul barths intelligent speech interface personal assistants applied knowledge management web intelligence agent system v3 n4 p217230 october 2005