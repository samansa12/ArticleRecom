priority scheduling wireless ad hoc networks ad hoc networks formed without aid established infrastructure typically multihop networks location dependent contention hidden terminal problem make priority scheduling multihop networks significantly different wireless lans prior work related priority scheduling addresses issues wireless lans paper priority scheduling multihop networks discussed propose scheme using two narrowband busy tone signals ensure medium access high priority source stations simulation results demonstrate effectiveness proposed scheme b introduction advances wireless communications growth realtime applications wireless networks support quality service qos recently drawn lot attention order provide dierentiated service realtime nonrealtime packets medium access control protocol must provide certain mechanisms incorporate dierenti ated priority scheduling higher priority trac transmitted preference lower priority trac research supported part national science foundation grant ani9973152 permission make digital hard copies part work personal classroom use granted without fee provided copies made distributed profit commercial advantage copies bear notice full citation first page copy otherwise republish post servers redistribute lists requires prior specific permission andor fee mobihoc02 june 911 2002 epfl lausanne switzerland two standards wireless networks cover mac sublayer european telecommunications standards institute etsi high performance european radio lan hiperlan 4 ieee 80211 wlan 6 hiperlan explicitly supports qos packet delivery wireless lans ieee 80211 may carry trac timebounded requirements using pcf point coordination func tion needs coordination access point neither provide eective priority scheduling ad hoc networks wireless lan mean network stations 1 within others transmission range hand multihop networks two stations cannot hear may still compete channel due hidden terminal problem environments addition local channel information channel status near neighboring nodes also considered ensure priority scheduling another dierence wireless lans multihop networks respect priority scheduling dierent flows multihop networks dierent degree con tention define contention degree flow number flows competing channel flow competes channel flows wireless lans multihop networks dier ent flows may experience dierent situations depending network topology flow pattern example multihop network possible flow contention degree 10 flow b competes flow circumstance might easier flow b access channel research related priority scheduling wireless networks 1 9 10 2 3 7 11 14 schemes work well wireless lan paper propose scheme using two narrowband busy tone signals achieve eective priority scheduling ad hoc networks rest paper organized follows section 2 presents related work problem priority scheduling multihop networks discussed section 3 section 4 describes proposed busy tone priority scheduling btps protocol performance evaluation presented section 5 finally present conclusions section 6 2 related work medium access control mac protocols aim provide dierentiated services able meet require use terms station node interchangeably ments trac dierent priority classes high priority flows trac pattern satisfies behavior described service agreement packets delivered preference packets lower priorities hand flows lower priorities use much bandwidth possible transmission requirements higher priority flows satisfied general two directions wireless mac protocols facilitate channel access privilege high priority trac reservation based schemes contention based schemes reservation based schemes usually make assumptions high priority trac example high priority trac assumed periodic fixed arrival rate reservation based schemes resources reserved unused often wasted typical example reservation based mac protocol gamaps 1 gamaps divides time sequence cycles cycle begins contention period ends grouptransmission period grouptransmission period divided set zero individual transmission periods station transmission group station data send competes membership transmission group contention period also listening chan nel group member becomes aware many stations group position within group case members transmission group take turn transmitting data collision avoided however basic requirement protocol station hear transmissions stations limits use protocol wireless lans macapr protocol 2 extends reservation based scheme multihop networks first data packet high priority flow makes reservations along route destination station maintains reservation table rt keeps track transmitting receiving reserved windows neighbors within twohop neigh borhood low priority sources allowed fill empty windows order reservation scheme work size high priority packets must prespecified connection size low priority packets must bounded interfere reservation constraints unlike reservation based schemes contention based schemes probabilistic flow scheduling decision made locally contention resolved probabilistically example reference 9 uses black burst help high priority flows contend channel channel becomes idle high priority flow shorter waiting time transmits black burst low priority flows longer waiting time drop contention hear black burst waiting time scheme thus provides way high priority source stations wireless lan reserve channel occupying channel black burst reference 10 generalizes scheme ad hoc carrier sense multiple access wireless network defined wireless network without hidden nodes source station network always sense possible interfering transmis sions however case ad hoc networks often hidden terminals exist ad hoc networks nodes cannot always sense others transmissions thus scheme 10 cannot applied general ad hoc networks several researchers propose simple modifications ieee 80211 distributed coordination function dcf incorporate dierentiated service ieee 80211 dcf defines collision avoidance mechanism resolve contention among dierent stations willing access medium station chooses random number zero given contention window backo duration sensing channel idle suitable interframe space duration station waits backo timer counted zero accessing channel station freezes backo timer senses busy channel continues count backo timer channel becomes idle interframe space duration collisions occur colliding stations exponentially increase contention window factor 2 value contention window constrained cwmin cwmax source station sends rts quest send first gets cts clear send back receiver data packet sent followed ack receiver case rts followed cts data followed ack collision assumed occurred summarizing two waiting stages ieee 80211 station accesses channel interframe spaceifs stage backo stage whose duration random value zero contention window 3 7 11 14 various schemes proposed modify backo stage dierent priority source stations use dierent contention window generation functions example 3 proposes high priority source stations randomly choose backo interval 1 low priority source stations choose 2 number consecutive times station attempts send packet 11 proposes set dierent values cwmin cwmax dierent priority classes 7 proposes instead using exponential factor 2 collision dierent priority classes use dierent exponential increase factor stations lower priority increase contention window much faster stations higher priority one drawback faced 3 11 7 high priority flows may possibly experience collisions compared low priority counterparts multihop networks result high pri flows cannot ensured smaller contention hence priority channel access cannot ensured either order adapt better multihop net works 14 packets priority information piggybacked rtsctsdataack frames based overheard packets station maintains scheduling table records priority information flows within twohop neighborhood backo duration generated based scheduling table however scheme suers incomplete scheduling table caused collisions location dependent errors node mobility partially overlapping transmission regions schemes propose modify backo interval ieee 80211 incorporate dierentiated service suer one major drawback described backo timer low priority packet frozen channel becomes busy continue count time channel becomes idle thus eventually low priority packet arrived earlier might shortest backo interval cases priority occurs low priority packet shorter backo interval backlogged high priority packets grabs channel example illustrated figure 1 bcbackoff counter packet transmission packet transmission figure 1 priority reversal suppose two ranges backo interval 0 15 16 31 used respectively high priority low priority packets nodes 1 4 high priority packets flows 1 2 node 2 nodes 3 5 low priority packets node 2 flows 3 4 time t1 nodes 1 3 5 packets backlogged backo intervals 10 17 respectively node 1 began transmission time t2 nodes 3 5 froze backo counters remaining values 7 8 node 1s transmission time t3 high priority packet arrived node 4 node 4 chose 9 slots backo interval node 1 finished transmission time t4 nodes 4 3 5 began count backo interval interframe space duration hence node 4 high priority source node largest back counter consequently node 4 lost channel access nodes 3 5 mentioned earlier ieee 80211 requires station wait channel idle interframe space duration counting backo interval ieee 80211 defines 4 types ifs used provide dierent priorities dierent transmissions packets shorter ifs higher priority sifs minimum interframe space used separate transmissions belonging single dialog ie cts data ack trans missions thus giving highest priority pifs used pcf point coordination function give access point higher priority stations difs used station willing start new transmission eifs longest ifs used station received packet could understand needed prevent station colliding future packet belonging ongoing dialog unlike ieee 80211 distributed coordination function dcf new transmissions use difs terframe spaceifs 3 7 propose dierent priority source stations apply dierent ifs specifically one schemes proposed 7 works following way assume two priority classes one high priority low priority ifs low priority flow defined sum ifs maximum contention window high priority flows high priority packets constrained increase contention window larger maximum value let lifs represent ifs low priority flows hifs represent ifs high priority flows cwh represent maximum contention window high priority flows scheme sacrifices available network capacity ensure transmissions high priority flows since entire ifs duration enforced station continue count backo interval scheme avoids pri ority reversal problem mentioned earlier however critical tradeo making full use bandwidth ensuring priority maximum contention window high priority flows constrained small experience high degree contention hand parameter chosen large significant bandwidth wasted making low priority flows wait long unnecessarily high priority flows backlogged among several choices modifying ieee 80211 dcf shows scheme using dierent ifs dierent priority classes described works best reason scheme chosen one compare schemes performance considering two priority classes scheme implemented following way high priority flows use difs ifs sum difs cwh defined used ifs low priority flows throughout rest paper scheme called pmacpriority mac convenience 3 priority scheduling multihop networks consider two priority classes high priority low priority20 high priority flow low priority flow figure 2 impact hidden terminals priority scheduling 31 impact hidden terminals priority scheduling consider simple threehop scenario figure 2 node 0 high priority packets node 1 flow 1 node 2 low priority packets node 3 flow 2 flow 1 flow 2 conflict since node 2s transmission interfere node 1s reception packets flows backlogged ensure channel access priority flow 1 scheme proposed 7 refer pmac section 2 tries solve problem forcing node 2 wait longer ifs channel becomes idle ever mentioned earlier critical tradeo making full use bandwidth ensuring priority key point node 0 high priority packet backlogged node 2 aware defer transmission hand node 0 backlogged node 2 maximize throughput objective achieved using two narrowband busy tone signals bt1 bt2 proposed paper basic idea elaborated later whenever high priority packet backlogged node 0 send bt1 every slots acquires channel parameter proposed scheme figure 2 node 1 hears bt1 send bt2 nodes low priority packets hear either bt1 bt2 defer transmissions duration way channel access priority node 0 ensured certainly high priority packet backlogged node 0 node 2 hear busy tone signal hence channel access aected details protocol described section 4 32 impact collisions priority scheduling 14low priority flow high priority flows figure 3 impact collisions priority scheduling figure nodes 0 2 high priority packets node 1 low priority flow node 3 node 4 node 3 transmits node 4 node 1 cannot receive packet node 0 2 transmission suppose transmissions nodes 0 2 collide node 1 occur nonnegligible frequency time period nodes 0 2 detect collision resolve channel contention could long unless node 3 defers transmission entire period nodes 0 2 likely lose channel access node 3 however node 3 know collision occurred high priority nodes 0 2 similarly node 3 know contention nodes 0 2 resolved finished transmissions backlogged high priority packets multihop networks severe contention amongst high priority flows challenge ensure priority low priority flows major diculty every node sense local channel status example even nodes 0 2 experiencing continuous collisions node 3 still may sense channel free start transmission scheme proposed paper solves problem follows procedure channel access nodes 0 2 send bt1 signal every slots packet sent data channel parameter set mentioned earlier node 1 send bt2 sensing bt1 transmissions nodes 0 2 collide node 1 detect collision duration called ctstimeout case ieee 80211 dcf using rtscts handshake collision de tected channel access procedure start bt1 bt2 sent periodically require low priority source nodes sense bt1 bt2 signal defer transmissions ctstimeout duration ensures channel access high priority packets elaborated section 4 4 proposed busy tone priority scheme proposed paper contention based protocol proposed scheme makes use two busy tone signals borrows mechanisms ieee 80211 dcf proposed protocol called busy tone priority schedulingbtps describe protocol followed example figure 5 41 channel requirement proposed btps scheme two narrowband busy tone signals named bt1 bt2 used reference 8 previously proposed use two busy tone signals provide higher network utilization work 8 different objective dierent mechanism compared priority scheduling protocol proposed paper low priority source stations determine presence high priority packets sensing carrier busytone channel according 5 time period 5s sucient busy tone signal detected 1 total channel frequency spectrum 2 assigned busy tone channel including guard band ensure adequate spectral separation two busy tone channels put two ends channel spectrum figure 4 shows total available channel bandwidth divided three parts bt1 channel data channel bt2 channel respective bandwidth percentage 1 98 1 resulting data channel bit rate 196 mbps channel bt2 channel data channel 98 bandwidth figure 4 channel spectrum division 2 channel frequency spectrum 22 mhz ieee general hard require node capability receiving transmitting transmitting one channel time proposed btps protocol requires stations able monitor carrier status data channel well two busy tone channels station idle lock onto signal data channel desired station defined idle transmitting channel receiving packet data channel since need detect existence busy tone without dicult station capabilities stations begin receive transmit data channel status busy tone channel ignored busy tone channels sensing threshold set data channels sensing threshold 42 channel access procedure use dual busy tone btps busy tone serves indication backlogged high priority packets packets transmitted data channel dialog begins rtscts hand shake followed transmissions dataack packets ieee 80211 station accessing channel needs wait channel idle period interframe space ifs enter backo stage length backo interval randomly chosen zero value contention window collision occurs contention window exponentially increased factor 2 stations freeze backo timers sense data channel busy end backo stage stations allowed acquire channel time slotted unit called one slot time dierence ieee 80211 distributed coordination function dcf btps high priority low priority source stations behave dierently ifs backo stages btps high priority source stations difs used interframe space high priority source stations difs backo stages high priority source stations send bt1 pulse 5s duration every slots two consecutive busy tone pulse transmis sions least one slottime interval stations chance listen data therefore could value larger 2 depending choice ifs low priority source stations principle ifs low priority stations larger slots always sense busy tones attempt acquire channel implementation set 3 stations sense bt1 high priority source stations disregard bt1 station senses send bt2 pulse 5s duration receiving packet data channel also defer transmission low priority packet specif ically rts low priority packet deferred ctstimeout duration receipt bt1 special attention also needs paid transmission interval bt2 two consecutive bt2 pulses least one slottime interval make sure stations transmit bt2 sensing bt1 chance receive packet data channel station send bt2 pulse every two slots stations sense bt2 high priority source stations disregard bt2 station senses defer rts low priority packet ctstimeout duration low priority source stations difs plus one slottime used interframe space low priority source stations case ieee 80211 dsss 6 difs lasts two half slottime since busy tone initiated every three slots high priority stations low priority source nodes wait least three half slottime sense busy tone defer transmissions 43 occupancy data channel using black burst channel access procedure described station may transmit bt1 bt2 however station could receiver high priority packet rts may transmitted sending bt1 bt2 since station cannot receive transmitting high priority packet intended station missed busy tone transmission scenario figure 3 used illustrate situation sensing bt1 node 0 node 1 send bt2 correspondingly node 1 transmitting bt2 node 2 another high priority source node could possibly sending rts node 1 data channel without taking care situ ation node 1 miss high priority packet node 2 taking account several factors including data channel carrier detection time turnaround time stations receiving mode transmitting mode well transmission time bt2 btps requires high priority source station send two slot duration black burst transmission rts packet data channel black burst used occupy channel black burst ahead useful data receivers either detect data channel busy turning transmit busy tone able correctly receive packet data channel transmission busy tone back example transmission bt2 node 1 sense carrier data channel begin receive signal two slot duration black burst ahead rts packet node 1 still receive rts packet correctly node 2 need add black burst cts data ack packets 44 summary btps protocol behavior btps protocol summarized figure 5 high priority source station figure 5a send bt1 every 3 slots difs backo stage backo counter counted zero channel idle black burst lasts two slottime long sent first followed rts packet getting cts reply data packet sent followed reception ack point sending black burst time receiving ack busy tone signal transmitted station senses bt1 shown station sense bt1 difs backoff stage black burst data note rts cts data ack represented actual lengths due space limitation turnaround time receiving transmitting b arrows indicate sensed bt1 bt1 sensed transmission high priority source station c arrows indicate sensed bt2 bt2 sensed transmission busy medium station sense bt2 low piroirty packet deferred ctstimeout duration 355 low piroirty packet deferred ctstimeout duration 355 figure 5 behavior btps protocol one slottime 20s duration consecutive ticks shown short bars figure 10s black boxes represent received signal white boxes represent transmitted signal figure shows behavior high priority source station packet backlogged figure b shows behavior stations sense bt1 figure c shows behavior stations sense bt2 figure 5b transmit bt2 provided receiving data channel time stations sense busy tone bt1 bt2 transmissions low priority packets deferred ctstimeout duration shown figure 5b figure 5c 5 performance evaluation section simulation results presented demonstrate eectiveness proposed btps protocol simulation results pmac 7 also shown com parison recall pmac modified version ieee 80211 dcf chooses ifs low high priority flows dierently attempt achieve priority scheduling mentioned earlier cwh critical parameter pmac dicult adapt parameter dynamic network situations however simulation aware number high priority flows trac load try choose suitable value demonstrate reasonable performance pmac scenarios results ieee 80211 dcf also presented show baseline performance metrics use include delivery ratio high priority packets ratio high priority flows throughput sending rate aggregate throughput aggregate throughput high low priority flows pmac 7 higher value cwh improves first metric degrades aggregate put vice versa scheme improve pmac respect metrics 51 simulation model simulation results based modified version ns2 network simulator uscisilbnl 13 wireless extensions cmu monarch project 12 extensions provide wireless protocol stack including ieee 80211 radio interface model approximates first generation wavelan radio interface 2 mbps bit rate 250 meter transmission range using omnidirectional antenna trac sources chosen constant bit rate cbr sources using packet size 512 bytes cwh pmac set 32 slots simulation results averages runs simulation run 6 second duration since objective demonstrate mac protocols performance deliver high priority packets mobile situations simulated however behavior btps protocol impacted mobility 52 scenario 1 scenario 24 nodes arranged 46 grid grid spacing 200 meters flow pattern shown figure 6 figure 7 plots flows conflict graph conflict graph defined gv e v set flows edge f f j belongs e number high priority flows high priority flow id1 flow 4 3 flow 4 5 6 4 flow 4 5 6 8 5 flow 4 5 6 7 8 6 flow 4 5 6 7 8 9 table 1 high priority flows scenario 1 flows f f j conflict ie cannot simultaneously among flows flows 5 8 highest contention degree flows 1 3 10 12 lowest contention degree flow4 flow5 flow6 200m 200m figure network topology scenario 1 flow 1 flow 4 flow 7 flow flow 3 flow 2 flow 5 flow 8 flow 11 flow 6 flow 9 flow 12 figure 7 conflict graph flows scenario 1 number high priority flows increased 0 6 simulations corresponding high priority flows case given table 1 trac sending rate high priority flow case 180 kbps remaining low priority flows aggressive sending rate 1500 kbps figure 8 plots delivery ratio high priority packets versus number high priority flows proposed btps protocol deliver high priority packets case delivery ratio pmac 7 begins drop number high priority flows 3 six high priority flows performance gap btps pmac terms high priority packets delivery ratio 126 ieee 80211 dcf provide dierentiated service high priority flows simulated higher contention degree ieee 80211 delivers high priority packets01030507090 1 delivery high priority flows number high priority flows btps figure 8 delivery ratio high priority pack ets comparison btps pmac ieee figure 9 presents aggregate throughput btps pmac ieee 80211 flows low priority ie number high priority flows 0 aggregate throughput achieved pmac 834 achieved ieee 80211 pmac packets trans mission waiting time low priority source nodes interframe space stage slots corresponding waiting time ieee 80211 causes 166 loss aggregate throughput furthermore larger value cwh loss aggregate throughput reduce value cwh throughput loss smaller deliver ratio high priority packets would worse hand aggregate throughput achieved btps 974 achieved 80211 loss throughput mainly caused 2 bandwidth given busy tone channels btps high priority flows ieee 80211 schedules dierent set flows compared priority scheduling protocols btps pmac hence achieves much throughput cost starving high priority flows situation elaborated scenario six high priority flows plot individual flows throughput btps pmac ieee 80211 dcf figure 10 highest throughput situation achieved scheduling flows 1 3 10 12 times since lowest contention degree aggressive sending rate however maximum throughput achieved cost starving flows particularly high priority flows 4 5 6 7 8 9 results shown figure 10 ieee 80211 dcf performs way achieves highest aggregate throughput 4820 kbps 3 hand btps pmac give channel access preference high priority flows cost decreased aggregate throughput btps achieves aggregate throughput 2645 kbps pmac achieves 2311 3 recall proposed scheme achieve aggregate throughput comparable ieee 80211 high priority flows aggregate throughput kbps number high priority flows btps figure 9 aggregate throughput comparison btps pmac ieee 80211 kbps reason btps pmac lose throughput comparison ieee 80211 high priority flows higher contention degree simulated sce nario shown figure 7 example flow 4 transmitting data channel flows 1 5 7 cannot scheduled similarly flow 5 transmitting flows 2 4 6 8 cannot use channel either note two high priority flows flows 5 8 highest contention degree pmac delivers 61 packets flow 5 573 flow 8 compared proposed btps pmac unable deliver many high priority packets due contention among high priority flows pmac problem illustrated section 32 occurs often resulting low priority trac gaining channel access instead high priority trac thus pmac 7 delivers low priority packets flows 2 11 fewer high priority packets flows 5 8 proposed btps protocol20060010001400 flow id throughput flow kbps btps high priority flows figure 10 throughput flow scenario 1 six high priority flows 53 scenario 2 random topology generate eight random topologies 1000m1000m area total number nodes area increased num nodes total num flows num high priority flows 50 43 22 table 2 number high priority flows random topologies 10 80 step size 10 flows randomly chosen two nodes one hop away among flows half high priority flows sending rate 120 kbps remaining low priority flows aggressive sending rate 1500 kbps table 2 shows number high priority flows simulated topology delivery ratio high priority packets shown figure 11 see btps delivers high priority packets pmac cases 10 20 nodes corresponding numbers high priority flows 4 7 respectively pmac deliver many high priority packets btps case 80 nodes delivery ratio dierence btps pmac reaches 205 simulation results demonstrate severe contention among high priority flows cause significant performance degradation pmac0406081 delivery high priority flows number nodes btps figure delivery ratio high priority packets random scenarios comparison btps figure 12 presents aggregate throughput comparison btps pmac generated random sce narios increase number flows 1000m1000m area contention degree flow tends become higher btps ensures high priority pack ets delivery first low priority packets use much bandwidth possible satisfying requirements high priority flows hand pmac lacks capability resolve contention among high priority flows eciently situations high degree contention also low priority packets cannot make full use available bandwidth due larger interframe space duration reasons surprising proposed btps protocol provides higher aggregate throughput pmac 7 case 80 nodes btps gains 515 aggregate throughput pmac12001600200024002800 aggregate throughput kbps number nodes btps figure 12 aggregate throughput comparison btps pmac random scenarios 6 conclusion present priority scheduling mac protocol btps ad hoc networks use two narrowband busy tone signals btps ensures channel access high priority packets furthermore absence high priority packets low priority flows make full use available bandwidth btps simulation results demonstrate effectiveness btps protocol respect delivery ratio high priority packets aggregate throughput 7 r priority scheme ieee 80211 dcf access method radio equipment systemsres packet switching radio channels part ii hidden terminal problem carrier sense multipleaccess busytone solution dual busy tone multiple accessdbtma new medium access control packet radio networks distributed control algorithms service di cmu monarch project vint group tr efficient packet sensing mac protocol wireless networks realtime support multihop wireless networks distributed multihop scheduling medium access delay throughput constraints ctr xue yang nitin vaidya priority scheduling wireless ad hoc networks wireless networks v12 n3 p273286 may 2006 yang xiao yi pan differentiation qos guarantee optimization realtime traffic onehop ad hoc networks ieee transactions parallel distributed systems v16 n6 p538549 june 2005 marco caccamo lynn zhang capacity implicit prioritized access protocol wireless sensor networks journal embedded computing v1 n2 p195207 april 2005 kamal jain jitendra padhye venkata n padmanabhan lili qiu impact interference multihop wireless network performance proceedings 9th annual international conference mobile computing networking september 1419 2003 san diego ca usa luciano bononi luca budriesi danilo blasi vincenzo cacace luca casone salvatore rotolo differentiated distributed coordination function mac protocol clusterbased wireless ad hoc networks proceedings 1st acm international workshop performance evaluation wireless ad hoc sensor ubiquitous networks october 0404 2004 venezia italy ming li b prabhakaran mac layer admission control priority reallocation handling qos guarantees noncooperative wireless lans mobile networks applications v10 n6 p947959 december 2005 kamal jain jitendra padhye venkata n padmanabhan lili qiu impact interference multihop wireless network performance wireless networks v11 n4 p471487 july 2005 j jobin michalis faloutsos satish k tripathi case systematic approach wireless mobile network simulation journal high speed networks v14 n3 p243262 july 2005 thomas kunz multicasting mobile adhoc networks achieving high packet delivery ratios proceedings conference centre advanced studies collaborative research p156170 october 0609 2003 toronto ontario canada luciano bononi marco di felice lorenzo donatiello danilo blasi vincenzo cacace luca casone salvatore rotolo design performance evaluation cross layered mac clustering solutions wireless ad hoc networks performance evaluation v63 n11 p10511073 november 2006