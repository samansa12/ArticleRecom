tight bound approximating arbitrary metrics tree metrics paper show n point metric space embedded distribution dominating tree metrics expected stretch edge olog n improves upon result bartal gave bound olog n log log n moreover result existentially tight exist metric spaces tree embedding must distortion log ndistortion problem lies heart numerous approximation online algorithms including ones group steiner tree metric labeling buyatbulk network design metrical task system result improves performance guarantees problems b introduction 11 metric approximations problem approximating given graph metric simpler metric subject extensive research motivated several dierent perspectives particularly simple metric choice also favored algorithmic supported nsf grants ccr0105533 ccr 9820897 supported part dpst scholarship nsf grant ccr0105533 supported nsf grant ccr0105533 permission make digital hard copies part work personal classroom use granted without fee provided copies made distributed profit commercial advantage copies bear notice full citation first page copy otherwise republish post servers redistribute lists requires prior specific permission andor fee stoc03 june 911 2003 san diego california usa acm 1581136749030006 500 point view tree metric ie metric arising shortest path distance tree containing given points ideally would like distances tree metric smaller original metric would like bound distortion maximum increase however simple graphs eg ncycle distortion must n 41 7 25 circumvent karp 30 considered approximating cycle probability distribution paths showed simple distribution expected length edge twice original length gave competitive ratio 2 kserver problem cycle motivated approach alon karp peleg west 1 looked approximating arbitrary graph metrics distribution spanning trees showed upper bound 2 log n log log n distortion bartal 7 formally defined probabilistic embeddings improved previous result showing probabilistically approximate metrics tree metrics distortion olog 2 n unlike result alon etal 1 bartals trees spanning trees original graph additional steiner points however showed probabilistic approximation leads approximation algorithms several problems well first polylogarithmic competitive ratios number online problems note trees bartal used special structure termed hierarchically well separated meant weights successive levels tree diered constant factor important several applications konjevod ravi salman 34 showed bartals result improves olog n planar graphs charikar etal 17 showed similar bounds low dimensional normed spaces inspired ideas seymours work feedback arc set 45 bartal 8 improved earlier result olog n log log n course led improved bounds performance ratios several applications bartal also observed probabilistic embedding expander graph tree distortion least ast n paper show arbitrary metic space approximated distribution dominating tree metrics distortion olog n thus closing gap lower upper bounds result constructive give simple algorithm sample tree distri bution trees also heirarchically well separated like bartals gives improved approximation algorithms various problems including group steiner tree 24 metric labeling 19 32 buyatbulk network design 4 vehicle routing 16 give comprehensive list section 3 12 related work divide conquer methods used provide polylogarithmicfactor approximation algorithms numerous graph problems since discovery olog n approximation algorithm finding graph separator 36 algorithms proceeded recursively dividing problem using approximation algorithm using decomposition find solution typically approximation factor olog 2 n logarithmic factor came olog n separator approximation another olog n factor came recursion using frame work polynomialtime approximation algorithms many problems given 36 example crossing number vlsi layout minimum feedback arc set search number independently seymour 45 gave olog n log log n bound integrality gap linear programming relaxation feedback arc set problem techniques given olog 2 n bound developed technique balanced approximation factor separator based procedure cost recursion significantly improve bounds even et al20 introduced linear programming relaxations number problems combined sey mours techniques give olog n log log napproximation algorithms many problems previously olog 2 n approximation algorithms eg linear arrange ment embedding graph ddimensional mesh interval graph completion minimizing storagetime product sub set feedback sets directed graphs bartals results 8 implied olog n log log napproximations still problems moreover used probabilistic techniques bound expected stretch edge average led polylogarithmic competitive ratio algorithms number online problems oblivious adversaries metrical task system 10 charikar etal 16 17 showed derandomize approximation algorithms follow bartals embeddings work also follows line research embeddings low distortion graphs nice metric spaces good structural properties euclidean 1 spaces 37 26 18 43 23 work bourgain 14 showed finite metric n nodes embedded 2 logarithmic distortion number dimensions exponential n linial london rabinovich 37 modified bourgains result apply 1 metrics use olog 2 n dimen sions aumann rabani 3 linial london rabinovich 37 gave several applications including proof logarithmic bound maxflow mincut gap multicommodity flow problems also gave lower bound distortion embeddings general graphs 1 details point reader chapter 15 matousek 38 embeddings special graphs also considered many researchers gupta et al 26 considered embeddings seriesparallel graphs outerplanar graphs 1 constant distortion chekuri et al 18 show constant distortion embedding kouterplanar graphs planar graph rao 43 gave log ndistortion embedding 2 matched lower bound given newman rabinovich 39 graph decomposition techniques many interesting classes graphs also extensively studied example klein plotkin raos 31 result provided constant factor approximation graphs exclude fixed sized minors includes planar graphs similar results given charikar et al 17 geometric graphs 13 techniques algorithm relies techniques algorithm 0extension given calinescu karlo rabani 15 improved fakcharoenphol harrelson rao talwar 21 ckr procedure implies randomized algorithm outputs clusters diameter probability edge e cut de log n de length edge e analysis fact improved replace log n logarithm ratio number vertices within distance e vertices within distance 2 ie number times size neighbourhood e doubles 2 algorithm runs ckr like procedure diameters 2 get decomposition graph converted tree since total number doublings levels bounded log n 2 algorithm section outline algorithm probabilistically embedding n point metric tree show expected distortion distance olog n like previous algorithms first decompose graph hierarchically convert resulting laminar family tree 21 preliminaries define notation first let input metric v shall refer elements v vertices points shall refer pair vertices u v edge without loss generality smallest distance strictly 1 let denote diameter metric v without loss generality metric v said dominate v u v v case u v du v shall looking tree metrics dominate given metric let family metrics v let distribution say probabilistically approximates metric v every metric dominates every pair vertices shall interested probabilistically approximating arbitrary metric v distribution tree metrics parameter r rcut decomposition v partitioning v clusters centered around vertex radius r thus cluster diameter 2r hierarchical cut decomposition v sequence nested cut decompositions d0 d1 ie trivial partition puts vertices single cluster 2 cut decomposition refinement i1 note cluster d0 radius 1 hence must singleton vertex 22 decompositions trees hierarchical cut decomposition defines laminar family 1 naturally corresponds rooted tree follows set laminar family node tree children node corresponding set nodes corresponding maximal subsets family thus node corresponding v root singletons leaves also note children set i1 sets see figure 1 define distance function tree follows links node children tree length equal 2 upper bound radius induces distance function v u v equal length shortest path distance node u node v given length function easy see u v du v u v shall also like place upper bounds u v say edge u v level u v first separated decomposition note u v level 23 decomposing graph shall describe random process define hierarchical cut decomposition v probability edge u v level decreases geometrically first pick random permutation v1 v2 vn used throughout process also pick uniformly random interval 1 2 compute i1 follows first set 2 i1 let cluster i1 assign vertex u first according vertex v v closer u child cluster consists set vertices assigned single center v note center v need thus one center v may correspond one cluster inside dierent level 1 recall laminar family f 2 v family subsets v b f case b b 2 figure 2 possible hierarchical cut decomposition output algorithm varying thicknesses indicate cuts dierent levels see example center 8 figure 2 note since radius cluster 2 thus indeed get 2 cut decomposition formally algorithm partition v 1 choose random permutation v1 v2 vn 2 choose uniformly random 1 2 3 v 1 4 i1 nonsingleton clusters 41 42 421 every cluster i1 4211 create new cluster consisting unassigned vertices closer l 43 easy see algorithm implemented time 3 careful implementation actually made run time 2 ie linear size input fix arbitrary edge u v show expected value u v bounded olog n du v shall make attempts optimize constants analysis discussion follows ed pru v level 2 i2 1 shall show right hand side equation bounded olog n du v vertices u v separate clusters say separates u v note u v level separates u v b j separate u v j dias12 dias22 figure 1 converting laminar family tree note values put links ensure embedding expansion u v cannot cluster i1 ie i1 separates u v b u v cannot level let j smallest du v 2 i2 thus pru v level j shall bound probability u v level b j pru v level separates u v separates u v j j let k u j set vertices v closer 2 j vertex u let k u define k v similarly j j let k u consider clustering step level j iteration unassigned vertices v dv l assign l initial iterations procedure u v remain unassigned step l least one u v gets assigned center l say center l settles edge u v level first center least one u v get assigned note exactly one center settles edge u v particular level say center l cuts level settles e level exactly one u v assigned l level clearly separates u v center w cuts level hence cuts u v level say center w cuts u u v level w cuts u v level u assigned w v assigned w level center w shall bound probability w cuts u u v level let us arrange centers k u increasing order 2 though notation explicitly suggest k u etc defined respect edge u v distance u say w1 w2 wk u center ws cut u v u assigned ws must case du ws b c ws settles e thus must lie du ws dv ws see figure 3 triangle inequality dv ws dv u interval du ws dv ws length du v distributed uniformly 2 i1 2 probability falls bad interval du v2 i1 moreover value w1 w2 ws settle u v level hence first amongst permutation since random permutation probability ws one settle u v level 1s point easy see probability separates u v k u thus contributes olog n expected value u v equation 1 hence expected length bounded olog n log however promised show improved bound olog n shall observing total number centers levels n careful analysis procedure yield result let us first consider 4 since radius cluster level least 2 i1 centers close u center w cut uv centers settle uv value bi figure 3 bounding probability edge cut shaded rectangle represents center arrow marks indicate distances u v width shaded rectangle du v v never cut edge u v precisely w k u i2 u assigned w must case v gets assigned w also dv w dv udu w center ever cut u u v implies probability u gets cut edge e fact bounded k u sk u since u v cut either u v cut vertex overall probability separates u v du v2 i1 hk u bound probability du v2 i1 expected value u v therefore ed u v pru v level 2 i2 hk u hk u hk u third last inequality follows alternate terms summation hk u telescope thus shown edge u v expected value u v olog n du v hence theorem 1 distribution tree metrics resulting algorithm olog nprobabilistically approximates metric note choosing slightly dierent distribution ensure x 1 2 probability x x dx makes analysis simpler 3 deal corner cases omit details extended abstract 24 hsts tree said khierarchically well separated root leaf path edge lengths decrease factor k step bartal 7 8 constructed distributions trees hierarchically well separated trees conducive design divideand conquer type algorithms fact trees well separated used applications metrical task system10 metric labeling 32 note trees construct 2hsts bartal 8 also observed 2hst converted khst distortion ok later improved ok log combined result implies probabilistic embedding khsts distortion ok log n log k fact slight modification technique details omitted used directly get khsts k distortion k log n log k useful applications eg minsum kclustering 25 derandomization problem probabilistic approximation tree metrics asks distribution tree metrics expected stretch edge small dual problem find 3 somewhat less intuitive single tree weighted average stretch edges small precisely given weights wuv edges find tree metric u v v u v du v uvv wuv u v uvv wuv du v charikar etal17 showed solving problem enough applications moreover give deterministic algorithms algorithm previous section clearly gives randomized algorithm solves dual problem n however looking deterministic algorithms algorithm actually derandomized method conditional expectation follows algorithm described tosses coins choose 1 2 permutation since n 2 distinct distances many values mat ter suppose compute exactly expected cost tree chosen randomly find one expectation smaller average olog n choose permutation one vertex time use method conditional expectation need able com pute fixed prefix permutation expected cost tree expectation taken random choices rest assuming could polynomial time simply try possible choices next vertex permutation pick one maximizes conditional expectation remains show compute conditional expec tations given possibly empty prefix edge level either settled former case cost level already determined latter case know set vertices settle edge set vertices cut edge particular level thus compute exactly expected cost particular edge particular level linearity expectation compute total expected cost hence solve dual problem deterministic polynomial time fact computation simplified replacing exact value expected cost upper bounds used analysis thus using method pessimistic estimators 42 3 applications many problems easy trees partitioning algorithm give produces tree expected stretch edge olog n using result approximation ratios various problems improved following list favorite applications metric labeling problem previous result kleinberg tardos 32 gives olog k log log kapproximation algorithm based constant factor approximation case terminal metric hst result improves olog n also note archer talwar tardos 2 show earthmover linear program chekuri etal19 integral input graph tree using result approximation ratio improved ominlog k log n buyatbulk network design awerbuch azar 4 give o1approximation algorithm trees thus get olog napproximation algorithm minimum cost communication network problem problem 28 40 46 essentially dual problem defined section 25 hence get olog n approximation group steiner tree problem garg konjevod ravi 24 give olog k log napproximation algorithm trees thus obtain olog 2 n log kapproximation algorithm improving log n log bartal mendel 12 log log log n log log log metrical task system improving result bartal blum burch tomkins 10 fiat mendel 22 gave olog n log log ncompetitive algorithms hsts bartal mendels 12 multiembedding result thus gives log n log log ncompetitive ratio defined result improves olog 2 n log log n competitive ratio oblivious adversaries result also improves performance guarantees several problems vehicle routing 16 min sum clustering 11 9 covering steiner tree 33 hierarchical placement 35 topology aggregation 6 44 mirror placement 29 distributed kserver 13 distributed queueing 27 mobile user 5 refer reader 8 17 detailed descriptions problems 4 acknowledgements would like thank yair bartal helpful comments previous draft paper pointing us several aforementioned applications 5 r graphtheoretic game application kserver problem personal communication olog theorem approximation algorithm concurrent online tracking mobile users topology aggregation directed graphs probabilistic approximations metric spaces algorithmic applications approximating arbitrary metrics tree metrics constant factor approximation min sum clustering hsts polylogncompetitive algorithm metrical task systems approximating minsum kclustering metric spaces distributed kserver problema competitive distributed translator kserver algorithms lipschitz embeddings finite metric spaces hilbert space rounding via trees deterministic approximation algorithms group steiner trees kmedian approximating finite metric small number tree metrics embedding kouterplanar graphs 1 approximation algorithms metric labeling problem via new linear programming formulation improved approximation 0extension problem better algorithms unfair metrical task systems applications approximating bandwidth via volume polylogarithmic approximation algorithm group steiner tree problem steiner points tree metrics dont really help cuts trees l 1embeddings graphs competitive concurrent distributed queueing optimum communication spanning trees placement internet instrumentation excluded minors approximation algorithms classification problems pairwise relationships metric labeling markov random fields approximation algorithm covering steiner problem approximating planar metrics tree metrics placement algorithms hierarchical cooperative caching approximate maxflow mincut theorem uniform multicommodity flow problems application approximation algorithms geometry graphs algorithmic applications lectures discrete geometry lower bound distortion embedding planar metrics euclidean space deterministic polylog approximation minimum communication spanning trees lower bounds distortion embedding finite metric spaces graphs probabilistic construction deterministic algorithms approximating packing integer programs small distortion volume packing directed circuits fractionally polynomial time approximation scheme mimimum routing cost spanning trees tr probabilistic construction deterministic algorithms approximating packing integer programs concurrent online tracking mobile users excluded minors network decomposition multicommodity flow graphtheoretic game application kserver problem polylogitalicnitaliccompetitive algorithm metrical task systems ioilog iki approximate mincut maxflow theorem approximation algorithm approximating bandwidth via volume respecting embeddings extended abstract rounding via trees approximating arbitrary metrices tree metrics small distortion volume preserving embeddings planar euclidean metrics polynomial time approximation scheme minimum routing cost spanning trees placement algorithms hierarchical cooperative caching better algorithms unfair metrical task systems applications approximation algorithm covering steiner problem approximation algorithms 0extension problem approximation algorithms metric labeling problem via new linear programming formulation steiner points tree metrics dont really help approximating minsum italickitalicclustering metric spaces competitive concurrent distributed queuing lower bound distortion embedding planar metrics euclidean space lectures discrete geometry approximate maxflow minmulticut theorems applications improved approximation algorithm 0extension problem multiembedding path approximation metric spaces embedding ikiouterplanar graphs imyampersandelliinf1inf deterministic polylog approximation minimum communication spanning trees divideandconquer approximation algorithms via spreading metrics buyatbulk network design approximating finite metric small number tree metrics cuts trees embeddings graphs approximation algorithms classification problems pairwise relationships topology aggregation directed graph probabilistic approximation metric spaces algorithmic applications approximate classification via earthmover metrics ctr manthey nonapproximability weighted multiple sequence alignment arbitrary metrics information processing letters v95 n3 p389395 august 2005 matthias englert harald rcke matthias westermann reordering buffers general metric spaces proceedings thirtyninth annual acm symposium theory computing june 1113 2007 san diego california usa yair bartal bla bollobs manor mendel ramseytype theorems metric spaces applications online problems journal computer system sciences v72 n5 p890921 august 2006 anupam gupta amit kumar martin pal tim roughgarden approximation via cost sharing simpler better approximation algorithms network design journal acm jacm v54 n3 p11es june 2007