moderate deviations queues critical loading establish logarithmic asymptotics moderate deviations queuelength waitingtime processes single server queues open queueing networks critical loading results complement earlier diffusion approximation results b introduction paper complements classical results heavytraffic approximation queues kingman 7 prohorov 12 iglehart whitt 5 borovkov 1 reiman 19 studying related largedeviation asymptotics standard setup one considers sequence gigi1 queues indexed n associated loads ae n 1 n 1 establishes convergence distribution suitably timescaled normalized queuerelated processes processes diffusion type say processes n gamma12 w n nt denotes unfinished work virtual waiting time n th system time converge distribution skorohod j 1 topology reflected brownian motion drift 5 limits j different context unfinished work n gamma12 w n nt converge 0 probability p proper limit processes focus large deviation asymptotics latter case j specifically assume b n 1 b n thatb n study logarithmic asymptotics large deviations processes like b gamma1 wentzells classification large deviations wentzell 23 case moderate deviations since choice b specifies normal deviations b large deviations application viewpoint concerned queue behaviour times much greater 1 gamma ae gamma2 ae close 1 standard heavytraffic results refer time intervals order 1 gamma ae gamma2 accordingly distinguish standard heavy traffic refer regime specified condition 12 nearheavy traffic give outline paper summary results section 2 contains technical preliminaries section 3 consider fifo single server queues nearheavy traffic section 4 extends results case fifo open queueing networks homogeneous customer population results mostly form large deviation principles ldps spaces rightcontinuous functions left limits equipped one skorohods topologies skorohod 21 processes processes queue length unfinished work completed work waiting times number departures departure times occasionally give ldps onedimensional projections rate functions obtain quadratic form reminiscent distributions diffusion processes arising corresponding heavytraffic limit theo rems moreover ideas proofs either borrowed proofs corresponding convergence results could used give alternative proofs sense paper another evidence analogy large deviation theory weak convergence theory puhalskii 1316 2 technical preliminaries shall work function space dr rightcontinuous r valued functions 0 1 left limits endowed skorohod 21 j 1 1 topologies modification 1 topology denoted 0 1 refer 8 11 24 9 17 details spaces metrizable separable metric spaces borel oefields coinciding oefield generated coordinate projections denote xtgamma left limit deltaxt jump varadhan 22 say function ix defined metric space taking values 0 1 rate function sets fx ag compact 0 sequence probability measures borel oefield sequence random elements values distributions p n obeys large deviation principle ldp normalizing sequence n 1 rate function lim log closed f ae lim log open g ae standard choice normalizing sequence mention ldp always reduced standard form reparametrizing family fp 22 however allowing general normalizing sequence seems convenient applications refer 20 22 17 additional background say sequence fx n n 1g random elements metric space ae converges superexponentially probability rate n element x 0 2 ffl 0 lim write x n 1an mode convergence plays role large deviations similar role convergence probability plays weak convergence properties superexponential convergence probability invoke found puhalskii whitt 17 mention 23 holds one topologies j 1 1 0and x 0 continuous function starting 0 also holds locally uniform metric dr 17 lemma 42a following easy consequence contraction principle 22 comes handy lemma 21 let x n n z n random variables values metric spaces sx sz respectively let j sx theta theta sz endowed product topology assume sequence fx obeys ldp normalizing sequence n rate function xyz x z finite bijection sequences respective rate functions xz yz given equalities xz x yz dealing ldp stationary waiting times use following version lemma 41 puhalskii 15 lemma 22 let fp n n 1g sequence probability measures r rate function r bounds 21 22 hold sets obeys ldp rate function proof follows lemma 41 15 next easy lemma consequence extended contraction principle 17 continuity supremum map whitt 24 theorems 62 63 latter theorems carrying 0topology see argument proof theorem 51 17 detail lemma 23 let x paths dr sequence obeys ldp dr one topologies j 1 1 0 1 normalizing sequence n rate function x x equals infinity elements dr either discontinuous equal 0 0 every 0 0 lim 0st rate functions limit theorems generally defined terms solutions skorohod problems skew reflection 4 19 3 recall relevant definitions let k theta k matrix nonnegative entries spectral radius less unity denote p transpose p let r p denote map dr k dr k associating 1 2 componentwise nondecreasing k 3 z k 0 map r p well defined lipshitz continuous locally uniform metric dr k harrison reiman 4 reiman 19 mandelbaum 10 chen mandelbaum 2 onedimensional case reflection map denote r explicit following characterization skew reflection spirit lemma 31 18 lemma 46 15 proved argument lemma 24 let z 2 dr k componentwise nonnegative x 2 dr k componentwise absolutely continuous z z absolutely continuous exists absolutely continuous function 2 dr k properties thus ae solves linear complementarity problem 10 2 3 moderate deviations single server queues nearheavy traffic consider sequence fifo single server queues indexed n assume queues initially empty let n denote number arrivals n number customers served first units servers busy time n number departures q n queue length w n unfinished work c n completed work h n k waiting time k th customer l n k departure time k th customer let also cumulative service time first k customers denoting ffi composition map following obvious equalities positive numbers define associated normalized timescaled processes assume nearheavy traffic condition note 315 implies next theorem parallels results iglehart whitt 5 one hand theorems 31 41 puhalskii whitt 18 hand let us denote theorem 31 assume obeys ldp dr 2 one topologies j 1 1 0and normalizing sequence b 2 n rate function fq obeys ldp dr 3 topology normalizing sequence b 2 n rate function qdc q c inf b assume obeys ldp dr 2 one topologies j 1 1 1 normalizing sequence b 2 n rate function av v fw obeys ldp dr 2 topology normalizing sequence b 2 n rate function wc w c inf av v c assume obeys ldp dr 2 one topologies j 1 0and normalizing sequence b 2 n rate function case j 1 topology infinite either discontinuous equal 0 0 fq obeys ldp dr 4 topology normalizing sequence b 2 n rate function qdwc q w c inf assume obeys ldp dr 2 one topologies j normalizing sequence b 2 n rate function infinite either either discontinuous equal 0 0 sequence fq 1g obeys ldp dr 6 j 1 topology normalizing sequence b 2 n rate function qdwchl q w c h qdwchl q w c h proof begin proof 34 35 33 311 36 37 since q n nonnegative ds increases q 316 process q n 0 skorohod reflection process 318 lipshitz property reflection locally uniform metric kt 0 ldp imply lim lim 1an sup hence 322 318 since p ds p 1an 319 lemma 31 14 locally uniform metric dr c 0 1an e obvious extension lemma 43 17 implies ldp sequence obeys ldp required follows 320 317 321 continuity reflection nearheavy traffic condition 315 contraction principle argument parts b c similar b write 32 33 36 38 310 312 0 note ldp fa implies 17 lemma 42b 1an e 324 part c follows combining preceding arguments one notes 31 theorem 54 17 assumptions imply sequence obeys ldp dr 3 one topologies j 1 0 1 normalizing sequence b 2 n rate function asv prove since rate function equals infinity elements dr 2 either discontinuous equal 0 0 extended contraction principle 17 implies assumptions obeys ldp dr 2 j 1 topology rate function let u 0 324 lemma 42c 17 1an e 326 noting also l n conclude lemma 43 theorem 54 17 part c theorem proving fq obeys ldp dr 6 j 1 topology rate function 0 q w c h prove 1an conclude proof lemma 41c 17 since w n u 0 sup since equals infinity either one arguments either discontinuous function equal 0 0 part c theorem implies fw n n 1g obeys ldp dr j 1 topology rate function equals infinity discontinuous functions dr functions equal 0 0 lemma 23 0 sup 0st n 1 putting together 326 328 329 proves 327 theorem proved remark 31 let n denote cumulative servers idle time ie n 0ds n n since obviously n see 318 theorem provides ldp fi n n 1g well remark 32 parts c show hypotheses littles law holds rate function finite sufficient statistic sense lemma 21 consider case quadratic rate functions typical ldps partial sums triangular arrays iid sequences see lemma 61 17 14 example 72 partial sums interarrival times superpositions renewal processes see theorem 72 17 adopt convention eg rate function case oe theorem 32 let condition 315 hold assume obeys ldp dr 2 j 1 topology normalizing sequence b 2 n rate function z 1 absolutely continuous functions z 1 absolutely continuous functions otherwise following holds sequence fq obeys ldp dr 3 j 1 topology normalizing sequence b 2 n rate function qdc q c dt dt q c absolutely continuous nonpositive nonincreasing ae set qt 0 qdc q otherwise b sequence fq n n n 1g obeys ldp dr 2 j 1 topology normalizing sequence b 2 n rate function qd q dt dt q absolutely continuous nonnegative qd q c sequence fq obeys ldp dr 2 j 1 topology normalizing sequence b 2 n rate function qc q c 2oe 2 q c absolutely continuous nonnegative c nonpositive nonincreasing ae set qt 0 qc q sequence fq n n 1g obeys ldp dr j 1 topology normalizing sequence n rate function q nonnegative absolutely continuous e sequence fc n n 1g obeys ldp dr j 1 topology normalizing sequence n rate function c follows let ess sup ft 0g c c 2oe 2 z 1 c absolutely continuous otherwise r 0 c z kc c absolutely continuous proof application theorem 31a lemma 24 lemma 31 18 lemma 33 15 yields rate function part rate functions follow contraction principle particular part e proved analogy proof theorem 51b 18 inf q qc q c attained remark 33 let nt u n k defined 325 u n 31 easy extension theorem 54 17 multidimensional case assumed ldp sequence obeys ldp dr 2 j 1 topology normalizing sequence b 2 n rate function u u 2oe 2 u z 1 u absolutely continuous z 1 v absolutely continuous 3 specifically gigi1 queue ie n n renewal processes let us denote u n generic interarrival time v n generic service time ldp var either one following conditions met log nb n 1 follows lemma 61 theorem 54 17 remark 34 interesting compare c rate function arrived work since conditions theorem obeys ldp rate function easily follows processes v n ffi n nt gamma ntb n obey ldp dr j 1 topology normalizing sequence b 2 n rate function z 1 x absolutely continuous rate functions look similarly lemma 21 part theorem 31 allow us obtain ldps processes instance next result corollary 31 conditions theorem 32 following holds sequence fw n n 1g obeys ldp dr j 1 topology normalizing sequence b 2 n rate function w w 2oe 2 w nonnegative absolutely continuous b sequence fh n n 1g obeys ldp dr j 1 topology normalizing sequence b 2 n rate function h h nonnegative absolutely continuous proof proof suffices observe part theorem 31 lemma 21 w also project even get ldps onedimensional distributions illustrate give two examples denote r corollary 32 let conditions theorem 32 hold sequence fh n n 1g 0 obeys ldp r normalizing sequence b 2 n rate function ht b sequence fc n n 1g 0 obeys ldp r gamma normalizing sequence b 2 n rate function ct gammaz gamma2rz r remark 35 note ergodic case r 0 rate function fc n n 1g arrived work fv n ffi n follows remark 34 remark 36 know explicit expression l end section showing analogously diffusion approximation results ldps processes waiting departure times established directly without invoking ldps continuoustime processes ergodic gigi1 queue ldp holds stationary waiting times well cf prohorov 12 let us denote u th th arrivals v ni service time th customer n th system associated partialsum processes u 0 given v n k cumulative service time first k customers obvious equations waiting departure times let recall n th queue gigi1 queue waiting times h n k converge distribution k 1 proper random variable see eg borovkov 1 denote latter h 0 n let h 0 n theorem 33 let 315 hold assume f obeys ldp dr 2 one topologies j 1 1 0and normalizing sequence b 2 n rate function uv u v obeys ldp dr topology normalizing sequence b 2 n rate function h uv u v addition uv u v infinite v either discontinuous equal 0 0 obeys ldp dr 2 topology normalizing sequence b 2 n rate function hl h av v b consider sequence gigi1 queues conditions remark 33 hold assume r 0 sequence fh 0 obeys ldp r normalizing sequence n rate function h proof begin part part related h n use 24 333 335 38 313 e second claim use 334 335 314 313 38 fact hypotheses lemma 23 sup st v nbnsc1 b n n p 1an 17 prove part b argument borrowed corresponding proofs diffusion approximation results 12 since h 0 n distributed sup k0 v n borel subset r sup coincides distribution h n bntc corollary 32a obeys ldp rate function ht z lim t1 inf z2a ht lemma 22 implies required would follow lim lim n denoting since 1k2 l 1k2 l limit 336 follows lemma a1 appendix nearheavy traffic condition bn theorem proved 4 moderate deviations queueing networks nearheavy traffic extend results queueingnetworks setup results spirit reiman 19 consider sequence networks indexed n nth network homogeneous customer population consists k fifo single server stations network open customers arrive outside eventually leave let nk cumulative number customers arrived station k outside network interval 0 let nk denote cumulative number customers served station k first units busy time station call arrival process service process respectively note entries n may equal zero associate stations network processes phi phi denotes cumulative number customers among first customers depart station k go directly station l process referred routing process consider processes nk nk phi nk random elements respective skorohod spaces dr dr dr k accordingly n n phi n regarded random elements dr k respectively next introduce normalized timescaled versions arrival process service process routing process let nk 0 nk 0 p kl 2 0 1 nk nt nt nt b n 1 b latter processes considered random elements dr k denote first two vectors well elements r k regarded columnvectors analogy hypotheses section 3 assume positive nearheavy traffic condition holds r 2 r k particular denotes taking transpose either matrix vector also assume spectral radius matrix p less unity main concern queuelength process q denoting number customers station k time related processes treated analogously section 3 associated normalized timescaled process defined fix notation x 2 dr k componentwise nondecreasing nonnegative paths accordingly vector 0 subset j f1 set f denotes k vector entries j equal 1 rest entries equal 0 j c denotes complement j also denote r 0 interior r 1 k vector components equal 1 k set subsets f1 excluding empty set vectors theorem 41 let q nk nearheavy traffic condition 42 hold assume sequence obeys ldp dr k theta r k theta r k thetak one j 1 1 0 1 topologies normalizing sequence b 2 n rate function asphi oe obeys ldp dr k topology normalizing sequence b 2 rate function asphi oe b assume addition asphi following form asphi k k phi k oe k k k 2oe 2 ak z 1 k 2 dt k absolutely continuous k k z 1 k absolutely continuous k phi k z 1sup dt absolutely continuous oe kl symmetric nonnegativedefinite k theta k matrices assume symmetric nonnegativedefinite k theta k matrix gamma defined positive definite obeys ldp dr k j 1 topology normalizing sequence b 2 rate function j2k2 dt q absolutely continuous c assume processes nk mutually independent n assume processes nk nk renewal processes let u nk denote generic exogenous interarrival time nk generic service time station k let stations indexed k 0 either one following conditions met log nb n 1 addition routing mechanism depend n iid station p kl probability going directly station k station l conditions part b hold uk gammap kl p km also phi k oe k 2 oe kl dt 2 z 1 absolutely continuous oe kl remark 41 matrix gamma degenerate ldp part b holds rate function q provided definition expressions form 1x understood sup 2r k remark 42 expression phi k part c keep convention eg phi k z 1 absolutely continuous oe kl phi k oe k proof theorem 41 proof straightforward extension proof theorem 31 cf similar argument proofs corresponding weak convergence results 19 3 analogy 34 35 33 1 k k ds introducing 41 44 nl z t1q nk ds gamma z t1q nl ds implies hence lipshitz property r p ldp 42 fact gamma p nonsingular yield argument proof 323 since componentwise positive z t1q nk ds p 1an implying 1an e lemma 42b 17 lemma 43 17 enables us conclude sequence 1g obeys ldp dr k theta r k theta r k thetak rate function asphi given equality asphi oe oe claim part follows 46 contraction principle part b consequence part lemma 24 detail part lemma 33 15 lemma 24 asoe2dr k thetar k thetar k thetak k k phi k oe k z 1inf fffifl2r k thetar k thetar k thetak thetar k ak dt mean squares infimum integral ff fi fl fixed equals completes proof b conditions c imply conditions b lemma 61 17 expression phi k part c follows fact matrix sigma phik nondegenerate phik sup phik theorem proved remark 43 note matrix gamma part c coincides covariance matrix reimans result 19 remark 44 rate function part b explicit theorem 32 need solve quadratic programming problems appears generally done numerically remark 45 contraction principle allows us deduce conditions theorem onedimensional projections also obey ldps open question deriving explicitly rate functions corollary 32 difficult see optimal paths q must piecewise linear however solve explicitly case scherbakov 6 apply theorem 41 obtain ldps waiting sojourn times cf reiman 19 denote virtual waiting time station k time define n let w next vector denote number customers routing exogenously arrived nk denote sojourn time th exogenous customer routing n corollary 41 assume sequence obeys ldp dr k theta r k theta r k thetak one j 1 0 1 topologies normalizing sequence b 2 n rate function asphi oe case j 1 topology equals infinity unless continuous equal 0 0 sequence fq n w n obeys ldp dr k theta r k topology normalizing sequence b 2 n rate function qw q omega w qw q particular sequence fw n n 1g obeys ldp dr k rate function w omega w b assume addition rate function asphi oe equals infinity unless oe continuous equal 0 0 1an sequence fw obeys ldp dr k theta r j 1 topology normalizing sequence b 2 n rate function wy w wy w particular sequence fy nk 1g obeys ldp dr j 1 topology normalizing sequence b 2 n rate function k w w proof proof much similar theorem 41 give sketch let v nk denote cumulative service time first customers served station denote total number arrivals station k time introducing v nk analogy 45 analogy 48 view 43 lemma 42b 17 implies 1an e 410 therefore recalling 46 48 47 sequence 1g obeys ldp dr k thetar k thetar k thetar k thetak thetar k thetar k rate function asvphiqw v oe q w whenever finite following equations hold contraction principle sequence fq n w n obeys ldp dr k theta r k rate function qw q w infinity unless omega w application lemma 21 ends proof turn b note first argument proof part implies sequences j 1 topology rate functions equal infinity discontinuous functions functions equal 0 0 next let us denote u nk arrival time th exogenous customer routing vector k nki arrives th queue itinerary h nki time awaits service th station v nki time served th station obviously inequalities 412 account fact make assumptions mechanism resolving conflicts simultaneous arrivals next easily seen thatb n assumption 0 1an lemma 42c 17 w nk bntcn p 1an ldp fw n n 1g lemma 42c 17 sup st jdeltav nk sj p 1an fact fv n n 1g obeys ldp rate function equals infinity discontinuous functions functions equal 0 0 lemma 23 follows 411 412 413 sup 0 4 ldp fw 412 imply lemmas 41c 43 17 lemma 23 fh 1g obeys ldp dr l theta r k rate function h k1 h kl w h h e equal infinity otherwise proof completed noting l l using 415 lemma 41c 17 contraction principle corollary proved remark 46 routing mechansim described part c theorem 41 convergence 49 part b holds k follows theorem 63 18 lemma 42b 17 acknowledgement grateful ward whitt fruitful discussions suggesting theorem 33a marty reiman valuable comments content paper appendix state prove lemma used proof theorem 33b lemma a1 let f ni triangular array rowwise iid rv zero mean let b n 1 n 1 ff 0 exist ii exist n 0 b n proof argument uses ideas proof example 72 14 let conditions hold first prove exist c 1 0 0 0 doobs inequality see eg liptser shiryaev 9 theorem 191 0 ee 2 ee 2 ee 2 choosing ff2 get note since e chebyshev inequality hence fact large enough 0 together a5 proves a3 estimate a1 follows a3 inequalities part proved part ii write noting conditions part ii imply conditions part estimate first term right help a3 second use inequality first work second probability right 0 chebyshev inequality bntc next c nt taking t2 difficult see a9 a10 condition large enough exp gammac 00 similar argument bound seen hold finally first term right a8 estimated nt ee flj n1 j fi e flb n substituting estimates a7 finishes proof ii lemma proved r stochastic processes queueing theory russian nauka systems diffusion approximations open queueing networks service interruptions reflected brownian motion orthant multiple channel queues heavy traffic boundary effects large deviation problems queues heavy traffic weak convergence probability measures random functions function space theory martingales kluwer dynamic complementarity problem unified approach via graphs skorohods topologies function space transient phenomena queueing processes russian functional principle large deviations large deviations semimartingales via convergence predictable char acteristics large deviation analysis single server queue large deviations semimartingales maxingale problem approach functional large deviation principles first passage time processes functional large deviation principles waiting departure processes submitted open queueing networks heavy traffic large deviations performance analysis chapman hall limit theorems stochastic processes large deviations applications siam limit theorems large deviations markov random processes nauka useful functions functional limit theorems tr ctr kurt majewski sample path moderate deviations cumulative fluid produced increasing number exponential onoff sources queueing systems theory applications v56 n1 p926 may 2007