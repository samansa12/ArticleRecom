evaluation binarization methods document images abstractthis paper presents evaluation eleven locally adaptive binarization methods gray scale images low contrast variable background intensity noise niblacks method addition postprocessing step yanowitz brucksteins method added performed best also one fastest binarization methods b introduction currently large growing interest field document image analysis numerous research groups trying design systems extracting relevant information diverse documents engineering drawings maps magazines newspapers forms mail envelopes 1 2 3 systems binarization scanned gray level image labeling pixel print background done prior process ing paper focus binarization map images maps central large number public private agencies example utility maps film copies ordinary maps specialized information added form text symbols lines networks availability high quality digital geographical information systems created possibility flexible use maintenance utility maps however systems demand maps available digital format preferably vector representation associated text information symbolic form digitize map first scanned high resolution giving gray scale image binarized sub sequently symbol recognition line vectorization programs used label symbols text lines solid areas binary raster image however algorithms require high quality binary raster image able correctly identify information present professionally drawn map originals use offset printing usually fulfill requirement global binarization methods applied contrast print quality utility maps poor due extensive manual handling updating time giving areas variable background intensity low contrast stochastic noise therefore essential trier taxt university oslo department informatics po box 1080 blindern n0316 oslo norway email trierifiuiono torfinntorpkiuibno find binarization methods correctly label information present even low contrast areas map insensitive variable background intensity stochastic noise requirements exclude global binarization methods lead us evaluate best adaptive binarization methods available literature evaluation binarization methods requiring manual inspection subimages finetuning parameters excluded binarization algorithms intended part automatic digitizing system maps able process large number maps per time unit gray scale map image may consist billion pixels due large size small symbols typical utility map 1m 2 large scanned 50m pixel size 500 dpi 256 gray levels total seven subimages taken five gray scale map images used evaluation study subimage carefully selected contain particularly challenging areas low contrast variable background intensity stochastic noise eleven promising locally adaptive binarization methods could identify literature applied test images resulting binary images compared evaluated using five visual cri teria found postprocessing step ps yanowitz bruckstein method 4 improved binarization methods well niblacks method 5 ps performed best preliminary results work presented earlier 6 ii binarization methods global binarization methods calculate single threshold value entire image pixels gray level darker threshold value labeled print black otherwise background white locally adaptive binarization methods local methods compute threshold pixel image basis information contained neighborhood pixel methods calculate threshold surface pixel x input image higher gray level threshold surface evaluated x pixel x output image labeled background otherwise labeled print methods use explicit thresholds search print pixels transformed image tested following eleven locally adaptive binarization methods 1 bernsens method bm 7 2 chow kanekos method ckm 89 3 eikvil et als method etmm 10 4 mardia hainsworths method mhm 11 5 niblacks method nm 5 6 taxt et als method tfjm 12 7 yanowitz brucksteins method ybm 4 8 white rohrers dynamic threshold algorithm 9 parkers method pm 14 10 white rohrers integrated function algorithm wrm2 13 11 trier taxts method ttm 15 methods selected frequently referred literature appeared promising first eight methods use explicit thresholds threshold surfaces last three methods search print pixels located edges methods briefly described demonstrate global binarization inadequate threshold map images properly also tested four global binarization methods 1 abutalebs method 16 2 kapur et als method kswm 17 3 kittler illingworths method kim 18 4 otsus method om 19 latter two known optimal two different normality assumptions 20 cho et als improvement kim 21 used abutalebs method seemed promising global method since uses local information generate extra feature pixel followed twodimensional thresholding classify pixels bernsens method pixel x threshold x z high 2 used z low z high lowest highest gray level pixel values square r theta r neighborhood centered x however contrast measure neighborhood consists one class print background images wide print areas rarely occur pixel labeled background cases found good choices b chow kanekos method used nakagawa rosenfelds implementation 9 algorithm method calculates thresholding surface image divided nonoverlapping win dows histograms window tested bimodality part bimodality test histogram approximated mixture two gaussian distribu tions bimodal window threshold calculated based estimated parameters 1 bimodal mixture distribution thresholds interpolated give thresholds unimodal windows window thresholds smoothed thresholds individual pixels determined bilinear interpolation window thresholds fig 1 principle eikvil et als method large window l small window center moved across image zigzag fashion steps equal size pixel inside labeled print background basis clustering pixels inside l c eikvil et als method pixels inside small window thresholded basis clustering pixels inside larger concentric window l fig 1 let l slide across image steps equal side used windows sizes 3 theta 3 15 theta 15 pixels pixels inside l otsus threshold 19 calculated divide pixels two clusters two estimated cluster means apart userspecified limit pixels inside binarized using threshold value pixels inside assigned class closest updated mean value used mardia hainsworths method method first makes initial binarization using example otsus method 19 several steps iterated convergence reached first estimated mean number pixels n print background current binary image calculated threshold based values calculated pixel weighted mean g pixel eight neighbors computed g pixel classified print otherwise background weights may equal may calculated sophisticated timeconsuming manner 11 found two approaches gave equivalent binarization results images last step iteration smooth binary image using 3 theta 3 median filter e niblacks method idea method vary threshold image based local mean local standard deviation threshold pixel x calculated mx sx sample mean standard deviation values respectively local neighborhood x size neighborhood small enough preserve local details time large enough suppress noise found 15 theta 15 neighborhood good choice value k used adjust much total print object boundary taken part given object wellseparated print objects f taxt et als method image divided nonoverlapping windows size 32 theta 32 pixels histogram window approximated mixture two gaussian distributions parameters mixture estimated using expectationmaximization em algorithm 22 window pixels classified using quadratic bayes classifier em algorithm requires initial values estimated class means 1 2 mixing weight used 05 four parameter estimates obtained clustering 23 100 randomly selected pixels method gives abrupt changes window bor ders etmm 10 fact improvement method etmm use two windows avoids abrupt changes otsus method used fast approximation em algorithm g yanowitz brucksteins method potential surface passing image local maxima gradient used thresholding surface gradient magnitude image computed using ex ample sobels edge operator 24 jain dubuisson 25 used canny edge detector image thresholded thinned onepixel wide lines identify edge pixels input image smoothed 3 theta 3 mean filter potential surface constructed iterative interpolation scheme 4 interpolated surface made pass edge pixels interpolation residual rxy calculated nonedge pixel new pixel value p x iteration n 1 calculated rn yanowitz bruckstein recommend value fi lie interval 10 fi 20 fast convergence relaxation however found fi 10 resulted divergence chosen image binarized using threshold surface fi nally false print objects removed postprocessing step described h white rohrers dynamic thresholding algorithm method biased running average used threshold pixel location horizontal running average h pixel x z input image weighing factor f nonlinear function zx ygammahxgamma1 arguments vertical running average v pixel x weighing factor g nonlinear function guments order use information sides pixel thresholded number look ahead pixels used threshold x b bias function used number look ahead pixels x ydirection respectively nonlinear functions f g kindly provided lookuptables white 26 bias function b individually tuned class images parkers method method first detects edges interior objects edges filled first pixel x input image z calculate 8 eightconnected neighbors x thus negative gradient direction brightest neighbor found broken regions size r theta r region sample mean standard deviations calculated values smoothed bilinearly interpolated give two new images originating mean values standard deviations respectively pixels pixel regarded part flat region remains unlabeled else dx labeled print else x remains unlabeled resulting binary image highlights edges followed pixel aggregation region growing steps locate remaining parts print objects used following parame ters j white rohrers integrated function algorithm method applies gradientlike operator called activity image pixels activity manually set threshold labeled 0 pixels tested laplacian edge operator pixel positive pixel labeled otherwise gamma way threelevel labelimage constructed legal pixel values 0 gamma idea sequence labels edges identified gamma transitions gamma transitions object pixels assumed 0 labeled pixels gamma gamma pair 2 theta 2 region classified time requiring four pixels inside either horizontal vertical object pixel sequences parkers paper 14 test mxy gamma1 sx gamma1 fulfilled pixels since sx never negative gray level ghost object threshold surface classified object fig 2 cross section image illustrating ghost objects might occur based figure yanowitz bruckstein 4 k trier taxts method trier taxt 15 suggested following 3 improvements wrm2 1 input image smoothed 5 theta 5 mean filter 2 use search vectors abandoned instead marked regions labeled print gammamarked regions labeled background 0 marked regons labeled print majority pixels 4connected marked otherwise labeled background 3 postprocessing step yanowitz brucksteins method used remove false print objects l postprocessing step postprocessing step used ybm ttm remove ghost objects fig 2 incorporated methods well average gradient value edge printed object calculated objects average gradient threshold tp labeled misclassified removed main steps algorithm given 1 smooth original image 3 theta mean filter remove noise 2 calculate gradient magnitude image g smoothed image using eg sobels edge operator 24 3 select value tp automatic method specify tp given image specified trial error see 4 4connected print components calculate average gradient edge pixels edge pixels print pixels 4connected background remove print components average edge gradient threshold tp iii experimental methodology results present evaluation results published methods first add postprocessing step describe improved results four test images shown along 19 binarization results image give reader fair impression methods test images maps scanned sysscan flatbed scan ner pixel size 50m 256 gray levels reso lution even finest details maps preserved grayscale image four images shown negative image 256 theta 256 pixels fig 3a scanned negative utility map shows two bright numerals weak lines cable image 512 theta 512 pixels fig 4a scanned paper copy map showing dense network electricity cables courtesy oslo energi norway hydro image 256 theta 256 pixels fig 5d scanned hydrographic original courtesy norwegian mapping authorities shows depth numbers contours part norwegian coast base map image fig 5d shows seriously degraded part base map courtesy asker skiklubb norway drawing film small additional pieces film attached using transparent tape joints portion shown image contains four film pieces two tape pieces b evaluation procedure ground truth available usually case real data use visual criteria evaluating binarization results result applying binarization method test image evaluated using following five criteria 1 broken line structures gaps sizes lines roughly counted large gaps considered worse small 2 broken symbols text etc symbols text characters gaps roughly counted degree fragmentation also assessed 3 blurring lines symbols text number blurred print objects degree blurring assessed 4 loss complete objects number print objects completely lost roughly counted 5 noise homogeneous areas number size noisy spots false objects background print estimated scale 15 used criterion thus method maximum score single test image 25 maximum total score one method 7 test images 175 performance evaluation blind test test image order 19 binarized images selected random independently seven different test images expert field image binarization evaluated binary images 15 scale used relative scale discriminate much possible criterion scores criterion adjusted weighted comparing binary image binary images originated test image scored equally well base map image exceptional since representative map images digitized therefore ranking methods based total score test scores binarization methods best scores shown boldface execution times given cable image 512 theta 512 pixels unix workstation silicon graphics indy image number sum sum execution method locally adaptive methods yanowitzbruckstein ybm 17 24 21 21 triertaxt ttm 21 20 21 niblack nm 20 19 19 eikviltaxtmoen etmm bernsen bm whiterohrer parker pm 17 15 14 14 19 mardiahainsworth mhm 9 taxtflynnjain tfjm 9 whiterohrer ifa wrm2 global methods kapursahoowong kswm 12 14 abutaleb 8 kittlerillingworth kim 9 9 modified locally adaptive methods niblack nmps 23 21 24 22 23 25 22 160 138 1 3 eikviltaxtmoen etmmps 21 23 22 23 21 23 14 147 133 2 bernsen bmps 19 20 23 24 22 24 24 156 132 3 3 parker pmps 17 3cable image 5hydro image b nakagawa rosenfelds implementation images 16 still base map image gives us useful insight different methods behave difficult situation alternative evaluation method would apply automatic symbol recognition line vectorization algorithms binarized images quantify binarization quality early attempt reported 27 c results c1 published methods existing methods ybm best overall somewhat better ttm table local methods gave rather poor binarization results least one test image addition base map image none global methods gave reasonable binarization results test images applied negative image iwrm best small gaps middle vertical line small noisy spots background fig 3c tiny line near top right corner lost due use median filtering three level label image see improvement wrm2 remarkable fig 3d nm captured lines numerals well background noisy fig 3e etmm gave three large gaps lines part line passing 0 almost lost tiny noisy spots background present fig 3h like nm pm bm gave lot background noise fig 3km gave gaps lines pm made lines blurred well ybm mislabeled top half middle vertical line background fig 3g wrm1 gave many gaps lines completely lost part line passing 0 fig 3j ckm mhm tfjm lost important details image fig 3oq global methods fig 3ru global methods kswm performed best fig 3r scored better two local methods lowest total score table applied cable image ybm resulted minor gap numerals gaps lines fig 4c iwrm gave noisy spots attached lines numerals fig 4d etmm captured numerals well gave gaps lines produced several small mediumsized noisy spots background fig 4e bm kept much background noise fig 4f om best global methods even better five local methods however lines smeared especially junctions weak lines almost vanished numerals fragmented fig 4g applied hydro image ybm performed best overall still many numbers attached lines numerals fig 5e global methods om performed best numerals smeared many numerals attached print objects ybm fig 5f base map image difficult image published methods difficulties capturing essential details bm performed best retained much background noise fig 5h applied test images c2 performance postprocessing step postprocessing step used ybm iwrm added etmm nm bm pm four meth ods mislabeled objects removed postprocessing step except pm modified methods scored higher original counterparts seven test im ages postprocessing step added methods serious defects postprocessing step could repair nmps best method overall slightly better etmmps bmps table applied negative image nmps best one gap lines noisy spots fig 3i etmmps bmps pmps gave gaps lines fig 3jl cable image bmps best fig 4i etmmps performed almost well fig 4h methods postprocessing step removed almost noisy spots hydro image nmps performed almost well ybm fig 5g shortcomings bmps best base map image performed remarkably well difficult image fig 5i lines symbols captured although noisy spots attached tape strips left marks etmmps special problems resulting horizontal stripes regions due use updated class mean values regions one class present regions current values updated class mean print background tend one range values oddnumbered rows sliding left right fig 1 contrasted another range values evennumbered rows sliding opposite way selected parameter p manually trial er ror best identified value tp close mean value g gradient image g six seven test images thus always used nm bm fastest local methods according execution times cable image table even addition postprocessing step two methods faster local methods iv discussion evaluated promising published locally adaptive binarization methods experimental results range gray scale images maps low print quality indicates single method performs better methods images evaluation scheme yanowitz brucksteins method 4 best overall performance published methods slightly better improved white rohrers method 15 furthermore inclusion postprocessing step used yanowitz bruckstein method lead improvement binarization methods adding postprocessing step niblacks method 5 best followed eikvil et als method 10 bernsens method 7 five methods significantly better methods believe images like hydro image better binarization results achieved original map scanned even higher resolution example 25m pixel size instead 50m expect fewer numerals attached print objects bi narization however numerals still suffer problem actually unintentionally written attached objects original map generally even best local method necessarily give sufficiently high quality binarization results could used automatic processing map may simply low printing quality available automatic binarization method work properly cases direct recognition objects gray scale image may better alternative evaluation study includes seven test images still believe images contain numerous challenges establish tentative ranking locally adaptive binarization methods applicable wide range images document image applications probably sufficient implement best methods postprocessing step included method automatically determine threshold tp must found acknowledgments thank anil k jain fritz albregtsen knut liestl xinli wang useful discussions work supported research council norway r special issue postal processing character recognition new method image segmentation introduction evaluation binarization methods utility map images dynamic thresholding greylevel images shown black automatic detection left ventricle cineangiograms experiments variable thresholding fast adaptive method binarization document images spatial thresholding method image segmentation segmenta tion document images image thresholding optical character recognition applications requiring character image extraction gray level thresholding badly illuminated im ages automatic thresholding graylevel pictures using twodimensional entropy new method graylevel picture thresholding using entropy togram minimum error threshold ing threshold selection method graylevel histograms maximum likelihood thresholding based population mixture models statistical analysis finite mixture distributions algorithms clustering data segmentation xray cscan images fiber reinforced composite materials goaldirected evaluation binarization methods tr ctr ilya blayvas alfred bruckstein ron kimmel efficient computation adaptive threshold surfaces image binarization pattern recognition v39 n1 p89101 january 2006 ivind due trier anil k jain goaldirected evaluation binarization methods ieee transactions pattern analysis machine intelligence v17 n12 p11911201 december 1995 abraham r abraham desolneux lithiaote significant edges case nonstationary gaussian noise pattern recognition v40 n11 p32773291 november 2007 victor wu r manmatha edward riseman finding text images proceedings second acm international conference digital libraries p312 july 2326 1997 philadelphia pennsylvania united states ankush mittal ankur jain ganesh k agarwal audiovideo based people counting security framework traffic crossings journal vlsi signal processing systems v49 n3 p377391 december 2007 cline thillou silvio ferreira bernard gosselin embedded application degraded text recognition eurasip journal applied signal processing v2005 n1 p21272135 1 january 2005 michael droettboom ichiro fujinaga karl macmillan g sayeed chouhury tim dilauro mark patton teal anderson using gamera framework recognition cultural heritage materials proceedings 2nd acmieeecs joint conference digital libraries july 1418 2002 portland oregon usa hemachander verma arora prasanta k panigrahi locally adaptive block thresholding method continuity constraint pattern recognition letters v28 n1 p119124 january 2007 salvatore tabbone laurent wendling multiscale binarization images pattern recognition letters v24 n13 p403411 january badekas n papamarkos optimal combination document binarization techniques using selforganizing map neural network engineering applications artificial intelligence v20 n1 p1124 february 2007 ardhendu behera denis lalanne rolf ingold docmir automatic documentbased indexing system meeting retrieval multimedia tools applications v37 n2 p135167 april 2008 george nagy twenty years document image analysis pami ieee transactions pattern analysis machine intelligence v22 n1 p3862 january 2000 k jain n murty p j flynn data clustering review acm computing surveys csur v31 n3 p264323 sept 1999