storage allocation policies timedependent multimedia data abstractmultimedia computing requires support heterogeneous data types differing storage communication delivery requirements continuous media data types audio video impose delivery requirements satisfied conventional physical storage organizations paper describe physical organization multimedia data based need support delivery multiple playout sessions single rotatingdisk storage device model relates disk characteristics different media recording playback rates derives storage pattern storage organization guarantees long multimedia delivery process running starvation never occur furthermore derive bandwidth buffer constraints disk access present approach minimize latencies noncontinuous media stored device analysis numerical results indicate feasibility using conventional rotating magnetic disk storage devices support multiple sessions ondemand video applications b introduction files comprised multimedia data different conventional data files many spects shown table 1 multimedia data hence files consume enormous space bandwidth relative program files text documents example single featurelength jpegcompressed movie require 2 gbytes memory digital storage multimedia data also sensitive timing delivery user playsout records timedependent multimedia data object system must consume produce data constant gapfree rate means file system must ensure availability sufficient data buffer space playback recording process example maintain continuous ntscquality video playback file system must deliver data rate framess moreover delivery mechanism must also satisfy intermedia synchronization requirement among related media eg lip synchronization audio video subtitles table 1 properties multimedia data data type bufferbandwidth single text document html 80 kbdocument voicequality audio 8 bits 8 khz 64 kbs cd quality audio stereo 441 khz 14 mbs ntscquality video uncompressed 59 mbframe 512 theta 480 pixels 24 bitspixel 177 mbs jpegcompressed ntsc video 7 mbs 35 mbs mpegicompressed ntsc video 15 mbs mpegiicompressed ntsc hdtvquality video uncompressed 287 mbframe 1248 theta 960 pixels 24 bitspixel 863 mbs multimedia file system must reconcile deficiencies conventional storage subsys tems typical storage subsystem accesses data positioning read heads desired location data block random allocation approach regardless timedependency multimedia data increases head seek switching frequencies resultant access latency addition electromechanical nature secondarystorage devices requires use scheduling disciplines modified meet throughput realtime requirements multimedia data delivery multimedia file system transfers data disk must guarantee multimedia data arrive consuming device time must also meet timing requirements multimedia object however task difficult due unpredictability disk seek latencies furthermore multitasking system one user request multimedia nonrealtime services thereby requiring management multiple sessions contrast data allocation scheduling strategies conventional file systems concerned throughput latency storage utilization random access files therefore seek provide realtime behavior set multimedia sessions originating single storage system typically conventional rotatingdisk magnetic storage device note constrain cases aggregate bandwidth sessions less equal capacity provided single device consider raid data distribution approaches context number related works exist area problem satisfying timing requirements multimedia data studied conceptual database problem 11 operating system delivery problem 1 12 13 22 physical disk modeling problem 6 9 10 18 physical data organization performance problem 5 7 8 14 21 23 24 rangan et al 16 propose model storing realtime multimedia data file systems model defines interleaved storage organization multimedia data permits merging timedependent multimedia objects efficient disk space utilization related work rangan et al 15 develop admission control algorithm determining new concurrent access request accepted without violating realtime constraints existing sessions polimenis 14 shows hard requirement acceptance set realtime sessions availability disk bandwidth buffer space gemmell christodoulakis 8 establish fundamental principles retrieval storage timedependent data theoretical framework developed realtime requirements multimedia object playback storage placement strategies multichannel synchronized data also examined p yu chen kandlur 24 present access scheme called grouped sweeping scheme gss disk scheduling support multimedia applications reducing buffer space requirements c yu et al 21 23 describe approaches interleaving timedependent data support constant playout rates tobagi et al 20 develop streaming raid approach handle video traffic disk array chiueh katz 4 propose multiresolution video representation scheme based gaussian laplacian pyramids allows parallel disk array deliver absolute minimum amount data necessary paper propose physical data organization file system multimedia data interleave different media objects within block maintain temporal relationships among objects retrieval fig 1 also define allocation policy based contiguous approach prevent frequent head movement cause significant seek latencies support editing multimedia files behavior conventional magnetic rotatingdisk storage device analyzed respect mean variance seek latency disk track video audio text reserved figure 1 physical storage organization rotating disk device roundrobin scheduling discipline chosen service multimedia sessions work 12 14 17 permitting disk switch alternately multimedia tasks nonrealtime tasks file system achieves high disk bandwidth utilization assigning long disk reads writes thus sharing seek latency delays among large number bits read written resulting small overhead per transferred unit introduce disk access schedule refined model based work polimenis 14 show constraints must satisfied permit acceptance set multimedia sessions including bandwidth buffer considerations work differs approaches establish probabilistic model disk access schedule accept set sessions rather using guarantee worst case frequency starvation remainder paper organized follows section 2 describe storage organization allocation policy multimedia objects facilitate disk bandwidth uti lization section 3 analyze probabilistic behavior disk seek latency section 4 show access schedule disk present periodic service discipline multimedia objects based probabilistic model section 5 describe schedule reduces required buffering increases number supported multimedia sessions section 6 concludes paper storage organization multimedia objects existing storage server architectures employ random allocation blocks disk type organization sufficient meet real time requirements multimedia applications disk latency blocks media object unpredictable 17 file system cannot guarantee satisfaction deadline retrieval multimedia data view multimedia object entity comprised mixedtype data components without loss generality model typical multimedia object comprised audio video text three components viewed distinct even though might recorded time 17 retrieval three streams sent three output queues playout ultimately experienced user timing perspective data streams arrive file system specific implied timing eg live audio arrive file system arbitrarily example live video audio recorded time subtitles recorded later leads us issue data interleaving maintaining intermedia synchronization advantage interleaving multiple data streams single layout preservation timing related steams penalty scheme overhead associated data combination redistribution layouts also called homogeneous non interleaved heterogeneous interleaved layouts 17 homogeneous layout stipulates storage single medium data blocks without interleaving however timing relationships among media stored part interrelated media homogeneous approach medium requests session roundrobin schedule retrieving multimedia object file system must switch sessions consume additional disk bandwidth degrade throughput problem heterogeneous approach merge different media data within block based temporal relationships treat aggregation data single media object fore one session multimedia object heterogeneous approach reason use heterogeneous layout approach work approach multiple media streams recorded stored within block length object proportional consumption rate terms intramedia timing interleaving data becomes important maintain smooth gapfree playout extreme case contiguous space allocation yields highest effective bandwidth disk penalty costly reorganization data insertions updates 1 interleaved policy multimedia data stored disk interleaved fashion 16 17 21 23 approach guarantee continuous retrieval smooth speed gap disk multimedia devices therefore reduce buffer requirement significantly usually applied optical disks single user environment 2 contiguous policy multimedia data stored disk contiguously policy also provide continuous retrieval entails enormous copying overhead insertions deletions 16 however efficient way bandwidth utilization 14 approach used data seldom modified readonly digital entertainment video approach refine contiguous scheme using twotiered structure first level propose doublylinked list created based temporal relations multimedia object 11 item list contains pointer points disk address media block reason doublylinked list structure support reverse playback multimedia objects second level store multimedia data indicated first level permitting reversal multimedia presentation moment multimedia objects stored sequentially disk subsequent media blocks put adjacent unoccupied blocks disk track cylinder becomes full next block occupied policy places multimedia data next nearest available block 3 disk latency bandwidth support multimedia data requires manipulation large files support large data consumption rates responsibility file system organize data efficient storage delivery within space io bandwidth limitations disk drive subsystems dominant inhibitor achieving maximum disk io bandwidth seek latency however seek latency reduced contiguous writes reads timedependent multimedia data data become fragmented discontinuous effective disk bandwidth diminishes due additional seek rotational latencies involved discontinuity table 2 disk parameters symbol identification value units dt size single track 54900 bytes n head number tracks cylinder number disk heads 15 tracks hh time change head another surface 2000 tt time cross track 21 rot rotation time disk 16700 r data transfer rate within track 329 mbytes c number cylinders per disk 2107 cylinders modeling approach consider latencies attributed data fragmentation well session switching latencies proposed scheduling approach disk cycled set independent multimedia sessions sessions exist many cycles access unpredictable due user interaction eg start stop reverse significant session switching latencies section determine disk latencies distributions analysis typical hard disk storage unit suitable unix workstation 19 parameters characterizing device summarized table 2 using symbols adopted extended kiessling 10 31 delay latency user edits multimedia file file system schedules another process access disk next block retrieved arbitrarily located anywhere device disk head must start cross number tracks switch recording writing surface rotate indicated block assuming location desired block uniformly distributed whole disk total latency latency cross arm positioning time disk head move correct track switch delay switch head surface rotate delay disk rotation derived various statistical disk performance behaviors base parameters summarize table 3 table 3 derived statistical disk behavior symbol equation value units ms et cross ms cross ms 2 oe cross pt tt 104 ms et switch ms head ms 2 oe switch ms et rotate ms rotate rot 9296 ms 2 oe rotate pt rot 964 ms et latency ms latency rot 2016 ms 2 32 disk bandwidth normalization ideal disk storage organization data accessed without latencies data transfer rate bandwidth dependent disk rotational speed real disk latencies introduced due track platter switching disk rotation latencies determined layout data disk scheduling policy access normalize data transfer rate based complete disk scan policy follows head reaches retrieves first block object retrieves adjacent block track whole track retrieved switches next surface remains cylinder whole cylinder retrieved disk arm crosses next track normalize considering head motions complete scan define size block frequency switching head disk p switch size cylinder dt theta n head thus frequency p cross arm cross next track p let tm time transfer block disk optimal case period latency 1 latency 2 latency 3 leftover session 1 session 2 session 3 playback recording figure 2 layout model dt theta n head represents minimum transfer time transfer single byte disk dt theta n head maximum transfer rate onto disk normalize disk bandwidth r r 1 1 therefore use derived value maximum effective bandwidth data transfer disk 4 disk access scheduling section show constraints acceptance set multimedia sessions requirements buffer size disk bandwidth 41 scheduling layout model layout model polimenis 14 working period period defined set multimedia tasks nonrealtime tasks shown fig 2 working period schedule switches among multimedia sessions carries enough data buffer ith session keep task busy term active next working period r whole disk bandwidth derived equ 1 session shares interval proportional consumption rate r c amount data accessed equal amount consumed period period follows r c r period 2 equation r c represents consumption rate session let ith session contain k different media data video audio text etc viable multimedia data delivery bandwidth lost due task switching latencies plus bandwidth consumed multimedia session must less normalized disk bandwidth period fixed unless change number sessions 42 bandwidth requirements section derive bandwidth constraint based roundrobin scheduling model let ni number bytes accessed medium working period period total number bytes n read period period time interval media proportional bandwidth requirement r thus period theta r c r c r c r c 3 shown fig 2 total interval used multimedia sessions plus disk seek latency less working period period order sufficient bandwidth nonrealtime tasks hand period period must greater time needed worst case transfer data disk sessions suppose multimedia sessions let r total disk bandwidth latency task switching latency sessions r latency r c 4 ni r c equal period maintain steadystate means amount data read disk session period exactly equal amount data consumed ith consumer process thus equ 4 latency latency r r c latency r c latency righthand side equation divided two parts first part bandwidth requirement multimedia sessions second part factor due seek latency two sessions thus r c r seek 5 latency latency 6 r seek bandwidth wasted lost disk head switched sessions 43 buffer requirements section 41 showed bandwidth requirements set multimedia sessions without considering acceptability terms buffer utilization layout model time buffer use latency period figure 3 buffer consumption session shares part period fig 2 session must carry enough data buffer keep process busy reserviced otherwise process starves therefore second condition accept set multimedia sessions availability sufficient buffer space illustrated fig 3 session shares duration disk access session active buffer size increases rate r gamma r c outside duration buffer size shrinks rate r c let bi buffer requirement session bi r c theta period gamma let b total buffer rewriting get therefore defined buffer constraint applied determine feasibility adopting additional multimedia sessions 44 length period period fig 2 equ 4 show period period must greater sum individual session periods order transfer data disk sessions let leftover duration shown fig 2 period disk spends transfer transfer data period session shares duration based consuming rate r c therefore latency r c maintain steadystate system data read disk session must equal amount consumed period period otherwise buffer starve grow without bound thus latency theta r let u utilization let c total latencies minimum period set multimedia sessions 14 equ 8 latency represents seek latency corresponding switch session next retrieval session allocated anywhere disk latency latency random variable section 3 derive average seek latency variance seek latency let et latency average seek latency latency variance seek latency table 3 expectation et variance oe 2 equ 8 follows latency theta r latency theta r equations know also random variable cannot assign lower bound period min period let p probability starvation tolerated mth session chebychevs inequality p jt min period et frequency starvation et probability figure 4 distribution means lower bound min period chosen probability mth session accepted successfully greater equ 10 choose period equal lower bound et guarantee starvation rate session less p equation 10 always true however mean starvation rate equal p heavy load situation number multimedia sessions large law large numbers starvation rate approach p light load case starvation rate much lower p conversely use shorter period period keep starvation rate p period period set multimedia sessions must meet two hard requirements section 42 derived bandwidth requirement sufficient determine whether accept set multimedia sessions system must also provide sufficient buffering multimedia session lightly loaded situation always enough buffering support multimedia sessions however buffering becomes significant number multimedia sessions large case compared period period duration assigned multimedia session small simplify equ 7 ignoring result still valid r c 11 equation see buffer requirements dependent length period period let b max maximum buffer space available upper bound max period period accepted set multimedia sessions otherwise total buffer requirements exceed available buffer space b max equ 11 equs derived general case consumption rates multimedia sessions different values real applications disk bandwidth requirements multimedia sessions value following example assume simplicity consumption rates multimedia sessions evaluate buffer consumption number sessions supported example 1 example assume multimedia sessions request disk bandwidth r c multimedia session includes video data rate 192 mbframe framess 201 compression ratio audio data rate 14 mbs 41 compression ratio multimedia session consumes disk bandwidth rate 04 mbytes using disk parameters tables 2 3 pick average disk latency et latency equal 35 965s standard deviation oe latency equal 14 212s equ 10 let p 005 derive lower bound different numbers supported sessions using equ 10 assuming availability 16 mbytes main memory assigned buffering upper bound period determined equ 12 table 4 file system performance example 1 100 bandwidth utilization 100 buffer allocation period ms buffer allocation bytes max period ms bandwidth utilization 6 14013 28163000 6667 10080 insufficient memory let n number multimedia sessions min period lower bound period min period chosen disk bandwidth left equ 7 know buffer requirement minimized fr c theta min r c r period n theta r c theta min period theta 1 gamma r c r 05152535xsec number multimedia sessions period lower bound upper bound figure 5 number sessions vs period length results analysis summarized table 4 third column presents buffer requirement n multimedia sessions chose min period fourth column indicates upper bound period case entire 16 mbytes memory assigned buffering allowing us minimize use disk bandwidth given constraints layout model period period equal sum durations assigned multimedia sessions plus session switching latency sessions plus leftover used nonrealtime process fig 2 percentage p disk bandwidth consumed multimedia sessions considered interval assigned multimedia sessions plus disk latency lost task switching multimedia sessions divided length period latency period r c r n theta latency period fifth column table 4 show percentage disk bandwidth consumed multimedia sessions upper bound max period chosen increase number supported sessions buffer bandwidth requirements increase fig 5 five multimedia sessions accessing file system system perform within constraints cannot accept additional multimedia sessions case additional session causes request 28163000 byte buffer 1008 disk bandwidth exceed capacity system analysis presented sections 3 4 appropriate describe considerations choosing length roundrobin scheduling period describe impact session consumption rates 51 consideration choosing period two hard requirements must met choosing length period otherwise system cannot function given workload period must greater min period meet bandwidth requirement less period meet buffer requirement constraints summarized period new multimedia session accepted satisfies relationship fig 5 illustrates ranges sessions supported satisfy constraints region enveloped lower bound upper bound safe table 4 sixth session lower bound period min period 14 013 ms upper bound max period 6 667 ms since min period know file system cannot accept six multimedia sessions time estimate upper lower bound conservatively due large assumed real upper bound larger lower bound lower derived however number sessions increases estimates approach real upper lower bounds two justifications assumption first lightly loaded case always enough resources use concerned heavily loaded situation number multimedia sessions large second necessary wise chose period period close either upper lower bounds degradation throughput nonrealtime data transfers generalpurpose machine multimedia file system meet hard requirements also must leave enough bandwidth nonrealtime transfers let period percentage disk bandwidth used read data disk nonmultimedia jobs every period period set multimedia sessions maximized period 14 means increase period period additional disk bandwidth leftover nonmultimedia tasks memory perspective multimedia file system must minimize buffer utilization make memory available system tasks equ 11 see period period buffer requirement minimized two results seek increase period disk bandwidth nonmultimedia traffic also reduce period free memory nonmultimedia tasks extreme case minimize period value minimize buffer requirement maximize free memory nonmultimedia tasks time leftover disk bandwidth zero similarly maximizing period free maximum disk bandwidth nonmultimedia processes use also result complete memory consumption case even disk ample bandwidth available nonmultimedia process use thus two soft requirements conflict improve response time nonmultimedia processes change period period dynamically feedback operating system balance resource allocation example tasks suspended due disk bandwidth shortages free buffer space available file system extend period period order disk bandwidth assign nonmultimedia processes nonmultimedia processes waiting memory disk idle leftover interval file system shrink period period order free memory additional nonmultimedia processes table 5 refined model vs worst case refined model worst case period ms buffer allocation bytes period ms buffer allocation bytes multimedia ondemand server file system need provide service multimedia processes situation chose lower bound achieve highest disk utilization given physical disk characteristics determine buffer requirements fig 3 equ 7 know amount consumed buffer space determined period length period equ 8 period length depends sum random variables latency assume worst case take maximum value task switching latencies latency decide period length assumes starvation never happen practice rarely happen refined model define acceptable rate nonstarvation derive period length guarantees set multimedia sessions accepted least probability q starving table 5 define 95 case five multimedia sessions system save 208 available memory 52 consumption rate multimedia sessions several factors effect consumption rate multimedia session important factor data compression ratio affecting multimedia data example video data compression ratio range 110 1100 uncommon fig 6 show set constrained bandwidthbuffering regions sessions differing data rates due range compression rates parameters otherwise identical example 1 figure illustrates safe region various consumption rates allows selection period length period buffer use given number sessions varying compression rate reduce bandwidth required video session increase number multimedia sessions supported per device assuming uniform bandwidth requirement session fig 7 shows number sessions supported range consumption ratios bandwidth 53 variable video encoding rates analysis assumed constantbitrate cbr video encoding assumption greatly simplifies analysis reasonable based mpegi iso 11172 cbr option however recognize cbr video uncommon model modified accommodate variablebitrate vbr compression schemes aggregating several vbr streams together 3 situation disk production rate unpredictable sec number multimedia sessions period figure number sessions vs period length4812162001 02 03 04 05 06 07 number multimedia sessions consumption rate mbytes figure 7 consumption rate vs number sessions display consumption unpredictable well particularly softwareonly decompression video used view disk seek latencies transfer time vbr streams random variables use similar probabilistic model guarantee frame loss ratio given threshold moreover 3 describe algorithm reduce impact frame losses due disk starvation 6 conclusion multimedia file system transfers data disk must guarantee multimedia data arrive playout device minimum latency must also satisfy timing requirements implied nature multimedia object eg intermedia synchronization among media however disk seek latency significant unpredictable generalpurpose file system paper presented physical data organization supporting storage timedependent multimedia data interleaved different media objects within block maintain timing among objects data storage retrieval furthermore introduced probabilistic model refinement roundround scheduling discipline supports concurrent multimedia sessions found reduce amount required buffering data transfer storage showed acceptance conditions additional multimedia sessions including bandwidth buffer constraints means balancing two parameters support largest number multimedia sessions originating single device r continuous media io server synchronization mechanism physical storage organizations timedependent multimedia data scalable videoon demand service provision vcrlike functions multiresolution video representation parallel disk array design performance considerations optical diskbased multimedia object server disk shadowing optimal placement highprobability randomly retrieved blocks clv optical disks principles delaysensitive multimedia data storage retrieval parity striping disk arrays low cost reliable storage acceptable throughput access path selection databases intelligent disc subsystems intervalbased conceptual models timedependent multimedia data design implementation continuous media storage server multimediarealtime extensions mach operating system design file system supports multimedia designing ondemand multimedia service efficient storage techniques digital continuous mul timedia designing file systems digital video audio introduction disk drive modeling seagate wren 8 st41650n product manual volume streaming raid disk array management system video files placement audio data optical disk runtime environment multimedia communications efficient placement audio data optical disks realtime applications design analysis grouped sweeping scheme multimedia storage management tr ctr gang qu malena mesarina miodrag potkonjak system synthesis synchronous multimedia applications proceedings 12th international symposium system synthesis p128 november 0104 1999 kyungoh lee heon yeom effective admission control mechanism variablebitrate video streams multimedia systems v7 n4 p305311 july 1999 keun hyung kim seog park storage system supporting video streams video server multimedia tools applications v13 n2 p177196 february 2001 guido nerjes peter muth gerhard weikum stochastic service guarantees continuous data multizone disks proceedings sixteenth acm sigactsigmodsigart symposium principles database systems p154160 may 1115 1997 tucson arizona united states gang qu miodrag potkonjak system synthesis synchronous multimedia applications acm transactions embedded computing systems tecs v2 n1 p7497 february korst joep aerts guaranteed throughput multizone disks ieee transactions computers v52 n11 p14071420 november kyungoh lee junho park yoonyoung park striping scheduling large scale multimedia servers journal computer science technology v19 n6 p885895 november 2004 nevzat hurkan balkir gultekin ozsoyoglu delivering presentations multimedia servers vldb journal international journal large data bases v7 n4 p294307 december 1998