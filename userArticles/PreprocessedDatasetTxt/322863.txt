efficient faulttolerant multicast routing protocol corebased tree techniques abstractin paper design analyze efficient faulttolerant multicast routing protocol reliable multicast communication critical success many internet applications multicast routing protocols corebased tree techniques cbt widely used scalability simplicity enhance cbt protocol fault tolerance capability improve efficiency effectiveness strategy faulty component detected predefined backup paths used bypass faulty component enable multicast communication continue protocol requires routers near faulty component reconfigured thus reducing runtime overhead without compromising much performance approach contrast approaches often require relatively large tree reformation faults occur global methods usually costly complicated attempt achieve theoretically optimal performance performance evaluation shows new protocol performs nearly well best possible global method utilizing much less runtime overhead implementation cost b introduction reliable multicast communication critical success many applications videoaudio broadcasting resource discovery server location etc recently applications become increasingly popular due availability internet general two approaches multicast routing protocols internet sourcebasedtree routing sharedtree routing many protocols developed including distancevector multicast routing protocol dvmrpwpd88 multicast extensions open shortestpath first mospf m94b protocol independent multicast pim defjlw96 core based tree multicast cbt bfc93 etc problem associated sourcebasedtree routing router keep pair information source group one tree per source reality internet complex heterogeneous environment potentially support many thousands active groups may sparsely distributed technique clearly scale shared tree based multicast routing scalable sourcebasedtree routing example comparison sourcebasedtree approach shared tree architecture associated cbt method offers improvement scalability factor number active sources scalability simplicity corebased tree multicast protocols widely used many multicast systems however corebasedtree method may reliability problem without enhancement single point failure tree partition tree hence make difficult impossible fulfill requirement multicasting b97 various solutions proposed address problem usually require relatively large tree reformation faults occur bfc93 b97 global strategy type costly complicated paper aim enhancing cbt protocol faulttolerant capability improving performance terms packet delay resource consumption approach briefly summarized follows localized configuration methodology used faulty component network detected predefined backup paths used bypass faulty component thus enable multicast communication continue backup paths identified offline runtime protocol require routers backup paths reconfigured way able reduce runtime overhead protocol without compromising significant amount performance traditional cbt method routes multicast packet source towards core shared tree many situations could create traffic congestion near core propose route multicast packet source nearest node tree eliminates potential congestion problem improves network performance packet delay resource consumption faults network occur randomly runtime faulty situation several routers may detect fault initiate reconfiguration processes protocol consistent sense matter faults occur detected routers cooperate restore network agreeable operational state protocol functionality routers fault management process clearly specified accordance status information available router result routers act asynchronously distributed environment consistency requirement met evaluate performance new faulttolerant multicast protocol performance data terms packet delay resource consumption collected indicate normal ie nonfaulty situations protocol outperforms traditional corebased tree protocol due fact protocol capable eliminating potential traffic congestion case faults occur protocol performs closely best global reconfiguration method provides theoretical performance bound 2 models notations network consider consists number nodes eg routers hosts nodes connected physical dual directional links along packets transmitted link attribute called delay network modeled graph nv e v finite set vertices n representing nodes network concerned e finite set edges representing links nodes node say r next hop another node say r r receive packet directly r without going router key data structure router uses routing routing table entry routing table usually consists fields destination address next hop distance etc incoming packet router locates entry routing table destination address packet matches destination address entry router next hop packet determined packet transported proper output interface packet transmitted associated output link turn connects next hop obviously network status changed eg link fails router joins etc routing tables routers network may need updated say router reconfigured routing table updated accordance protocol routers network cooperatively decide path packet transmit packet along path formally px denotes path x x nodes sometimes would like list explicitly sequence nodes path use terms route path interchangeably dpx denotes total distance links path px usually defined numeric sum individual link distances shortest path x usually denoted spx among path x dpx paper assume given x shortest path unique assumption simplifies analysis easily removed packet specified addresses source destination source packet usually host destination multicast packet denoted g represents group designated recipient hosts packet multicast address g sent hosts recipient group runtime network components eg links routers fail assume faulty state component detected neighboring routers achieved keepalive mechanism operating adjacent directly linked routers keepalive mechanism may implemented means icmp echo requestreply messages d91 3 faulttolerant multicast protocol 31 overview stated earlier strategy enhance existing cbt protocol fault tolerance capability time effectiveness efficiency improved design implementation protocol nevertheless challenging task three primary objectives network performance one protocol objectives optimize various network performance metrics message delay resource usage etc runtime overhead make protocol fault tolerant fault management function may invoked runtime thus overhead function minimized order network provide best possible services payload applications consistency protocol ensure matter fault occurs detected routers cooperate restore network agreeable operational state consistency issue addressed section 34 objectives important may conflict example reducing runtime overhead may compromise network performance design protocol take balanced nearoptimal performance time take measures reduce runtime overhead guarantee consistency faulttolerant multicast routing protocol divided two parts transmission subprotocol responsible delivering multicast packets management subprotocol detect faults reconfigure network hence provide necessary infrastructure packet transmission subprotocol achieve mission 32 packet transmission subprotocol many protocols proposed analyzed transmitting multicast packets proposed bfc93 corebased tree protocol cbt multicast routing protocol builds single delivery tree per group shared groups sources receivers advantage sharedtree approach typically offers favorable scaling characteristics multicast algorithms m94a m94b wpd88 choose cbt baseline protocol intend enhance faulttolerance capability improve efficiency effectiveness step 1 selecting core given multicast group step 2 member multicast group locating shortest path member core step 3 merging shortest paths identified step 2 runtime source generates multicast packet packet first transmitted source somewhere tree tree packet dispatched branches tree delivered receivers interesting problem path use transmitting packet source tree bfc93 recommended shortest path source core tree used call sptocore method method simple may cause traffic congestion links close core traffic different sources concentrated improve network performance propose new method offtree router first find shortest paths router nodes multicast tree select path shortest among shortest paths use route multicast packet router tree method uses shortest shortest paths tree call sspto tree method may appear complex merely take offline time collect locations nodes compute shortest paths route determined runtime overhead spto method nevertheless new method may eliminate potential problem traffic congestion figures 31 3 2 show traffic flow network two methods clear ssptotree method bandwidth usage better balanced traffic congestion removed 33 fault management subprotocol recall fault management subprotocol fmsp responsible detecting faults reconfiguring network faults detected thus provides necessary infrastructure packet transmission subprotocol deliver multicast packets subsection focus technique handling single fault occurs corebased tree 331 general approaches consider runtime component link router corebased tree becomes faulty continue multicast communication alternative routes multicast packets used transmitted faulty component must utilized two approaches taken global approach faulty status informed routers network consequently based faulty status corebase tree may rebuilt potentially routers may reconfigured note operations performed online thus may help achieve theoretically optimal performance runtime overhead including notification faulty state reconfiguration routers may large make approach practical take local approach rather rebuilding corebase tree reconfiguring routers use predefined backup paths bypass faulty component reconfigure routers involved backup paths packets supposed transmitted faulty link routed via backup paths obviously local approach simple involves small runtime overhead comparison global approach performance evaluation section 4 show local reconfiguration approach performs closely best possible global approach cases fault management subprotocol involves following tasks initialization task select backup paths detection assume router continuously monitoring status upstream link router hence able determine faulty state backup path invocation detecting fault upstream link router start notifying state information routers backup path ready used router configuration routers backup path confirm readiness configured order let traffic reroute via backup path describe tasks detail first discuss methods used router configuration see reconfiguration methods impact functions tasks 332 configuration methods consider two methods configure routers backup path differ overhead potential performance first method virtual repair r 1 r 2 r 3 source routers transmits 1 mbs multicast traffic result bandwidth usage link r 5 r 7 3mbs significantly higher others figure 31 traffic flow sptocore method link cbt link taken tree multicast traffic link 3mbs 1mbs 1mbs 1mbs r 11 r 7 r 8 r 4 r 5 r 6 core r 9 r 12 source routers transmits 1 mbs multicast traffic due ssptotree method bandwidth usage links better balanced figure 32 traffic flow ssptotree method link cbt link taken tree multicast traffic link 1mbs 1mbs 1mbs 1mbs r 7 r 4 r 5 r 6 1mbs 1mbs core r 8 r 9 r 12 method method routing table changed invoked backup path instead preprogrammed agent installed two end routers agent encapsulate multicast packet supposed transmitted via faulty component encapsulated packet sourcerouted via backup path end backup path agent end backup path receiving encapsulated packet deencapsulate transmit along normal paths packet dispatched thus topology tree virtually unchanged except faulty component bypassed second method called real repair method method routing tables backup path changed reflect new topology tree packets routed according new routing table figure 33 shows example using two methods figure 33 shows portion network original corebased tree assume fault link r 4 r 6 let backup path used reconnect disjoint tree r 6 r 5 r 3 figure 33 b shows situation virtual repair case agent r 3 encapsulate multicast packets sourceroute encapsulated packets r 6 via r 5 vice versa packets r 6 r 3 however r 3 still send multicast packets r 5 hence load r 3 r 5 doubled tree virtually repaired situation improve real repair method used shown figure 33 c case r 5 r 6 reconfigured recognize r 5 continues son r 3 r 6 new son r 5 hence packets r 3 r 5 transmitted twice clearly virtual repair method simple quickly restore path may utilize extra bandwidth cause longer delay routers path configured take advantage new topology hand real repair method may produce better performance terms packet delay example method complicated takes runtime overhead reconfiguration process backup path use discuss topic next 333 selection backup paths 3331 backup paths virtual repair method sake simplicity first consider situation fault occurs corebased tree one fault time first need introduce notations two routers r r corebase tree r son r r father r link r r r terms distance closer core r r grandfather r r father rand r father r note core router neither father grandfather sons core router father core grandfather routers father grandfather one sons core selected backup core become core core fails select backupcore irrelevant function fault management practice may selected network administrative point view suggested selecting core bfc93 method every router tree except core owns predefined backup path router grandfather ie one son core backup path path connects grandfather constraint backup path router path contain father owner figure 34 example r 7 r 4 r 2 r 3 cannot backup path r 7 contains r 4 father r 7 r 7 backup path r 7 router grandfather backup path path connects router backupcore figure 34 backup core r 3 backup path r 2 could r 2 r 3 backupcore router backup path path connects core bypasses link core figure 34 backupcore r 3 backup path r 3 could assume router tree except core least one backup path exists easy verify noncore router backup path network single fault tolerable router multiple backup paths exist select one shortest distance routers backup path divided three kinds namely owner terminator onpath routers figure 33 reconfiguration methods c cbt real repair original cbt b cbt virtual repair link cbt link link virtual path link fault x core r x r 7 r 5 r 8 r r 9 r core r x r 7 r r 9 r core r x r 9 r r 6 figure 34 backup path virtual repairmethod faulty router link cbt link depending function fault management first router backup path owner backup path router end backup path called terminator routers backup path excluding owner terminator routers called onpath routers 3332 backup paths real repair method discussed virtual repair method shortest path router grandfather used backup path one would think could define backup path way real repair method unfortunately idea work shown examples illustrated figure 35 figure 35 shows portion network corebased tree assume faulty router r 4 subtrees 1 2 disconnected original corebased tree figure 35 let shortest path r 7 grandfather r 3 r 7 shortest path r 8 grandfather easy see figure 35 two shortest paths used backup paths loop r 3 would occur example show backup path router transverses another partitioned subtree loop may occur thus selection backup path real repair method trivial task stating selection method need establish properties corebased tree assume faulty router r corebased tree corebased tree split m1 subtrees namely 0 subtree contains core subtree whose root son faulty router let routers indexed r ij particular r i0 root let p shortest path r i0 father r relation follows contains router say r jk belongs j r jk j contained p r jk closer r i0 r jk case say first subtree transverses except relation following results lemma 31 relation following properties property relation cyclic subset subtrees say k1 k2 kh k1 k2 k3 kh k1 property b subtree 0 relate property cevery subtree 0 uniquely relates subtree unique j j j lemma get following theorem theorem 31 every subtree 0 either unique nonempty sequence subtrees i1 proof theorem proved assume 3 1 true property c relate subtree say done otherwise i1 relate another subtree say keep reach ih relate subtree termination process guaranteed cyclic finite number subtrees ih must 0 otherwise violate property c sequence i1 i2 ih1 satisfies 32 property c sequence unique theorem 31 following algorithm select backup paths real repair method let p shortest path r i0 grandfather tail part p terminates first reaches router 0 else tail part p terminates first reaches router i1 remaining p backup path r i0 first router backup path called owner last one terminator others onpath routers consider example figure 35 using algorithm select r 7 backup path r 7 r 7 owner r 10 onpath router r 11 terminator note virtual repair method used backup path much longer trim path obvious theorem 31 guarantees every son faulty router r backup path identified procedure trimming necessary avoid loops shown figure 35 334 backup path invocation backup path invocation key part fault management algorithm sake completeness figure 36 shows entire fault management algorithms executed different kinds routers algorithms executed routers concurrently tasks routers case router plays multiple figure 35 backup path real repair method link cbt link faulty router r 4 r r 7 r r 8 r 12 r 4r 3 roles algorithms executed simultaneously router clear discussion routers backup path need reconfigured order repair fault occurs tree result small runtime overhead scaled large networks advantage local configuration approach 34 discussion fault tolerant multicast protocol following properties normal situation eg without fault protocol operates cbt protocol backup path established tree formed consists backup path links routers original tree except faulty link router newly formed tree original core fault still core new tree otherwise core new tree backupcore nevertheless properties imply routers act asynchronously fault management subprotocol guarantees bring system agreeable operational state fault detected thus consistency requirement met would also like argue addition consistency requirement design objectives stated section 31 also well satisfied local approach obviously reduces runtime overhead without compromising much performance sspto tree method used packet transmission subprotocol eliminates problem potential traffic congestion improve delay performance section 4 show performance data quantitatively justify claims finally would like say protocol easily extended deal case multiple faults impact paths cbt also tree ones due space limitation discuss extension detail interested readers refer paper xxjz99 4 performance evaluation 41 simulation model section report performance results new protocol introduced paper obtain performance data use discrete event simulation model simulate data communication networks simulation program written c programming language runs sun sparc work station 20 network simulated arpa network pg97 simulation multicast packets randomly generated poisson process faults also randomly generated x average lifetime fault average interarrival time faults thus probthe system faulty pf probability system faulty state measure network performance function pf interested following metrics average endtoend delay average delay short endtoend delay packet sum delays routers packet passes network resource usage defined total number hops copies multicast packet travel order reach members multicast group four systems simulated spptotreevr system newly proposed faulttolerant multicast communication protocol simulated router configuration method virtual repair method vr used spptotreerr system sppto vr except real repair method rr used spptotreenf system newly proposed faulttolerant multicast communication protocol simulated fault generated sptocorenf system original cbt protocol used fault generated simulation interested sptocorenf uses original cbt protocol take baseline system performance measures spptotreevr spp totreerr spptotreenf normalized corresponding data sptocorenf thus data reported relative ones relative spto 42 performance observations results average delay metric shown figure 41 results network resource usage metric shown figure 42 figure 42 performance curve ssptotreenf virtually covered ssptotreerr easily visible data make following observations expected ssptotreenf system achieves better performance sptocorenf example figure 41 average relative delay sspto treenf 0899 average delay ssp totree 899 sptocore similarly figure 42 network resource usage sspto treenf 0928 meaning delay ssptotree average 928 sptocorenf upstream linkrouter alive initialization msgbackuppath upstream backup path receive msgpositiveconf reconfigure router yes receive msgbackuppath initialization forward upstream backup path receive forward themsg reconfigure router yes yes receive msgbackuppath initialization downstream backup path reconfigure router yes fault management algorithm backup path owner b fault management algorithm onpath router c fault management algorithm backup path terminator yes figure 36 fault management algorithms case low probability fault say pf 10 ssptotreevr ssptotreerr perform almost identical ssptotreenf mentioned earlier ssptotreenf provides lower bound global fault management algorithm achieve hence claim fault probability high fault management subprotocol localized approach performs almost identically best possible global one meanwhile localized approach would involve low runtime overhead probability fault becomes large ie greater 10 performance sspto treevr ssptotreerr clearly impacted greater pf value worse endtoend delay resource usage specifically delay performance increases much rapidly network resource usage pf increases faults occur less functional links routers available hence functional links routers may become congested note 10 fault probability really high unlikely happen reality system uses real repair method sspto treerr always performs better virtual repair method ssptotreevr coincides intuition real repair method explicitly takes account new topology fault occurs hence better utilizes system resources 5 final remarks proposed analyzed new faulttolerant multicast communication protocol protocol consists two subprotocols packet transmission subprotocol fault management subprotocol packet transmission subprotocol uses improved version original cbt protocol maintaining level scalability improved cbt protocol much better performance ssptotree technology fault management subprotocol take localized approach relatively low runtime overhead performance evaluation indicates performs closely possible theoretical bound several extensions work possible may apply technology developed faulttolerant cbt protocol anycast messages consequently develop integrated protocol multicast anycast messages protocol useful practice example group replicated database servers multicast packets must sent members order maintain information consistency request clients taken anycast message delivered server members protocol also extended applications messages faulttolerant realtime requirements key issue model traffic shared multicast tree delay bound derived mz94 xjz98 appendices a1 proof lemma 41 proof definition 0 property b evident uniqueness shortest path property c also obvious focus proof property using contradiction assume property true sequence subtree k1 k2 kn1 kn kn1 kh k1 k2 kn1 kn kh k1 see figure a1 note 0 subtree contains core subtree say kn 1 n h subset let r kn0 root p kn shortest path r kn0 father faulty router figure a1 r 01 father r f kn assume r kn11 first router kn1 encountered p kn similarly assume 1 convenience discussion n1 presents addition operation mod n figure a1 subtrees backup paths faulty router r fault router link cbt backup path kn kh subtrees core r 00 r 02 r kh1 r kh2 r kh0 r kn10 r kn12 r kn1 r kn12 r kn11 r kn10 r k10 r k11 r k12 r r kn0 r kn2 r 01 r kn11 figure 41 average delay relative sptocorenf101418001 006 032 178 1000 5623 probability fault era ge del ay ssptotreevr ssptotreerr ssptotreenf figure 42 network resource usage relative sptocorenf085095105115001 006 032 178 1000 5623 probability fault net wo rk res ce us age ssptotreevr ssptotreerr ssptotreenf r kn1 first router kn encountered shortest path r kn10 r 01 denote sp f x shortest path x conditioned fault rf occurred recall spx represent shortest path x normal case fault obviously sp f x varies depending location fault nevertheless sp f x different spx spx involves faulty component since p kn shortest path r kn0 r 01 r f faulty denoted sp f r kn0 r 01 similarly sp f r kn0 r kn11 denotes portion p kn r kn0 r kn11 r kn11 r 01 portion p kn r kn11 r 01 using notations related path p kn subtree kn h derive inequalities dspr kn 1 r f shortest path r kn1 r f normal situation r kn1 r kn10 furthermore r f faulty r kn0 r 01 r kn0 r kn11 r kn11 r 01 r kn0 r kn11 r kn11 r 01 r kn1 r 01 a4 summing sides a2 a4 r kn0 r kn11 r kn11 r 01 r kn1 r kn10 r kn1 r 01 sum a5 sides n 1 h lhs rhs a6 r r r r r r r r r r r r f f kh kn f kn kn kn r r r r r r r r r r r r rhs kn kn kn kh kh kn since assume links dual directional routers x dspx a8 reorganized follows convenience otherwise similarly r r r r r r r r r r r r rhs kn kn kn kh kh kn f exchanging items a9 r r r r r r r r r r r r r r r r r r r r r r r r f kh kn kn kn f kn kn kh kn lhs given a7 contradicts a6 acknowledgement work partially sponsored air force office scientific research air force material command usaf grant f4962096 11076 city university hong kong grant 7000765 cery hk grant 9040352 us government authorized reproduce distribute reprints governmental purposes withstanding copyright notation thereon views conclusions contained herein authors interpreted necessarily representing official polices endorsements either express implied air force office scientific research us government texas university city university hong kong cerg hong kong r based trees cbt icmp router discovery messages pim architecture widearea multicast routing hard realtime communication multipleaccess networks ospf version 2 multicast extensions ospf distance vector multicast routing protocol routing algorithms anycast messages efficient faulttolerant multicast routing protocol corebased tree techniques tr ctr zongming fei mengkun yang proactive tree recovery mechanism resilient overlay multicast ieeeacm transactions networking ton v15 n1 p173186 february 2007 weijia jia gaochao xu wei zhao puion au efficient internet multicast routing using anycast path selection journal network systems management v10 n4 p417438 2002