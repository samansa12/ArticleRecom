statedependent mg1 type queueing analysis congestion control data networks study linearincrease multiplicativedecrease flow control mechanism consider congestion signals arrive batches according poisson process focus case transmission rate cannot exceed certain maximum value distribution transmission rate steady state well moments determined model particularly useful study behavior tcp transmission control protocol congestion control mechanism internet burstiness packet losses captured allowing congestion signals arrive batches simple transformation problem reformulated terms equivalent mg1 queue transmission rate original model corresponds workload dual queue service times queueing model iid depend workload system b introduction n todays high speed telecommunication networks large part traffic able adapt rate congestion conditions network congestion control typically designed allow transmission rate increase linearly time absence congestion signals whereas congestion detected rate decreases multiplicative factor case available bit rate abr service category atm 1 see definition use rdf rif well transmission control protocol tcp internet environment 10 22 congestion detected source signals case abr congestion signals rm resource management cells marked due congestion information switch along path connection case internet congestion signals packet losses detected source either expiration retransmission timer negative acknowledgement mechanism three duplicate acks 22 also proposal add explicit congestion signaling internet ecn proposal 7 performance evaluation congestion control mechanisms important issue network protocol design evaluation requires description times arrivals consecutive congestion signals experimentations internet 4 15 shown long distance connec tions poisson assumption times congestion signals quite reasonable happens throughput studied connection small compared exogenous traffic number hops path large superposition packet drops routers leads exponential times congestion signals local area networks noticed congestion signals may arrive altman k avrachenkov c barakat inria sophia antopolis france email altmankavratchcbarakatsophiainriafr r nezqueija cwi amsterdam netherlands email sindocwinl corresponding author bursts 4 however times bursts correspond well poisson assumption reason consider case congestion signals arrive batches according poisson process batches contain random number congestion signals signal causes division transmission rate constant fl sequel also refer batch congestion signals loss event focus case certain limitation transmission rate exists determine exact expression throughput limitation literature simplistic approximations proposed 3 19 far study two possible scenarios lead limitation peak rate limitation limitation due congestion network rather external agreement case transmission rate reaches certain level remains constant loss event appears example case tcp window cannot exceed buffer space available receiver 22 known endtoend flow control tcp abr service atm transmission rate cannot exceed peak cell rate imposed contract user network ii congestion limitation limitation transmission rate due congestion network occurs whenever input rate reaches level case shall extra batch congestion signals level attained also causes reduction transmission rate random factor typical example limitation available capacity network maximum limit number packets source keep network limits exceeded packets dropped another example reserved bandwidth differentiated services network 9 cases packets exceeding reserved bandwidth dropped rather injected network low priority packets 21 particular case batches contain single congestion signal peak rate limitation model reduces one studied 15 already attempted computing first two moments transmission rate remarkable observation done reference showing flow control reformulated terms equivalent mg1 queue transmission rate translated workload queue congestion signals correspond customers arriving queue according poisson process service times dual queueing model iid depend workload system transformation also valid general setting except model congestion limitation additional arrival equivalent queueing model addition poisson arrival stream occurs whenever queue empties another difference case congestion signals arrive batches without loss gen erality consider occurrence batch congestion signals corresponds arrival client dual queueing model hence service time client also function number congestion signals corresponding batch solve paper kolmogorov equations obtain exact probability distribution well moments transmission rate window case tcp prob lems correct error 1 15 briefly mention related results queueing analysis service times depend workload queue length also considered 2 12 17 20 model special case one studied 20 implicit characterization steady state distribution obtained closedform expressions obtained special cases cover model 12 asymptotic approximation used solving statedependent gig1 queues interarrival times service requirements service rate may depend workload peak rate limitation model special case model general stationary ergodic arrival process studied 4 model bounds throughput obtained exact expressions throughput obtained case limitation transmission rate exists see also 3 14 16 19 structure paper follows section ii describe general model flow control limitation transmission rate provide preliminary analysis two cases peak rate limitation congestion limitation described separately sections iia iib shown special case model congestion limitation reduces model peak rate limitation hence suffices analyze latter case derive moments distribution transmission rate sections iii iv terms one unknown constant probability attaining maximum rate constant computed section v section vi specify model important particular case one congestion signal per batch reduction factor equal one half based particular case present section vii numerical experimental results validate model conclude paper section future research ii flow control rate limitation models preliminary analysis present section model rate evolution flow control mechanism sequel adopt usual terminology tcp well known windowbased congestion control protocol internet shall work window size rather transmission rate transmission rate windowbased flow control mechanism moment equal window size divided roundtrip time rtt connection let denote maximum window size limitation window size either due peak rate limitation congestion limitation following explain similarities differences models two cases 1 private communication authors 15 announced replace draft new one congestion signal received window smaller window protocol increases linearly rate ff 0 case tcp number data packets covered ack usually 2 see eg19 22 rtt average roundtrip time connection assumed independent window size 4 19 assume batches containing random number congestion signals arrive according independent poisson process denote sizes ie numbers congestion signals consecutive batches assume constitute iid sequence size arbitrary batch generically denoted n poisson process sequence n k independent independent past evolution window congestion signal received window divided fixed parameter arriving batch contains signals window multiplicatively decreased factor fl gamman immediately multiplicative decrease window restarts linear increase case peak rate limitation window stays constant maximum level reached next congestion signal received case congestion limitation immediately upon reaching congestion signal received window decreased present two cases separately sections iia iib introduce common nota tion denote pgf probability generating function distribution n theta z n z note peak rate limitation model reduces model studied 15 congestion signals appear according poisson process window divided two upon every congestion signal occurrence considering general model aim account wide range flow control mechanisms tcp future enhancements tcp congestion control let us denote window size time 0 w 2 0 following stability result follows theorem 1 4 theorem ii1 exists stationary process w w converges w distribution initial state moreover pas lim sup 0 2 note 2 implies stationary distribution w unique x 2 0 denote timeaverage distribution function follows theorem ii1 limit independent w 0 coincides stationary distribution w first assume f x continuous x 2 0 case peak rate limitation clear physical considerations f x atom assumption find function f x equilibrium distribution window size hence uniqueness follows desired distribution instead f x convenient work complementary distribution function differentiate cases peak rate limitation congestion limitation latter case attach superscript cl symbols introduced eg distribution function denoted f cl x next treat two cases separately particular show analysis model congestion limitation reduces model peak rate limitation therefore concentrate peak rate limitation model subsequent sections flow control peak rate limitation peak rate limitation window reaches maximum level stays next congestion signal received section iic show window size process w related workload mg1 queue see also 15 workload statedependent mg1 queue seen markov process eg see 11 hence window size evolution w markov process well mind derive steadystate kolmogorov equation f basis analysis use following crossing argument assume process equilibrium consider level whenever window size increases less equal x x say crossing level x occurred similarly window size decreases x less equal x say crossing level x occurred let delta small time interval deterministic time moment process equilibrium probability upcrossing equal probability downcrossing equating pass delta 0 since assumed continuous x see remark 1 justification assumption conclude derivative f x exists continuous x except gamman q n 0 x 2 0 mnfm fl gamman gn12 obtain following steadystate kolmogorov equation ff dx equivalently gammaff dx differential equation shall determine f x x 2 0 terms probability section iii first use 4 determine moments window size distribution terms pm find distribution function section iv unknown pm determined using fact f x complementary probability distribution function 1 however expression obtained pm way lend computational purposes therefore show elegant alternative determine pm section v leads efficient numerically stable algorithm computations b flow control congestion limitation maximum window size due congestion lim itation immediately upon reaching level batch congestion signals generated study case size batch distribution random variable n 5 treat general case number congestion signals result reaching different distribution n similarly section iia derive following differential equation f cl gammaff dx f cl f cl cl ae oe dy f cl additional term compared 4 comes fact crossing level x may due fact level reached rate decreased factor fl gamman gamman x note f x unique complementary distribution function satisfying 4 f cl unique complementary distribution function satisfying 5 follows immediately substituting 6 5 relation simple geometric interpretation using fact poisson process memoryless consider model peak rate limitation moments window less ie cut periods window equals get identical model congestion lim itation thus concentrate finding distribution function f x peak rate limitation model use 6 equivalent f cl particular moments window size two models related cl section iii derive recursive relation e theta combined 7 gives recursion e cl report point completeness cl kffe cl remark 1 emphasize congestion limitation model quantity pm clear interpretation section v use interpretation quantity peak rate limitation model compute analyze congestion limitation model without using 6 5 could express f cl using techniques section iv terms g instead pm note two constants related constant g determined using f cl x complementary probability distribution see 24 since analysis section v obtain tractable expression pm see remark 2 related discussion dwell approach c dual mg1 queueing model proceeding determining moments distribution window size briefly show flow control problem related mg1 queueing problem service depending system workload see also 15 first concentrate peak rate limitation comment congestion limitation define ff namely ut obtained flipping w around horizontal line particular area w maximum window size figure 1 corresponds area ut note ut resembles evolution time workload virtual waiting time queueing system window equal corresponds empty queueing system linear increase workload arrivals congestion signals corresponds decrease workload due service mg1 model arrival batch congestion signals model corresponds arrival mg1 model reduction window upon loss event corresponds increase workload upon arrival equivalent mg1 model given amount window reduced depends current value window course number congestion signals batch service time dual queueing model dependent current workload conclude dual model behaves indeed mg1 queue infinite buffer capacity one server poisson arrivals intensity statedependent service requirements un workload seen arrival n mg1 queue service time xn equal nn number congestion signals nth batch congestion signals original model instead working window paper one could solve queueing problem switch back flow control problem using equation 10 particular e theta pm equal fraction time server dual queueing model idle case congestion limitation difference dual queueing model additional arrival system becomes empty makes arrival process sum poisson process intensity another process depends workload system definition service time transformation back flow control problem remain iii moments window size distribution focus model peak rate limitation section study moments window size kth moment transmission rate simply obtained dividing kth moment window size rtt k particular interest expectation transmission rate coincides throughput transfer time average transmission rate let x denote throughput rtt second moment also important since tells us much transmission rate varies applications eg real time multimedia flows sensitive variations transmission rate one could envisage tune flow control reduce variations define 0 lst laplacestieltjes transform window size distribution z e gammax df x taking lts laplace transforms 4 leads ff gamma xn1 gamman q n gamman note 12 holds particular limitation window size case theta theta gamman gammafl gamman k substituting 12 using absolute convergence doublyinfinite series interchange order summation fig 1 area associated single loss equating coefficients equal powers get theta kff theta moments window size distribution obtained recursively particular find 2 theta first two moments also obtained using direct argu ments see remarks 1 2 arguments also used misra et al 15 case ever analysis error appears results additional equation besides 14 15 determine erroneous expression probability pm see remark 2 remark 1 mean window size obtained considering mean drift upward drift window size given ffp fw mg downward drift equals theta equating gives 14 derive e applying argument similar littles law done misra et al 15 case 1 details refer 5 main idea sketched following dual queueing model described section iic equate mean workload times mean area ut induced single ar rival use poisson arrivals see time averages back original model mean surface area w figure expected surface area induced single loss event surface larger triangle minus smaller one equal theta multiplying equating result using indeed gives 15 remark 2 special case model yet another way pursuit 15 derive 14 15 however final result incorrect due small error intermediate step theta dt theta theta steady state e w theta w 2 theta pm j pm substitution gives together theta together 14 leads 15 case n j 1 formula given 15 e theta formula 4 reference differs 16 factor resulted third incorrect equation linearly independent 14 15 pm determined simultaneously section v show pm determined correctly computed efficiently iv window size distribution function find section explicit expression cumulative distribution window size distribution transmission rate simply obtained rescaling window axis 1rtt start first case finite provide expression distribution every interval case give expression distribution x 0 infinite sum exponentials window distribution finite equation 4 reduces gammaff dx hence find entire distribution introduce equation 4 written dx ff since f x continuous f k recursively given ff ux ff u conclude recursion solution 19 20 following form determine coefficients c k substitute 21 19 equating terms exponents get following recursive formula coefficients c k computed coefficient 1 determined 20 ff c kgamma1 ff ff note compute coefficients c k need pm hence using f x complementary distribution func tion pm determined ff mfl kgammai however relation suitable compute pm see remark remark 1 18 21 found equilibrium distribution function f x satisfying 4 theorem ii1 unique solution hence assumption f x continuous x justified remark 2 recursion 22 suitable determine distribution function interval mfl k x k large large k recursion may become instable since involves subtraction numbers order therefore 24 suitable compute pm section v derive alternative expression pm leads numerically stable efficient algorithm compute pm b window distribution infinite case results derived previous subsection cannot applied immediately letting go infinity ever derive lst window size distribution similar arguments ff gamman equivalently ff gamman 25 substituting equation repeatedly l times applying partial fraction expansion step taking l 1 conclude f expressed follows certain coefficients c formally justified later determine constants c substitute 26 25 equate coefficients multiplying terms 1 leads recursive formula c igammak determines ratios c c 0 reason sides contain factor 1c 0 coefficient c 0 follows shown infinite series expression c 0 converges hence coefficients c exist proof convergence given appendix inversion 26 back time domain gives given coefficients c exist series absolutely convergent value 1 thus unique solution case window size limitation n j f x already obtained 18 v probability maximum window size sections iii iv determined window size distribution moments terms pm section derive expression pm computed ef ficiently introduce random variable x time window size returns value x starting loss event occurs window size equal x 2 0 denote expectation ex e x elementary renewal theory 1 1 em proceed find function ex typical evolution window size depicted figure 2 simplicity figure loss events depicted times recover losses partly cut picture denoted shaded areas suppose moment initial loss level x figure time get back level x conditional ex x x fig 2 tcp window losses occur time gamman xff ie window size x reached straight line starting point fl gamman x figure fl gamma1 x time loss occurs level 2 fl gamman x x takes time units get back level memoryless property poisson process take shaded areas figure 2 concatenate nonshaded areas cut points shaded areas used form poisson process straight line fl gamman x x thus cut points given figure gamman x since loss process poisson process mean number cut points gamman xff position points j uniformly distributed interval fl gamman x x see instance 23 thm 125 hence gamman x ff gamman x ey gamman x dy gamman x ff gamman x eydy 32 using 1 31 arrive gamman x eydy 33 although finitewindow case 1 integral equation meaning well defined x 0 solution 33 unique see 5 define lt ex e gammax exdx 5 shown using q n ex nonnegative may interchange order integration summation twice finally arriving repeated substitution equation applying partial fraction expansion leads us following candidate solution e constants determined representation justified showing leads us unique solutions 34 33 substituting 35 34 equating coefficients multiplying terms 1fl gamman q n e igamman gamman q nx note ratios e e 0 non negative computed recursively 36 normalizing constant computed 37 36 shown induction e decay exponentially fast 1 therefore right hand side 35 certainly converges ff construction 35 solution 34 partial fraction 35 rewritten ff inverting lt gives e using 30 e note 38 e pm computed efficiently 41 vi special case one congestion signal per loss event section specify results important particular case tcp flow control one division window factor 2 loss events namely take model peak rate limitation see 15 similar model section viib compare results particular case model measurements internet worked long distance connections congestion signals rarely appear batches process loss events close poisson 4 14 15 obtain expressions first two moments window size distribution throughput tcp obtained equation 11 distribution function complementary distribution function f x computed successively intervals using 21 2 recursion 22 reduces c kgamma1 c k 1 given 23 1 distribution function given 29 c 0 given 28 finally coefficients e given e vii model validation section compare measurements long distance long life tcp connections results section vi limitation comparison real measurements model clustered batch arrivals congestion signals topic current research see also section viii due large number hops multiplexing exogenous traffic network routers poisson loss process assumption expected hold long distance connections 15 tcp receivers implement delay ack mechanism 22 tcp senders increase windows congestion avoidance mode approximately one packet every windows worth acks thus take ff equal 12rtt 19 first show theoretically window size distributed stationary regime second compare results measurements internet numerical results consider case long tcp connection packets size 1460 bytes constant rtt one second using results section vi computed cumulative distribution function f x window size probability density probability density function window size kbytes515253545average interloss time s005015025035045fig 3 limited receiver window probability density function window size kbytes fig 4 unlimited receiver window function fx increasing values intensity losses consider cases limited receiver window figures 3 4 plot results density function fx case kbytes computed distribution function successively intervals case unlimited receiver window used expression density function infinite sum exponentials equation 29 note solving numerically model distribution several infinite series eg 29 42 need computed discussed previous sections infinite series converge quite fast one needs use small number terms kbytes discontinuity fx clearly seen figure 3 especially large interloss times pulse pm depicted area equal pm 1 density function exhibits neither pulses discontinuities figure 4 b experimental results experimental testbed consists long life long distance tcp connection inria sophia antipolis michigan state university us tcp connection fed inria infinite amount data new reno version tcp 8 used data transfer changed socket buffer receiver order account different values considered three values 32 48 kbytes every value ran tcp connection window bytes cumulative distribution function model measurements fig 5 receiver window window bytes cumulative distribution function model measurements fig 6 receiver window approximately one hour registered trace connection using tcpdump tool developed lbnl 13 also developed tool analyzes trace connection detects times window reduced moreover tool gives average rtt connection statistics window per rtt compared three values distribution window size measurements given model results plotted figures 5 6 7 small observe good match measured distribution one resulting model ever larger values difference two creases particular increases measured probability density concentrates around average window size deviation explained measured distribution times loss events first plot figure 8 distribution interloss times kbytes distribution agreement exponential law resulting good match model measurements figures 9 10 show measured distributions two values observe loss process longer poisson closer deterministic process small interloss times less frequent increases medium interloss times domi nate results degradation correspondence model measurements one explanation deviation loss process poisson process larger values following true poisson loss process implies time next loss event independent past case congestion network dominated exogenous traffic and020610 10000 20000 30000 40000 50000 60000 70000 window bytes cumulative distribution function model measurements fig 7 receiver window probability density function exponential distribution measurements fig 8 case dependent measured connection namely measured connections share available bandwidth path small compared exogenous traffic small limits bandwidth share connection limits impact network resulting loss process close pois son however large measured connection realizes larger share bandwidth thus contributes congestion network routers reduces window state network changes becomes underloaded time needed network loaded reason small interloss times start get small proba bilities case loss process close deterministic process simple fixedpoint method proposed 3 19 used approximate achieved throughput viii conclusions future research studied additiveincrease multiplicativedecrease flow control mechanisms assumption congestion signals arrive batches according poisson process highlighted 15 model reformulated mg1 queuing problem service time dependent system work load tried keep model general possible order account wide range congestion control strategies calculated explicit expressions moments well distribution transmission rate window size case tcp case single congestion signals compared results measurements tcp connections ternet experiments concluded model leads accurate results times losses close exponentially distributed probability density function exponential distribution measurements fig 9 case probability density function exponential distribution measurements fig 10 case currently working validation model clustered congestion signals measurements internet shown paths especially short distance ones loss process presents high degree burstiness currently also studying extension analysis general interloss time processes particular mmpps markov modulated poisson processes acknowledgement would like thank v abramov comments improved presentation paper also thank department mathematics michigan state university particular lb freidovich providing us computer account internet experiments shall prove infinite series equation 28 converges denote c c 0 using 27 satisfies folowing recurrent relation prove series absolutely convergent enough prove majorant series defined convergent consider b i1 thus b i1 therefore series hence absolutely convergent fl 1 r atm forum technical committee investigation queueing system service depending queue length tcp presence bursty losses stochastic model tcpip stationary random losses state dependent mg1 type queueing analysis congestion control queueing system queue length dependent service times applications cell discarding atm networks tcp explicit congestion notification newreno modification tcps fast recovery algorithm assured forwarding phb group congestion avoidance control asymptotic analysis statedependent mg1 queueing system statedependent gig1 queue macroscopic behavior tcp congestion avoidance algorithm stochastic differential equation modeling analysis tcpwindowsize behavior window distribution multiple tcps random queues queues dependent interarrival service times stationary behavior ideal tcp congestion avoidance modeling tcp put simple model empirical validation singleserver queues service time dependent waiting time quantitative study differentiated services internet slow start congestion avoidance fast retransmit fast recovery algorithms stochastic models algorithmic approach tr asymptotic analysis statedependent italicmitalicg1 queueing system congestion avoidance control tcp explicit congestion notification macroscopic behavior tcp congestion avoidance algorithm modeling tcp throughput tcp presence bursty losses ctr brbara gonzlezarvalo performance leaky bucket system longrange dependent input traffic queueing systems theory applications v46 n34 p439459 marchapril 2004 carsten burmeister ulrich killat jens bachmann tcp rateadaptive wlan analytical model simulative verification proceedings 2006 international symposium world wireless mobile multimedia networks p339348 june 2629 2006 deb r srikant ratebased versus queuebased models congestion control acm sigmetrics performance evaluation review v32 n1 june 2004 gang wu edwin k p chong robert givan predictive buffer control delivering remotely stored video using proxy servers computer networks international journal computer telecommunications networking v50 n18 p37213742 21 december 2006