theory total exchange multidimensional interconnection networks abstracttotal exchange multiscattering one important collective communication problems multiprocessor interconnection networks involves dissemination distinct messages every node every node present novel theory solving problem multidimensional cartesian product network networks adopted costeffective interconnection structures distributedmemory multiprocessors construct general algorithm singleport networks provide conditions behaves optimally seen many popular topologies including hypercubes kary ncubes general tori satisfy conditions algorithm also extended homogeneous networks 2k dimensions multiport capabilities optimality conditions also given model course analysis also derive formula average distance nodes multidimensional networks used obtain almost closedform results many interesting networks b introduction multidimensional cartesian product networks prevailed interconnection network design distributed memory multiprocessors theory practice commercial machines like ncube cray t3d intel ipsc delta paragon node interconnection structure based multidimensional networks hypercubes tori meshes networks based simple basic dimensions linear arrays meshes 15 rings kary ncubes 6 general tori complete graphs generalized hypercubes 4 structures quite powerful dimensions also proposed eg products trees products graphs based groups 21 9 one important issue related multiprocessor interconnection networks information dissemination collective communications distributedmemory multiprocessors recently received considerable attention example evident inclusion message passing interface standard 18 support various constructs high performance fortran 12 16 easily justified frequent appearance parallel numerical algorithms 11 13 3 broadcasting scattering gathering multinode broadcasting total exchange constitute set representative collective communication problems efficiently solved order maximize performance messagepassing parallel programs general survey regarding communications given 10 total exchange also known multiscattering alltoall personalized communication node network distinct messages send nodes various data permutations occurring eg parallel fft basic linear algebra algorithms viewed instances total exchange problem 3 subject work development general theory solving total exchange problem multidimensional networks multitude quantities properties networks decomposed quantities properties individual dimensions example degree node sum degrees dimensions show total exchange problem also decomposed simpler problem performing total exchange single dimensions major simplification inherently complex problem inherently complex networks provide general algorithms applicable multidimensional network theory total exchange multidimensional interconnection networks given total exchange algorithms dimension optimality conditions given seen met many popular networks eg hypercubes tori generalized hypercubes name results presented apply packetswitched networks follow socalled constant model 10 assumptions pertaining model follow ffl communication links bidirectional fully duplex ffl message requires one time unit step transferred two nodes ffl adjacent nodes exchange messages another parameter model port capabilities depending whether node communicate one neighbors time unit two basic possibilities arise singleport node send one message receive one message step multiport node send receive messages neighbors simultaneously discussed 10 assumptions constitute standard model examining theoretical aspects communications packetswitched networks furthermore results conclusions model form basis arguments models linear one also quantifies effect message lengths many recent works focus exclusively wormholerouted networks excellent survey collective communications machines given 17 however believe studies limited one particular type architecture important consider several types communication models given broad variety present future communication hardware 2 addition since circuitswitched wormhole routed network emulate packetswitched network performing nearestneighbor communications results also constitute reference point methods developed former type networks algorithms solve total exchange problem specific networks variety assumptions appeared many recent works mostly concentrating hypercubes twodimensional tori eg 22 14 2 23 singleport model know two optimal algorithms 3 pp 8183 hypercubes 19 star graphs contrast results applicable one particular structure rather provide general procedure solving problem multidimensional network 2 multidimensional networks 3 paper organized follows introduce formally multidimensional networks next section give properties related study section 3 gives lower bounds time required solving total exchange problem port assumptions section derive new formula singleport bound applied networks interest result merit also provides almost closedform formulas average distance networks formula known section 4 concentrate singleport networks develop total exchange algorithm give conditions behaves optimally also review known results simple dimensions conclude method optimally applied hypercubes kary ncubes popular interconnects section 5 modify algorithm adapt multiport model extension works networks dimensions homogeneous networks provide optimality conditions observe satisfied number interesting topologies results summarized section 6 2 multidimensional networks e undirected graph 1 5 node vertex set v edge link set e usual model representing multiprocessor interconnection network processors correspond nodes communication links correspond edges graph number nodes g edge e nodes v u written unordered pair v u v u said adjacent neighbors path g node v node u denoted v u sequence nodes u vertices distinct say length path contains vertices apart v distance distv u vertices v u length shortest path v u finally eccentricity v ev distance node farthest v ie maximum eccentricity g known diameter g 1 terms graph network considered synonymous 4 theory total exchange multidimensional interconnection networks b figure 1 cartesian product two graphs given k graphs g product defined graph e whose vertices labeled ktuple v call products graphs multidimensional graphs g called ith dimension product ith component address tuple node called ith address digit ith coordinate definition e simple words states two nodes adjacent differ exactly one address digit differing coordinates adjacent corresponding dimension example given fig 1 dimension 1 graph consisting twonode path consists threenode ring 3g product node set 1 2 3 b 1 b 2 b according definition node 1 following neighbors since node adjacent node b first dimension node 1 adjacent node b 1 since node 1 adjacent nodes 2 3 second dimension node 1 also adjacent nodes 2 3 hypercubes products twonode linear arrays rings tori products rings dimensions torus consist ring obtain kary ncubes 6 meshes products linear arrays 15 generalized hypercubes products complete graphs 4 dimensions g identical network characterized homogeneous 3 lower bounds total exchange 5 multidimensional graphs number nodes k also known dist v distance v u g distance dist convenient use dont care symbol lambda shorthand notation set addresses appearance symbol element address tuple represents legal values element previous example denotes whole node set graph 3 lower bounds total exchange total exchange problem node v send messages one nodes nnode network let us first assume singleport model effect exist n nodes distance v messages sent v must cross links total messages exchanged total number link traversals must quantity sv known total distance status 5 node v every time message communicated adjacent nodes one link traversal occurs singleport model nodes allowed transmit one message per step maximum number link traversals single step n consequently best subtract n units sg step lower bound total exchange time words total exchange singleport assumption requires time bounded average status asg vertices 6 theory total exchange multidimensional interconnection networks multiport networks tighter bounds obtained cuts network partition vertex set v two disjoint sets v 1 v 2 number edges e joining two parts ie edges nodes v 1 destined nodes v 2 must cross c v1 v2 edges total number messages jv 1 jjv 2 j since c v1v2 messages able pass v 1 v 2 time obtain following lower bound total exchange time course interested maximizing fraction righthand side selecting v 1 appropriately tightest possible bound results many cases bisection graph appropriate choice although sensible partition yield quite tight bounds 31 status multidimensional networks course analysis singleport model need compare time needed total exchange lower bound 3 present formula status average status vertices multidimensional graphs required 3 results based status vertices individual dimensions theorem 1 let status v g status proof status node v calculated 2 using equivalent formula distv u distance v u hence status v g written dist 3 lower bounds total exchange 7 know multidimensional network distance two vertices equal sum distances corresponding coordinates eq 1 consequently 5 obtain dist dist ae x dist oe ae x oe ae n oe claimed quantity svn gamma 1 known average distance node v giving average number links traversed message departing v important performance measure network since uniform addressing distributions directly linked average delay message experiences reaching destination 20 hence theorem 1 also used calculate average distance vertices many graphs closedform formula known example generalized hypercubes 4 dimension complete graph vertices complete graph nodes adjacent v consequently average distance generalized hypercubes 4 possible derive formula case equal context total exchange problem interested average status nodes network let asg average status g defined 3 following corollary 8 theory total exchange multidimensional interconnection networks asg average status g average status g given proof theorem 1 obtain v 1 v k 2g divided n gives required result 4 singleport algorithm theta b kdimensional network g 1 theta delta delta delta theta g k still expressed product two graphs taking may consider two dimensions without loss generality let finally let phi graph g consists n 2 interconnected copies va let j jth copy node set takes values va similarly g viewed n 1 copies b let ith copy b node set v example shown fig 2 4 singleport algorithm 9 b a1 2 3 43 figure 2 4 theta 3 torus four copies threenode ring b three copies fournode ring develop basic idea behind algorithm example fig 2 consider top node 1 node belongs 1 well b 1 nodes 1 among messages messages destined rest nodes 1 messages distributed performing total exchange within 1 addition nodes 1 messages nodes 2 3 4 somehow messages travel appropriate destinations following messages top node 1 meant nodes 2 transferred top node 2 messages middle node 1 destined nodes 2 transferred middle node 2 similar case bottom node 1 messages arrived 2 thing remaining perform total exchange within 2 messages distributed correct destinations next nodes 1 transfer messages meant 3 nodes 3 procedure identical procedure followed messages meant 2 finally remaining messages 1 destined 4 one repetition procedure complete task notice messages originating nodes 1 done also messages originating copies ie 2 3 4 ready formalize arguments going adopt following message node destined node v k u l furthermore introduce symbol denote corresponding set messages example messages node v theory total exchange multidimensional interconnection networks 1 every 2 every 3 every 5 every 6 parallel j 7 j perform total exchange messages u k messages reside node v figure 3 algorithm a1 destined nodes l v destined node messages v notice last set normally includes nodes since node sends messages always implied set messages removed every message whose source destination consider set messages set represents total exchange problem every node one message every node next consider set set messages nodes j destined nodes j distributed total exchange operation within j finally consider set v nodes k set transferred node v thus transfers node v notice every node k received messages meant every node k messages clearly distributed appropriate destinations total exchange operation within k recapitulate solve total exchange problem using algorithm a1 shown fig 3 first perform transfers described perform total exchanges within j transfers correspond lines 14 algorithm a1 completed every node v u j every j received messages meant jth copy originating nodes v 4 singleport algorithm 11 lines 57 algorithm distribute messages correct vertices j n 2 rounds kth round total exchange performed exchanged messages originated k algorithm a1 solves total exchange problem lines 14 show transfer messages exactly implemented first may exist path collisions transfers v transfers v try simultaneously let us consider example fig 2 point nodes 1 want transfer messages say nodes 4 make observation transfers indeed done parallel top node 1 transfer messages top node 4 middle node 1 transfer messages middle node 4 without interference trick use paths second dimension b transfers top node 1 use links b 1 transfers bottom node 1 use links b 3 etc consequently straightforward way parallelizing line 1 following transferring messages v allow use links second dimension words allowable paths v paths v node common consequently lines 14 rewritten improved form 1 parallel 2 every 3 every using links b may still improve matters parallelizing lines 13 within b need transfer messages every vertex u j every vertex u k table 1 list messages transferred vertex v notice transfer messages meant j anywhere jth column table actually unused used total exchange within j column k contains messages v transferred first node v 12 theory total exchange multidimensional interconnection networks table 1 messages transferred node actually unused since messages v transferred copy instead transferring messages column column ie transfer messages column 1 1 messages column 2 2 etc transfer horizontally row row batch r r messages row r contains messages v transfer except course v meant node j let us consider network fig 2 assume bottom nodes 1 2 3 4 want transfer first batch r 1 batch bottom node 1 contains one message bottom nodes 2 3 4 similarly batch r 1 bottom node 2 contains one message three nodes question immediately clear messages constitute instance total exchange problem every node one message every node b 1 general every node v transfers batch r r table 1 total exchange within b distribute messages appropriately consequently rows table 1 every node transferred performing n 1 total exchanges rth exchange nodes v batch messages rth row corresponding tables based discussion recalling transfers within b interfere transfers within may express total exchange algorithm final form algorithm a2 appearing fig 4 algorithm a2 general solution total exchange problem multidimensional network network k 2 dimensions 4 singleport algorithm 13 2 parallel b perform total exchange node v sending messages v 4 every 5 parallel j 6 j perform total exchange node v sending messages v figure 4 algorithm a2 algorithm a2 used recursively taking total exchanges j lines 46 performed invoking algorithm algorithm highly desirable form utilizes total exchange algorithms dimensions problem total exchange complex network reduced simpler problem devising total exchange algorithms single dimensions example position systematically construct algorithms tori based algorithms rings proceed determine time requirements algorithm conditions behaves optimally 41 optimality conditions hard calculate time required algorithm a2 written form suitable singleport model every node participates one total exchange operation time total exchange performed singleport model effect node sendsreceives one message time theorem 2 singleport total exchange algorithms graphs b take steps correspondingly algorithm a2 14 theory total exchange multidimensional interconnection networks time units proof result straightforward lines 13 perform n 1 total exchanges within b parallel requiring steps similarly lines 46 perform n 2 total exchanges within j parallel requiring steps corollary 2 singleport total exchange algorithm g takes total exchange g singleport model performed steps proof proof induction one dimension corollary trivially true assume induction hypothesis holds dimensions must 0 time needed total exchange g j let theorem 2 gives required theorem 3 singleport total exchange every dimension performed time equal lower bound 3 true g proof g total exchange performed time equal lower bound 3 corollary 2 must 5 multiport algorithm 15 combined corollary 1 shows algorithm thus optimal last theorem provides main optimality condition algorithm a2 total exchange algorithms every dimension algorithms achieve bound 3 algorithm a2 also achieves bound example hypercubes every dimension twonode graph trivially twonode graph time total exchange one step equal average status thus optimality condition met presented algorithm optimal algorithm singleport hypercubes generally shown elsewhere 8 exist algorithms need time equal 3 cayley 1 network consequently optimality condition met arbitrary products cayley networks rings complete graphs examples cayley networks thus algorithm a2 solves optimally total exchange problem kary ncubes general tori generalized hypercubes 5 multiport algorithm section modify algorithm a2 work better multiport model present form algorithm a2 particularly efficient model lines 46 executed lines 13 finished execution lines 13 edges second dimension b used lines 46 use edges first dimension multiport model try keep many edges busy possible behavior algorithm a2 contribute effect seek consequently transfer messages dimensions simultaneously words reconstruct algorithm lines 13 overlap time much possible lines 46 theory present applies homogeneous networks recall multidimensional network homogeneous dimensions identical thus h k graph h consider twodimensional case ie also seen algorithm derive applicable dimensionality graph general power 2 ie e g n 2 nodes theory total exchange multidimensional interconnection networksbbb figure 5 3 theta 3 homogeneous mesh 1 2 3 table 2 messages transferred node 11 network fig 5 used example arguments node 1 1 give messages distribute table 2 messages first column meant nodes 1 total exchange within 1 may thus begin immediately distribute messages since total exchange uses links first dimension node 11 also available participate total exchange second dimension ie b 1 general network node v participate total exchange within b soon first total exchange j starts within j transferred messages v column j table 1 let us see messages involved first total exchange within b objective following want every node v receive messages total exchange b done another total exchange initiated within j consequently seek arrange transfers v receives one message node j ie receive messages destinations notice node v receive messages total exchange b since j n nodes including v receptions v meant nodes v 5 multiport algorithm 17 network fig 5 let example node 11 send 11 2 2 message point received node 12 provide one message forthcoming total exchange 2 12 sends 12 2 3 node 13 also provided one message total exchange 3 similarly needed node 11 define following operators theta operators work like additionsubtraction modulo n produce numbers ranging 1 n instead 0 better suited purposes based operator preceding discussion see one effective scheduling let node v hence node also receive use next total exchange j let us see messages sent first total exchange b example seen since node 11 decided send 11 2 2 cannot send another message node 12 thus send message node 13 since node receive covers one destination 3 choice 11 send 11 3 3 message completes set messages needed 13 next total exchange 3 since vertices 3 covered similarly 12 13 must send 12 3 1 three nodes complete set messages suitable total exchanges within 1 2 3 general second message node v provide node v second message total exchange j phi pattern clear first total exchange b every node v sends following messages theory total exchange multidimensional interconnection networks compact form node provide node v th message needs ie message destined node v iphi notice set contains one message received node v ie perfect set participation first total exchange b also clear v receive following messages notice set contains one message node v thus achieved goal every node b receives full set messages used subsequent total exchange j b first total exchange j finishes exactly first total exchange b finishes thus second total exchange j start immediately using newly acquired exchange b messages story repeats second total exchange b performed simultaneously second total exchange j goal total exchange b remains distribute messages used third total exchange j idea behind selecting group messages second total exchange b similar one first total exchange saw let v situation repeated continuously rth total exchange within j progress rth total exchange b also performed order provide nodes messages next total exchange j rth exchange b node v sends 5 multiport algorithm 19 following messages observe destinations v iphi n order given natural sequence used first total exchange b leftrotated r positions based observation easy verify set messages given compact form similarly seen rth exchange b node v received messages used r 1th total exchange j let us recapitulate first total exchange j v taneously total exchanges b start rth exchange b node sends set messages given 7 receives set given 8 set used r exchange j occur total exchanges b performed parallel total exchanges j last nth total exchange j involve messages received n gamma 1th total exchange b noticed v u j sent messages meant nodes copies k k 6 j except nodes v example fig 5 saw first two exchanges b 1 node 11 sent messages exception messages 11 1 destined node 12 13 situation similar nodes 12 13 conclusion messages v 20 theory total exchange multidimensional interconnection networks messages remaining sent observe perfect set messages final total exchange b nth exchange performed nth exchange j occurs described formulated algorithm a3 fig 6 total exchanges copies b completely parallelized hence lines 13 lines 48 perform transfers described b lines 913 perform total exchanges j notice simple lines 1113 whatever sent rth exchange b used r 1th exchange j algorithm works twodimensional homogeneous network extension two dimensions seems rather difficult homogeneity lost sense could different b example written vice versa however easy see algorithm applicable dimensionality power 2 let algorithm applied recursively b eg setting proceed determine time requirements algorithm a3 give optimality conditions 51 optimality conditions theorem 4 h n nodes total exchange h requires th steps algorithm a3 proof procedure tea performs n total exchanges j thus requiring nth steps similarly teb also requires nth steps algorithm finishes procedures finished ie time recursive application algorithm networks dimensionality power 2 following corollary 5 multiport algorithm 21 1 parallel 4 5 parallel 6 perform total exchange 7 parallel 8 perform total exchange 9 parallel j perform total exchange j node v 12 parallel j perform total exchange j node v messages received second dimension b figure 6 algorithm a3 multiport homogeneous networks 22 theory total exchange multidimensional interconnection networks corollary 3 let total exchange h requires th time units total exchange g performed steps proof proof induction case two dimensions covered theorem 4 induction hypothesis g apply theorem 4 g 0 treated h 0 treated th n d2 treated n seen claimed theorem 5 let total exchange h performed time equal lower bound 4 true g proof corollary 3 total exchange g requires th achieves lower bound 4 exists partition vh1 vh2 node set h number links separating two parts consider following partition v node set g clearly notice g contains n dgamma1 copies h order separate two parts need disconnect copy h removing links first dimension since c vh 1 vh 2 links needed disconnect copy h obtain thus v 1 v 2 partition g 6 discussion 23 equal time needed total exchange g thus bound 4 tight g summarizing algorithm a3 multiport total exchange algorithm homogeneous networks whose dimensionality power 2 total exchange h performed time equal lower bound 4 algorithm a3 optimally solves problem g example 7 given algorithms achieve lower bound linear arrays rings consequently algorithm a3 leads optimal total exchange algorithm homogeneous meshes tori dimensions 6 discussion given systematic procedure performing total exchange multidimensional net works main contribution probably existence decomposition problem simpler subproblems given total exchange algorithms single dimensions synthesize algorithm multidimensional structure contrast works problem approach limited one particular network graph expressed cartesian product except structured nature method also showed optimal respect number communication steps many popular networks singleport assumption algorithm a2 provides optimal solutions hypercubes kary ncubes general tori actually product cayley graphs networks first optimal algorithm appear literature multiport assumption reached similar conclusions homogeneous networks dimensions algorithm a3 solves problem network optimality also guaranteed singledimension algorithm achieves bound 4 particular based known results linear arrays rings meshes kary ncubes 2 k dimensions optimally take advantage algorithm currently studying behavior algorithm case number dimensions power two preliminary results indicate algorithm could still applicable theory total exchange multidimensional interconnection networks r grouptheoretic model symmetric interconnection networks optimal communication algorithms hypercubes parallel distributed computation numerical meth ods generalized hypercube hyperbus structures computer network distance graphs deadlockfree message routing multiprocessor interconnection networks optimal total exchange linear arrays rings optimal total exchange cayley graphs methods problems communication usual networks impact communication complexity design parallel numerical algorithms compiling fortran mimd distributedmemory machines communication efficient basic linear algebra computations hypercube architectures optimum broadcasting personalized communication hypercubes introduction parallel algorithms architectures arrays high performance fortran collective communication wormholerouted massively parallel computers mpi messagepassing interface standard communication aspects star graph interconnection net work performance multicomputer interconnection net works productshuffle networks towards reconciling shuffles butterflies data communications hypercubes communication algorithms isotropic tasks hypercubes wraparound meshes tr ctr yuchee tseng szeyao ni jangping sheu toward optimal complete exchange wormholerouted tori ieee transactions computers v48 n10 p10651082 october 1999 v dimakopoulos allport total exchange cartesian product networks journal parallel distributed computing v64 n8 p936944 august 2004 shanchyun ku biingfeng wang tingkai hung constructing edgedisjoint spanning trees product networks ieee transactions parallel distributed systems v14 n3 p213221 march v dimakopoulos nikitas j dimopoulos optimal total exchange cayley graphs ieee transactions parallel distributed systems v12 n11 p11621168 november 2001