flexible network support mobile hosts fueled large number powerful lightweight portable computers expanding availability wireless networks popularity internet increasing demand connect portable computers internet time place however dynamic nature mobile hosts connectivity use multiple network interfaces require flexible network support typically available stationary workstations paper introduces two floworiented mechanisms context mobile ip 25 ensure mobile hosts robust efficient communication hosts changing environment one mechanism supports multiple packet delivery methods regular ip mobile ip adaptively selects appropriate one use according characteristics traffic flow mechanism enables mobile host make use multiple network interfaces simultaneously control selection desirable network interfaces outgoing incoming packets different traffic flows demonstrate usefulness two network layer mechanisms describe implementation performance b introduction lightweight portable computers spread wireless networks services popularity internet combine make mobile computing attractive goal technologies users able connect internet time place read email query databases retrieve information web entertain achieve goal mobile host requires unique unchanging address despite fact switches one communication medium another one network segment another ip address associated network interface must change accordingly ip address must change ip 25 assumes hosts ip address uniquely identies segment network host attached internet unfortunately changing address break ongoing network conversations mobile host hosts connectionoriented protocols tcp 26 use ip addresses ends connection identify connection therefore mobile ip 23 another similar mechanism allows host addressed single address needed accommodate host mobility within internet however due dynamic nature mobile hosts connectivity use multiple interfaces providing network support mobile host much complex task stationary counterparts mobile ip takes important step towards supporting mobility context work daytoday experience using mosquitonet 16 mobile network found desirable ner control network trac mobile host per ow basis provided mobile ip work presented paper mainly motivated following observations unique characteristics mobile host duality mobile host two roles host virtually connected home network normal host network visiting sense consider mobile host virtually multihomed duality brings along increased complexity well opportunities optimization dynamically changing point attachment connect portable various networks oce network work network wireless internet access service provider road another network home elsewhere dierent networks may dierent policies dealing packets mobile hosts depending mobile host currently operates communicates may need use dierent packet delivery methods either robust ecient multiple network interfaces achieve connectivity place time mobile hosts likely require one type network device example mobile hosts use ethernet wavelan 28 suitably equipped oce home use slower wireless packet radio network metricom ricochet 18 elsewhere single network device provide desired quality service qos time always tradeo among coverage performance price even times multiple network devices need used time satellite connection downlink modem connection uplink case mobile host physically multihomed well making use network interfaces simultaneously dierent ows trac challenge goal enable mobile host communicate robustly eciently hosts moves place place ways satisfy one goal satisfying challenge example treat mobile host virtually connected home network always tunneling packets mobile host home agent although robust obviously ecient achieving eciency well requires mobile host exibility provided previously existing mechanisms paper addresses following two issues providing exibility desirable mobile host first need network routing layer support multiple packet delivery methods whether use regular ip mobile ip network layer developed generalpurpose mechanism mobile policy table supports multiple packet delivery methods simultaneously dierent ows adaptively selects appropriate method according characteristics trac ow second need make use multiple network interfaces simultaneously control interface selection outgoing incoming packets dierent trac ows achieved extending base mobile ip protocol control choice interfaces use incoming trac mobile host also amend routing table lookup enable use multiple network interfaces outgoing trac ows mobile host result system applies mobile ip exibly taking consideration trac characteristics ow basis rest paper organized follows section 2 give brief description mobile ip context work done section 3 illustrate scenarios use multiple packet delivery methods dierent ows trac section 4 detail generalpurpose mechanism supports use multiple packet delivery methods section 5 describe simultaneous use multiple network interfaces section 6 report implementation status system present results system performance measurements obtained experiments section 7 list related work section 8 consider applicability potential work ipv6 finally present conclusions together future continuing work section 9 2 background mobile ip mobile ip 23 mechanism maintaining transparent network connectivity mobile hosts mobile ip allows mobile host addressed ip address uses home network home ip address regardless network currently physically attached figure 1 illustrates operation basic mobile ip host host correspondent mobile foreign network agent home home network figure 1 basic mobile ip protocol packets correspondent host mobile host always sent mobile hosts home network rst forwarded tunneled home agent mobile hosts current point attachment careof address packets originating mobile host sent directly correspondent host thus forming triangular route thick line indicates original packet encapsulated another ip packet forwarded therefore larger mobile ip specication allows two types attachment mobile host visiting foreign network network mobile hosts home network rst type attachment mobile host connect foreign network foreign agent agent present foreign network registering foreign agents ip address home agent home agent tunnels 22 packets foreign agent decapsulates sends mobile host via linklevel mechanisms although mobile ip implementation supports use foreign agents work focused second type attachment provides mobile host colocated careof address foreign network scenario mobile host receives ip address use visits network via dhcp 6 protocol policy registers address home agent tunnels packets directly mobile host address disadvantage scenario mobile host decapsulate packets ip addresses needed foreign network one visiting mobile host advantage mobile host also becomes directly responsible addressing routing decisions packets sends therefore control operations mobile ip laid groundwork internet mobility still many challenges tackle seen ongoing eorts area eorts include route optimization 13 rewall traversal 20 bidirectional tunneling reversetunneling 19 allow packets cross securityconscious boundary routers last problem described section 32 one motivations making possible mobile hosts choose dynamically dierent packet addressing routing options believe eorts make evident inherent need mobile hosts use dierent techniques dierent circumstances 3 supporting multiple packet delivery methods supporting multiple packet delivery methods rst area increased exibility mobile hosts avoiding single method delivery mobile host pays extra cost mobility support security perimeter traversal truly needed illustrate situations found exibility benecial practice although figure 2 shows examples implemented far mechanism propose extended support delivery methods choices become desirable web traffic transparent mobility tunneling reverse bidirectional tunneling triangular routing classical basic mobile ip mobile ip routers ingreefiltering needs traverse traffic etc outside mobile host traffic initiated ip telephony telnet etc regular ip figure 2 simultaneous use multiple packet delivery methods gure summarizes dierent packet delivery choices rectangle boxes implemented far listed circles example uses packet delivery choice policy decisions made diamonds 31 providing transparent mobility support necessary transparent mobility support mobile ip important longlived connectionoriented trac incoming trac initiated correspondent hosts however transparent mobility support come without cost absence route optimization mobile ip packets destined mobile host delivered home network forwarded mobile hosts current careof address network visiting mobile host far away home relatively close correspondent host path traversed packets signicantly longer path traveled mobile host correspondent host talk directly extra path length increases latency also generates extra load internet even increases load home agent potentially contributing communication bottleneck home agent serving many mobile hosts simultaneously would ideal use mobile ip route optimization 13 however since mobile ip route optimization requires extra support correspondent hosts addition support mobile host home agent requires widespread changes throughout internet unrealistic near future fortunately certain types trac mobile host may require mobile ip support examples web browsing trac communication local services discovered mobile host web connections usually shortlived unlikely mobile host change foreign network address midst connection exceptions web push technology http 11 8 potentially use persistent transport connections even user simply press reload web transfer retried trac avoid extra cost associated mobility support 32 supporting bidirectional tunnels triangle routes communication requires transparent mobility still remains choice packet delivery methods important example communication must traverse securityconscious boundary routers result ip address spoong attacks accordance cert advisory 4 routers ltering source address ingress ltering 7 drop packet whose address topologically correct whose originating network cannot one identied source address presence routers triangle route specied basic mobile ip protocol fail figure 3 illustrates example problem correspondent host home agent mobile host figure 3 problem source ip address filtering securityconscious boundary router mobile host sends packets directly correspondent host home domain source ip address packets set mobile hosts home ip address packets dropped boundary router arrive outside institution yet claim originate within host mobile agent home correspondent host figure 4 solution ingress filtering problem address problem caused source ip address ltering securityconscious boundary routers mobile host sends packets tunneling along reverse path well since encapsulated packets tunnel mobile host home agent use mobile hosts careof address source ip address topologically correct packets longer dropped securityconscious boundary routers another example boundary router domain visited mobile host may drop packets received inside claim originate outside packets look transit trac networks carry transit trac address problems tunnel packets sent mobile host home agent correspondent hosts much way tunnel packets sent mobile host called bidirectional tunneling 19 figure 4 illustrates solution bidirectional tunneling addresses problem related ingress ltering routers comes increased cost mobile host visits network far away home tries talk correspondent host nearby network packets originating mobile host travel way home back correspondent host increasing length reverse path however packets need sent way unnecessary force trac bidirectional tunnel ingress ltering routers would drop trac sent specic destinations tunneling may unnecessary large part trac topologically incorrect source ip address packet headers problem therefore important support use triangle routing bidirectional tunneling simultaneously trac ows truly need use bidirectional tunneling pay extra cost 33 joining multicast groups dierent ways nal packet delivery mechanism experimented allow mobile host choose join multicast groups either remotely home network using home ip address locally using colocated careof address foreign network exibility necessary multicast trac often limited particular site scoping 5 also advantages disadvantages either choice 1 even scoping issue joining locally respect mobile host dierent normal host subnet advantage delivery multicast trac mobile host ecient disadvantages requires existence multicastcapable router foreign network mobile hosts actively participating multicast session reidentify within group move another network joining home network multicast trac tunneled bidirectionally mobile host home agent advantages choice require multicast support foreign network mobile host retain membership moves around disadvantage route less ecient although optimizations allow single copy multiple packets tunneled foreign agent serving multiple mobile hosts 9 home agent still must tunnel copy multicast packet foreign network one mobile hosts visiting choose either option dierent multicast groups join multicast group locally add entry mobile policy table instructing trac destined certain multicast addresses use conventional ip support join multicast group remotely add entry mobile policy table use bidirectional tunneling trac destined multicast groups mobile host also needs notify home agent registration packet forward multicast trac 4 generalpurpose mechanism flexible routing section describe mechanism used achieve exibility features described previous section generalpurpose mechanism centered around idea introducing mobile policy table routing layer network software stack ip route lookup routine ip rt route augmented take mobile policy table consideration together normal routing table determining packet sent 41 support network layer choose add support multiple packet delivery methods network layer due unique position network software stack modifying layer packets converge diverge avoid proliferation modications relatively fewer changes need made kernel network software upper layer protocol modules tcp udp lower layer drivers dierent network devices remain unchanged identify route lookup routine natural place add support along normal route selection enhanced route lookup also makes decisions choosing among multiple ways deliver packets necessitated changing environment mobile host 42 mobile policy table mobile policy table species packets sent received trac ow matching certain characteristics routing addressing policy decisions currently supported mobile policy table whether use transparent mobility support mobile ip regular ip whether use triangular routing bidirectional tunneling using mobile ip destination netmask portnum mobility tunneling table sample mobile policy table mobile policy table species trac destined back mobile hosts home domain use bidirectional tunneling satisfy boundary routers home institution rst row trac port 80 web trac avoid using transparent mobility support second row remaining trac default use mobile ip regular triangular route third row second entry applies trac destination port number 80 even destinations matching rst entry since port number specication takes precedence policies specied two types entries persocket entries generic entries persocket entries taking precedence mobile policy table contains generic entries persocket entry kept within socket data structure allows application override general rules without persocket entry trac subject generic entries policy table specify delivery policy trac matching given characteristics generic entries mobile policy table lookup currently determines policy entry use based two trac characteristics correspondent address port number tcp udp correspondent address useful often want treat ows dierent destinations dierently port number useful well many reserved port numbers indicate nature trac tcp port 23 telnet port 80 http trac characteristics currently taken consideration extend technique include characteristics future table shows example mobile policy table currently used mobile hosts visiting places outside home domain mobile policy table lookup operation always chooses specically matched entries restricted netmask andor port number specications general ones 43 works figure 5 illustrates use mobile policy table routing table within linux kernel modication kernel mainly limited route lookup function backward compatibility normal routing table remains intact route lookup extra arguments characteristics trac ow currently tcp udp port number source ip address chosen used addition correspondent hosts address deciding packet sent new route lookup function uses specied source ip address determine packet subject policy decisions mobile policy table source ip address already set ip address associated one physical network interfaces indicates mobility decision made packet packets may source address set either looped back virtual interface described since mobility decision already made time certain applications example application mobile host daemon handling registration deregistration home agent daemon needs force packet particular real interface using regular ip cases source ip address already set normal routing table consulted based upon destination address resulting route entry returned rest packets mobile policy table needs consulted choose among multiple packet delivery methods virtual interface vif handles packets need encapsulated tunneled provides illusion mobile host still home network packets sent vif encapsulated looped back ip layer shown wide bidirectional arc gure delivery home agent time however source ip address encapsulating packet already chosen mptmpt table routing ether ipip udp network layer ip ip route lookup loopback vif figure 5 gure shows mobile policy table mpt ts link network transport layers protocol stack mpt resides middle network layer consulted ip route lookup function conjunction normal routing table determine packets sent bottom link layer shows device interfaces vif virtual interface handles encapsulation tunneling packets top transport layer shows tcp udp along ipwithinip processing module arrows depict passing data packets layers shaded boxes indicate ipip vif modules overlapping functionalities bold bidirectional arc shows need pass packets two modules sent one physical interfaces accordingly packets tunneled mobile host home agent also looped ipip module vif appear arrived mobile host connected home network maintain reasonable processing overhead policy table entries cached manner similar routing table entries characteristics trac match cached entry software uses cached entry speed process policy lookup otherwise new policy table lookup carried whenever mobile policy table modied cached entries ushed believe generalpurpose mechanism easily extended take trac characteristics consideration add policy decisions becomes desirable instance particular correspondent hosts ability decapsulate packets could note information mobile policy table destinations mobile host could send encapsulated packets directly hosts bypassing home agent yet still providing robustness bidirectional tunnel 44 dynamic adaptation mobile policy table entries mobile policy table changed runtime specify dierent policy currently following two mechanisms adjust entries mobile policy table dynamically first swap new set entries mobile policy table whenever mobile host changes careof address mobile host changes point attachment internet best way communicate hosts often changes accordingly example mobile hosts move within stanford domain foreign network outside need switch using reverse tunneling trac back home domain due ingress ltering routers present boundary stanfords domain foreign networks frequently visited mobile host use predened conguration les contain set entries use mobile policy table suitable set policies put place quickly mobile host changes location previously unknown foreign networks default set policies used addition make possible change specic entries mobile policy table dynamically instance support adaptively selecting robust packet delivery method ie bidirectional tunneling ecient packet delivery method ie triangular routing mechanism helps current setting mobile policy table fails simply impossible specify right policy beforehand adaptation applies cached entries ie adjust entries actually use implement mechanism automatically dispatch separate process probes destination address sending icmp echo requests using triangular routing interval probes increased exponentially precongured maximum value ow using reverse tunneling reply probes successfully received mobile policy table entry ow changed bidirectional tunneling use ecient triangular routing ow using triangular routing mobile policy table entry changed back use bidirectional tunneling certain number probes currently failed row initial stage separate process keeps probing background maximum probe interval series probes fails ow using triangular routing switch use bidirectional tunneling probe succeeds ow using bidirectional tunneling mobile policy table entry changed use triangular routing immediately cases action necessary way ow able select adaptively ecient packet delivery method 5 supporting use multiple network interfaces simultaneously use multiple network interfaces dierent mobile hosts typical stationary machines stationary hosts multiple network interfaces usually routers forwarding packets dierent destination addresses dierent network interfaces mobile host network devices instead represent dierent ways single mobile host communicate outside world example may want use two dierent interfaces one telnet another le downloading communication host although operating systems direct broadcast multicast trac particular network interface immediately connected subnets operating systems except linux make routing decisions destination addresses alone without taking trac ow characteristics consideration standard linux distribution includes contribution enables socket choose among dierent simultaneously active network interfaces outgoing trac destinations beyond directly connected subnets goal enable mobile host make use multiple active network interfaces simultaneously dierent ows trac general way 51 motivation multiple interfaces nd support use multiple active interfaces useful following reasons 1 smoother handos ability use multiple network interfaces simultaneously mobile host probe usability interfaces beyond directly connected subnet without disturbing interface currently use current network interface remain use new careof address new network successfully registered home agent eliminates unnecessary packet loss switching careof addresses 2 quality service qos dierent physical networks user access may oer dierent qos guarantees example mobile user may simultaneous access gsm data network 27 low bandwidth relatively low latency well metricom ricochet network oers higher bandwidth higher variable latency mobile host might decide use gsm network lowbandwidth interactive ows telnet trac require low latency user satisfaction using metricom network bulk data transfer ows ftp trac require high bandwidth demand low latency combination dierent types networks deliver larger range qos mobile users 3 link asymmetry networks provide unidirectional connectivity case many satellite systems usually provide downlinks systems connectivity reverse direction provided via dierent means slip ppp dialup line cellular modem cdpd 2 device able specify incoming outgoing interfaces explicitly natural manner useful feature 4 cost billing cost accessing dierent networks may decisive factor interface selection users might select dierent interfaces according identity bill payer example might choose cheaper lower quality access network personal communications expensive better quality one business communications 5 privacy security privacy security may also considerable importance interface selection users may trust networks others prefer use condential important communications might also want privacy reasons choose dierent networks business personal communications following sections explain support feature packet transmission reception 52 supporting multiple interfaces transmission mobile host use multiple network interfaces simultaneously send packets devised following two techniques rst make use metric eld existing routing table entry multiple routes dierent interfaces associated certain destination specication usually normal default route metric one routes interfaces metrics greater one coexist normal default route routing table route lookup specify particular interface thus nd normal default route maintaining backwards compatibility since lookup always chooses matching route smallest metric second technique provide bindtodevice socket option applications call associate specic device certain socket route lookup routine modied device selection specied route entries associated particular device considered therefore dierent applications running simultaneously choose dierent network interfaces use sending packets 53 supporting multiple interfaces reception 531 overview scheme mobile host multiple interfaces running standard mobile ip cannot receive dierent ows packets dierent interfaces simultaneously mobile ip mobile host sends location updates indicate current h home address careof address binding home agent possibly correspondent hosts result packets addressed mobile host sent interface possibly multiple interfaces time simultaneous binding ag set registration extended mobile ip allow mobile host use dierent interfaces receive dierent ows work dene ow triplet h mobile hosts home ip address correspondent hosts ip address port number correspondent host denition dierent typical ow denitions include certain elds port number mobile host actually makes certain ows mobile host indistinguishable however since current goal treat trac ows dierently based mobile host talking nature communication example whether interactive trac bulk transfer believe triplet sucient capturing essential trac ow characteristics serve purpose framework mobile host may choose receive packets belonging given ow interfaces sending flowtointerface binding home agent flowtointerface binding correspondent host careof mobile host careof gsm ricochet agent home figure 6 supporting multiple incoming interfaces packets belonging ows addressed mobile host arrive home network via standard ip routing home agent intercepts packets tunnels careof address selected based packets destination addresses source addresses source ports packets tunneled careof address1 packets tunneled careof address2 species mobile hosts careof address home agent use forward packets belonging ow upon reception flowtointerface binding home agent updates extended binding list contains entries associate particular ow specication mobile hosts careof address thereafter home agent receives packet addressed mobile host serving searches extended binding list entry matching corresponding elds packet forwards packet associated careof address entry found packet forwarded mobile hosts default careof address figure 6 illustrates routing datagrams mobile host away home mobile host registered several flowtointerface bindings home agent worth noting since port number correspondent host factor distinguishing dierent ows home agent must treat already fragmented packets mobile hosts specially currently reassemble fragmented packets home agent forwarding mobile hosts since packets pass home agent suer problem normally associated reassembly intermediate routers wherein routers guaranteed see fragments describe section 8 use ipv6 ow label eliminate need defragmentation flowtointerface bindings registered home agent via two new extensions mobile ip registration messages following sections review brie mobile ip registration procedure detail new extensions devised 532 mobile ip registration procedure mobile host home agent exchange mobile ip registration request reply messages udp packets format registration request packet shown figure 7 xed portion registration request followed extensions general mechanism allow optional information protocol extensibility use general mechanism extend mobile ip protocol dierent ows mobile host associated dierent network interfaces host 533 flowtointerface binding extension mobile host may ask home agent register number flowtointerface bindings appending registration request list flowtointerface extensions dening flowtointerface binding registered flowtointerface binding extension format shown figure 8 sbdmgvtr type lifetime home agent home address careof address extensions figure 7 mobile ip registration request registration request used mobile host create home agent mobility binding static ip address home network ie home address current careof address general extension mechanism dened extending protocol type length ch address flow careof address figure 8 flowtointerface binding extension ch correspondent host address ch port elds extension together mobile hosts home address dene ow associated careof address specied flow careof address eld type length reserved new careof address old careof address figure 9 flowtointerface binding update extension ows previously bound old careof address redirected new careof address 534 flowtointerface binding update extension mobile host may ask home agent redirect certain existing ow bindings dierent careof address using flowtointerface binding update extension binding update extension format detailed figure 9 extension useful mobile host changes point attachment one interfaces obtains new careof address interface 535 compatibility issues want ensure unmodied mobile hosts able use enhanced home agent enhanced mobile hosts work properly unmodied home agents rst scenario issue since enhanced home agent process regular registration messages well new extensions however second scenario requires consideration according mobile ip specication 23 extension numbered within range 0 127 encountered recognized message containing extension must silently discarded extension numbered range 128 255 encountered recognized particular extension ignored rest extensions message must still processed choose number new extensions within range 128 255 since undesirable registration packets silently discarded causing system wait timeouts instead mobile host sends flowtointerface binding registration home agent support flowtointerface bindings packets still processed safe since registration message normal registration message excluding flowtointerface binding extension however distinguish unsuspecting home agents enhanced home agents make enhanced home agents use dierent return codes reply registration requests flowtointerface extensions registration accepted home agent returns code 2 instead 0 return code 3 instead 1 used registration accepted simultaneous mobility binding granted therefore mobile host sends registration requests flowtointerface binding extensions gets return code 0 1 reply stop sending flowtointerface binding extensions home agent since continuing send waste bandwidth 6 implementation status experiments 61 implementation status implemented support multiple packet delivery methods simultaneous use multiple network interfaces top mobile ip implementation 3 linux currently kernel version 2036 core functions mobile ip implementation reside within kernel packet encapsulation forwarding functions sending receiving registration messages implemented userlevel daemon mobile host choose use either mobile ip regular ip use either bidirectional tunneling triangular routing dierent ows trac time also provide mobilityaware applications exibility choose incoming outgoing interfaces use two new socket options bind ows given interfaces bindtodevice 1 option used application bind outgoing ows socket interface bind flowtodevice option used application bind incoming ows socket given interface 62 experiments multiple packet delivery methods 621 benets choice delivery method performance impact trac ows look mobile host one particular real scenario illustrate potential benets certain ows able receive use ecient delivery methods made possible exible mechanism note scenarios could see dierent results depending actual network latency mobile host home agent correspondent host evaluate latency improvement resulting using direct route possible circumstances experiments mobile host connects foreign network one campus residences also ethernet registers current careof address home agent setup test scenario illustrated figure 10 mobile host sends ping icmp echo request packets default gateway acting correspondent host local subnet measure roundtrip latency using following three delivery methods switching manipulating mobile policy table regular ip transparent mobility support 1 name bind outflow interface would appropriate next socket option also named accordingly unfortunately original name bindtodevice already standard linux distribution home gateway home gateway residence gateway residence network mobile host department network network home agent department gateway figure 10 setup test environment experiments multiple packet delivery methods mobile host visits campus residence network foreign network mobile host thinkpad 560 home agent 90mhz pentium running linux delivery method min ms max ms avg ms standard deviation bidirectional tunneling 73 93 79 036 triangular route 45 62 50 035 regular ip 20 40 24 035 table latency comparison using small packets using 64 bytes icmp data ie default ping packet size test delivery method repeated 100 times interval 2 seconds delivery method min ms max ms avg ms standard deviation bidirectional tunneling 374 424 384 12 triangular route 246 309 254 10 regular ip 115 145 124 06 table latency comparison using large packets using 1440 bytes icmp data test delivery method repeated 100 times interval 2 seconds triangular delivery default behavior mobile ip bidirectional tunneling securityconscious boundary routers collect data repeating test 100 times interval two seconds delivery method results shown table 2 small packets table 3 large packets experimental setup exible mechanism reduces latency one half small large packets choosing regular ip default mobile ip behavior even mobility support necessary exible mechanism still reduces latency one third small large packets choose triangular route robust costly bidirectional tunnel 622 cost measure time spent regular route lookup time spent route lookup mobile policy table lookup mobile host examine dierence determine added latency making policy decisions according mobile policy table results shown table 4 overhead consulting mobile policy table route lookups small less 20 even entries currently cached less one percent cached uncached experiment time regular route lookup 185 08 1001 09 route lookup w mpt 235 07 1165 12 table cost support simultaneous use multiple packet delivery methods experiment measures time needed regular route lookup time spent modied route lookup mobile policy table mpt consultation measurement repeated 10 times tested cases cache hit cache miss looking routes home agent correspondent host mobile host foreign network home network router host mobile figure 11 setup test environment experiments flow demultiplexing mobile host gateway2000 486dx240 processor home agent toshiba tecra pentium 133mhz ethernet interface well metricom radio interface correspondent host 90mhz pentium machines running linux roundtrip time two hosts ethernet segment typically around 2ms 63 experiments multiple active interfaces main possible source overhead supporting multiple interfaces ow demultiplexing processing home agent may aect latency throughput goal experiments described section evaluate latency cost demultiplexing ie extra time takes home agent forward packet addressed mobile host setup test environment illustrated figure 11 experiments mobile host connects foreign network one departments ethernets registers current careof address home agent correspondent host sends ping packets mobile host measure ow binding demultiplexing time home agent monitoring code using linux gettimeofday kernel function consider two cases home agent flowtointerface bindings regular mobile ip used home agent contains flowtointerface bindings must search list bindings forwarding packet mobile host collect data repeating test 10 times number bindings home agents list increases 0 60 table 5 displays results results ow binding demultiplexing cost may seem large compared demultiplexing time incurred regular mobile ip home agent 21 extra cost small additional factor compared roundtrip time mobile host correspondent host approximately 5400 experimental setup ow binding demultiplexing cost varies 23 one binding 92 bindings note cost per ow binding decreases number ow bindings list increases result converging 012 result explained structure ow binding lookup function function composed two parts rst part takes xed amount time locate packet processing demultiplexing flow flow bindings time standard deviation cost per binding 53 046 32 011 table flow binding demultiplexing cost packet processing column displays total time spent home agent deciding forward packet mobile host demultiplexing flow column displays cost ow demultiplexing part total packet processing time entry mobile host mobility binding table home agent hashing mobile hosts home ip address second part searches list ow binding corresponding incoming packet number bindings list small cost rst part dominates hand number bindings list large cost rst part amortized eect becomes negligible 7 related work several projects focusing providing exibility support mobile hosts dierent layers network software stack work oregon graduate institute portland state university 11 concentrates lower network layers addresses exibility needs mobile host face physical media changes mainly dealing ip reconguration issues focus model determines set available network devices dynamically recongures mobile system response changes linklayer environment cmu monarch project 12 aims enabling mobile hosts communicate stationary wired hosts transparently adaptively making ecient use best network connectivity available mobile host time overall goal similar although project currently support use multiple packet delivery methods simultaneously monarch also focuses ad hoc networking currently support cmu odyssey project 21 extends unix system call interface support adaptation application layer odyssey exposes resources applications allowing specify bound tolerance resource behavior resource moves outside tolerance window application informed via upcall making simultaneous use multiple interfaces also important goal work maltz bhagwat 17 approach provides transport layer mobility splitting tcp session mobile host server two separate tcp connections proxy packets mobile host server travel allows mobile host change point attachment internet rebinding mobileproxy connection keeping proxyserver connection unchanged control network interfaces used dierent kinds data leaving arriving mobile host however work diers use mobile ip selects interface explicitly picking corresponding ip addresses use per session basis enhancement mobile ip select dierent interfaces use dierent ows even mobile host always assumes static home address barwan project 14 uc berkeley also provides network layer mechanisms support mobile hosts dierent focus aims building mobile information systems upon heterogeneous wireless overlay networks support services allowing mobile applications operate across wide range networks concentrate providing lowlatency handos among multiple network devices use mobile policy table similar security policy database spd ipsec 15 needs consulted processing trac mobile policy table used direct addressing routing decisions sending packets spd deals security aspects trac control another dierence mobile policy table eect outgoing trac aects incoming trac selection source ip address outgoing trac andor coordination home agent spd eect inbound outbound trac time summary approach focuses network layer providing increased support mobile host control sends receives packets work diers work combination following features 1 mobile ip integral part system address issue mobile ip used eciently exibly mobile hosts 2 system provides support multiple packet delivery methods 3 system enables use multiple active interfaces simultaneously 8 ipv6 considerations ipv6 10 mobile host always able obtain colocated careof address network visiting however fact mobile host always home role acting host still connected home network local role acting normal host visited network simultaneously still issue example multicast scoping mobile host needs assume home role wants join multicast group scoped within home domain needs assume local role join multicast group scoped within visited domain therefore duality roles mobile host assume always need mobile host select dierent packet delivery methods dierent trac ows regard multiple interface management ipv6 following observations 1 mobile ipv6 24 provides route optimization result correspondent hosts send packets directly mobile host without going home agent therefore flowtointerface binding extensions need sent correspondent hosts well 2 ipv6 ow label eld useful providing multiple interface support ow label eld ipv6 header set source packet used routers identify ows ow label eld could used home agent demultiplex packets forward appropriate interfaces without looking transport layer eld port information identify ow also simplies handling fragmented packets home agent eliminating need reassemble forwarding mobile host 3 ipv6 provides priority class eld used routers provide dierent services dierent types packets eld potentially used proposal home agent determining appropriate interfaces forward packets addressed mobile host absence flowtointerface binding registrations 9 conclusions future work mobile hosts use multiple interfaces dynamic environment may operate mobile host using mobile ip demands exibility way sends receives packets fine granularity control network trac per ow basis needed experiments show reasonable overhead address exibility needs mobile host maintaining balance robustness eciency needs packet delivery desirable choose dierent packet delivery methods according characteristics dierent trac ows devised generalpurpose mechanism network routing layer make possible coupling consultation mobile policy table regular routing table lookup also desirable mobile host able make use multiple network interfaces simultaneously dierent ows trac added two new socket options extended mobile ip protocol new registration extensions mobile host control interface use send receive packets 10 acknowledgements thank petros maniatis kevin lai mema roussopoulos diane tang mosquitonet group discussions feedback ideas presented paper ajay bakre charlie perkins provided thoughtful comments suggestions earlier version paper also grateful anonymous reviewers extremely detailed comments work supported part student fellowship xerox parc terman fellowship grant ntt docomo grant keio research institute sfc keio university informationtechnology promotion agency japan r ip multicast extensions mobile internetworking cellular digital packet data standards technology supporting mobility mosquitonet computer emergency response team cert multicast routing datagram internetworks extended lans dynamic host con network ingress filtering defeating denial service attacks employ ip source address spoo hypertext transfer protocol http11 mobile multicast mom protocol multicast support mobile hosts new internet protocol dynamic network recon protocols adaptive wireless mobile networking route optimization mobile ip case wireless overlay networks security architecture internet protocol experiences mobile testbed msocks architecture transport layer mobility reverse tunneling mobile ip suns skip firewall traversal mobile ip agile applicationaware adaptation mobility ip encapsulation within ip ip mobility support mobility support ipv6 internet protocol transmission control protocol introduction gsm wavelan support tr ctr junzhao sun jukka riekki jaakko sauvola marko jurmu towards connectivity management adaptability context awareness policy representation endtoend evaluation algorithm proceedings 3rd international conference mobile ubiquitous multimedia p8592 october 2729 2004 college park maryland trevor pering yuvraj agarwal rajesh gupta roy want coolspots reducing power consumption wireless mobile devices multiple radio interfaces proceedings 4th international conference mobile systems applications services june 1922 2006 uppsala sweden