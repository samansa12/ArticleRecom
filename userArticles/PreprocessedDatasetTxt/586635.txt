geometry color natural images image analysis algorithms defined grey level channel particularly geometric information looked digital image propose experimental procedure order decide whether attitude sound test hypothesis essential geometric contents image contained level lines set level lines topographic map complete contrast invariant image description yields line structure far complete edge description since fully reconstruct image local contrast change design algorithm constraining color channels given image geometry ie level lines grey level assumption essential geometrical information contained grey level sound algorithm alter colors image visual aspect display several experiments confirming hypothesis conversely also show effect imposing color image topographic map another one results striking way dominance grey level fading color deprived geometry finally give mathematical proof algorithmic procedure intrinsic ie depend asymptotically upon quantization mesh used topographic map also prove contrast invariance b introduction color different angle paper shall first review briefly main attitudes adopted towards color art science section 1 focus image analysis algorithms define needed terminology section 2 particular topographic map support therein view geometrical information grey level image fully contained set level lines section 3 devoted description experimental procedure check whether color information contents considered mere non geometrical complement geometry given topographic map continuation description several experiments color digital images performed section 4 mainly mathematical check several point views soundness proposed algorithm particular independence quantization procedure consistency assumption grey level image bounded variation contrast invariance proposed algorithm 11 painting linguistics colorgeometry debate theory painting never closed school painters making manifesto preference delacroix claimed lennemi de toute peinture est le gris 23 impressionnists la couleur est toutmonet role contours geometry prominent renaissance painting also surrealistic school cubists last school mostly concerned deconstruction perspective shape 18 kandinsky founder theoretician abstract painting color drawing treated totally separate way color associated emotions spirituality building painting essentially question drawing abstract shape content relying drawing black strokes 12 discussion forget accurate definition color given quantum mechanics photon wave length human animal perception extremely blurry variable red green blue color captors retina strong variable overlap give poor wavelength resolution comparable auditive frequency receptivity sounds different civilisations even quite different color systems instance linguist louis hjelmslev 10 derriere les paradigmes qui dans les differentes langues sont formes par les designations de couleurs nous pouvons par soustraction des differences degager un tel continuum amorphe le spectre des couleurs dans lequel chaque langue etablit directement ses frontieres alors que cette zone de sens se forme dans lensemble peu pres de la meme facon dans les principales langues de leurope il nest pas difficile de trouver ailleurs des formations differentes en gallois vert est en partie gwyrdd et en partie glas bleu correspond glas gris est soit glas soit llwyd brun correspond llwyd ce qui veut dire que le domaine du spectre recouvert par le mot francais vert est en gallois traverse par une ligne qui en rapporte une partie au domaine recouvert par le francais bleu et que la frontiere que trace la langue francaise entre vert et bleu nexiste pas en gallois la frontiere qui separe bleu et gris lui fait egalement defaut de meme que celle qui oppose en francais gris et brun en revanche le domaine represente en francais par gris est en gallois coupe en deux de telle facon que la moitie se rapporte la zone du francais bleu et lautre moitie brun summarize semantic division colors simply different french english welsh easy translation four colors french covered three different ones welsh 12 perception theory perception theory support anymore absoluteness color infor mation monumental work visual perception wolfgang metzger 15 dedicates one tenth treatise 2 chapters 19 perception colors chapters mainly concerned impossibility define absolute color systems variability definition color different lighting conditions consequent visual illusions see particular subsection gibt es eine physikalisch festliegende normale beleuch tung und eine eigentliche farbe physically well founded normal illumination proper color noticeably treatise 100 percent experiments directly concerned color made black white drawings pictures fact gestaltists question existence color information go far deny physical reality grey level scale grey levels measurable physical quantities level say temperature pression velocity main reason invoked images generated control even knowledge illumination conditions physical reflectance objects may also explain failure several interesting attempts use shape shading information shape analysis 11 contribution black white photographs movies demonstrate essential shape content images encoded gray scale attitude seems corroborated image processing research indeed although able deliver faithful statistics state overwhelming majority image processing algorithms designed tested validated grey level images satellite multispectral images spot images instance attribute double resolution panchromatic ie grey level images simple one color channels somehow color assumed give semantic information like eg presence vegetation engineering decision meets kandinskys claim 13 image processing algorithms let us consider practice image processing algorithm applied color images generally first designed tested grey level images applied independently channel experimentally difficult demonstrate improvements due joint use three color channels instead independent processing antonin chambolle 6 tried several strategies generalize mean curvature algorithms color images overall conclusion private communication perceptible improvement made defining color gradient diffusing channel independently led essentially equal results perception viewpoint recent equivalent attempt define color gradient order perform anisotropic diffusion sophisticated way diffusing channel independently given 21 authors provide comparison algorithm making independent diffusion channel however study contradict mentioned conclusion pietro perona 19 performed experiments color images applied peronamalik anisotropic diffusion 20 paper propose numerical experimental procedure check color information contribute geometric understanding natural images statement made precise first considered common sense consequence arbitrariness lighting conditions total inaccuracy color wavelength perception makes definition color channels contextdependent explains literature color mainly devoted restoration universal color characteristics saturation hue luminance three characteristics luminance defined sum color channels relative physical meaning indeed luminance grey level defined photon count period time exposure time thus relate linear combination r g b channels photon count mentionned perception theory viewpoint see eg wertheimer 25 even grey level information subject much variability due unknown illumination reflectance condition cannot consider physical information mathematical morphology topographic explains matheron serra 22 developed theory image anal ysis focused grey level operators called flat morphology contrast invariance rule flat morphological operators eg erosions dilations openings closings connected operators etc commute contrast changes therefore process independently level sets grey level image following let us denote ux grey level image u point x digital images accessible information quantized sampled version u ui j j set discrete points general grid ui j belongs fact discrete set values 0 1 255 many cases since shannon theory assume ux recoverable point samples ui j first approximation assume image ux known quantization noise since illumination reflectance conditions arbitrary could well observed image gux g increasing contrast change thus really know fact level sets somehow forget actual value according mathematical morphology doctrine reliable information image contained level sets independently actual levels thus led consider geometric information shape information contained level sets define geometry image paragraph simply summarizing arguments contained explicitly implicitly mathematical morphology theory developed 5 describe level sets boundaries suitable general assumptions jordan curves jordan curves continuous maps circle plane ir 2 without crossing points take instance invoke assume image u bounded variation almost levels u x u set bounded perimeter boundary countable family jordan curves finite length 1 mentioned work demonstrated level line structure whose existence assumed 4 indeed mathematically consistent image belongs space bv functions bounded variation also proved connected components level sets image give locally contrast invariant description digital framework assumption level lines jordan curves straightforward adopt nave useful view u constant pixel level lines concatenations vertical horizontal segments shall visualize practice explained 5 level lines series structure properties make suitable building blocks image analysis algorithms call set level lines image topographic map topographic map invariant wide class local contrast changes 5 useful tool comparing images object different illuminations application developed 2 proposed algorithm create two images third whose topographic map roughly speaking intersection two different input images level lines never meet build inclusion tree data structure giving fast access one therefore possible developed 17 proved inclusion trees upper lower level sets merge conceive topographic map tool giving complete description global geometry grey level images application shape recognition registration developed 16 proposes topographic map based contrast invariant registration algorithm 13 propose registration algorithm based recognition pieces level lines algorithm contrast invariant occlusion stable several morphological filters easy formalize implement topographic map formalism instance vincentserra connected operators 24 14 filters well local quantization algorithms easily defined 5 overall assumption first reliable geometric information contained topographic map second level line structure many aspects complete ness inclusion structure stable say edges regions obtained edge detection segmentation particular advantage level lines edges striking reconstruction viewpoint reconstruct exactly original image topographic map edge structure implies loss information many artifacts therefore appealing extend topographic map structure color images aim shall try attain attain trivial way intend show experimental mathematically founded procedure geometric structure color image essentially contained topographic map grey level terms propose topographic map color image simply topographic map linear combination three channels true claim tasks like shape recognition general anything related image geometry performed subjacent grey level image shall see next section review several points view attitude scientists artists toward color claim nothing new implicit way usually proceed image processing wish however make explicit get rid bad consciousness feel ever working thinking teaching grey level images somebody assistance always asks color images propose prove need geometric analysis 21 definition geometry led define geometry digital image defined topographic map color aim prove consider color information subsidiary information may well added geometric information yield much never contradicts proceed general words shall define experimental procedure prove replacing colors image conditional expectation respect grey level alter color image course statement needs mathematical formalization translated algorithm prefer sake clarity start description algorithm next section shall display experiments since far color concerned visual inspection ultimate decision tool used check whether colored image altered section 4 devoted complete mathematical malization ie proof defined procedure converges way depends upon choice special quantization parameters although aim let mentionned extensions work application compression multichannel images course 7 idea compress grey level channel encoding topographic map instead encoding color channels separately encoding conditional expectation respect topographic map computed definition become clear next two sections 3 algorithm experiments 31 algorithm morphological filtering color images algorithm present based idea color component image give contradictory geometric information grey level case complementary following ideas previous works see 4 5 describe geometric contents image topographic map contrast invariant complete representation image discuss section 4 extension color channels contrast invariance property algorithm shall define imposes chromatic components saturation hue geometry topographic map luminance component shall experimentally check create new colors overall color aspect image change operation sense although aim algorithm alternative color anisotropic diffusions algorithms already mentioned 3 6 21 define algorithm take partition grey level range luminance component practice partition defined grey level quantization step resulting set level lines restriction chosen levels topographic map consider connected components set complementary level lines discrete case connected components sets finite perimeter given finite number pixels constitute partition image continuous case must impose restriction space functions take see section 4 algorithm propose following let u intensity red green blue channels compute l h values color signal ie luminance saturation hue defined red pwith perceptually less correct simpler oe theta ux oe theta01 1 ii compute topographic map associated l fixed quantization step terms compute level lines levels multiple fixed factor instance 10 quantization process yields topographic representation partial coherent view image structure see 5 details visualization topographic map computation obvious first compute level sets union pixels levels multiples entire quantization step simply compute boundary concatenations vertical horizontal lines iii connected component topographic map l take average value precisely let fx pixels compute value new constant value connected component components h terms transform h h constant value fact average value inside connected component topographic map l luminance component consequence obtain new representation image piecewise constant connected components topographic map therefore constrain color channels h topographic map grey level iv finally order visualize color image compute u defined respectively new red green blue channels image performing inverse color coordinates change l remark 1 note order perform visualization channel space must range values fixed interval b practice discrete case applying preceding algorithm range altered cant recover range values final components therefore threshold components final range 0 255 slight change algorithm obtained take instead average chromatic components image connected components average components weighted modulus gradient luminance component see remark theorem 3 means replace step iii algorithm given iii iii connected component topographic map l let fx pixels region compute value v new constant value connected component components h shall explain section 4 measure geometric meaning variant 32 experiments discussion experiment 1 image 11 original image shall call tree image lcomponent l take topographic map level lines levels multiples results image 12 large enough regions noticed grey level therefore constant apply algorithm taking average components connected components topographic map ie flat regions grey level image quantized mesh equal 5 equivalently results averaging color tree white region image i2 obtain image 13 image 14 display detail original image tree detail color averaging process applied part image algorithm brings geometric alteration indeed part grey level contrast seas blue trees light brown vanishes tiny part tree becomes blue detail hardly perceptible full size image color coherence preserved new color created surprising matter fact never observed creation new colors averaging process experiment 2 image 21 original image call peppers image 22 topographic map peppers levels multiples 10 way practical rule quantizations image mesh 5 seldom visually noticeable case go mesh 10 without visible alteration image 23 displays outcome averaging colors flat zones image 2 equivalent averaging colors white regions image 22 color bring relevant geometrical information complementary grey level expected image 23 lost geometric details respect image 21 case natural images applied procedure outcome conditional expectation color respect grey level yields perceptually image original aware one numerically create color images different colors exactly grey level grey level image level lines applied procedure images would course see strong difference processed one would become uniform original generic situation natural images color contrast always implies grey level contrast empiric law easily checked natural images seen experiment 1 case noticed slightly violated two different colors happening locally grey levels differed less 5 grey levels image 24 explore dominance geometry color giving tree colors peppers obtained image averaging colors peppers white regions tree reconstructing image whose grey level tree colors peppers experiment 3 explore striking results mixing color image grey level another one conclusion cases like image 24 dominance grey level color far geometric information concerned close absolute image 31 converse procedure one image 24 average colors tree conditionally topographic map peppers amazing result new pepper image geometric content tree anymore visible course two experiments totally fair since force color second image topographic map first one thus image 32 simply constructed image grey level peppers colors tree notice dominance peppers fading shapes tree image 33 display original baboon image image 34 result imposing colors tree baboon mainly see baboon experiments used first version mean value algorithm one described remark 2 experimental records show visible difference algorithms 33 conclusions conclusions contained text experiments image processing viewpoint would like mention possible ways appli cations although presented algorithm application visual inspection check independence geometry color deduce inquiry possible new ways process color images first consider compression multichannels images led back compression topographic map given panchromatic grey level image kind attempt course 7 also one may ask whether color images given resolution smaller panchromatic image eg case spot images deconvolved led back grey level resolution seems possible deconvolution made strong constraint topographic map color coincides grey level topographic map image 11 image 12 image 13 image 14 experiment 1 image 11 original image image 12 topographic map lcomponent lsh color space level lines multiples 5 application algorithm taking average sh components connected components image 12 gives us image 13 finally image 14 display detail original image tree detail algorithm applied image 21 image 22 image 23 image 24 experiment 2 image 21 original image image 22 topographic map lcomponent lsh color space level lines multiples 10 application algorithm image 21 white regions image 22 give us image 23 finally obtain image 24 averaging colors image 21 white regions image 11 image 31 image 32 image 33 image 34 experiment 3 image 31 average colors tree conditionally topographic map image 21 image 32 shows grey level image 21 colors image 11 image 33 original image image 34 result imposing colors image 11 image 33 4 formalization algorithm let b measure space f ae b family measurable subsets connected component analysis f map assigns set x 2 f family subsets c x c n x contained cm x 0 notice definition asks usual definition 22 since request sets f essentially decomposable connected components positive measure eg f set open sets ir 2 usual definition connectedness applies ie satisfies requirements ii measurable function let fu family sets contained oealgebra generated level sets fig assume connected component analysis given words fu family subsets connected components computed satisfy ii bg partition b partitions called admissible let us denote ccp set connected components sections connected component 2 ccp define average value v z vxd define function function nothing conditional expectation v 2 l 1 b respect oealgebra ap subsets generated ccp next proposition summarize basic properties conditional expectations 26 ch 9 proposition 1 let x b measure space let suboealgebra b let l 1 x b space measurable respect b functions lebesgue integrable respect let l 1 subspace functions measurable respect eja bounded linear operator l 1 x b onto l 1 particular v measurable respect iii 0 suboealgebra particular bg admissible partition b let p bg refinement p ie partition b coincides one b j section b j 1 ap suboealgebra p 0 proof let 2 ccp connected component u i1 let j k according axiom ii connected component b l contained connected component 1g axiom connected component b l l contained disjoint modulo null set let set connected components b l l contained indeed true would find axiom ii another connected component b l contained would obtain contradiction space functions measurable respect oealgebra ap integrable proposition 1 translated statement operator eju proposition 2 let p admissible partition b eju p bounded linear operator l 1 b onto l 1 ap satisfying properties proposition 1 p 0 admissible refinement p eevju proof shown ap suboealgebra p 0 let 2 ccp n 2 ccp 0 z vxdx x z vxdx equivalent 4 partition b define i2f01n gamma1g let p n sequence partitions b p n admissible ie sections u associated levels p n fu b p n1 refinement p n c note oealgebras apn form filtration ie increasing sequence oealgebras contained proposition 2 thus v n martingale relative fapn g n 8 ch vii sect 8 according martingale convergence theorem theorem 1 let a1 oealgebra generated sequence oealgebras apn n 1 ie smallest oealgebra containing v 2 ae function may considered projection v space particular proof bounded martingales l p converge l p ae p 1 ae martingales generated conditional expectations function v 2 l respect filtration equiinte grable thus converge l 1 26 8 ch vii p 319 levys upward theorem v 331 final statement consequence properties conditional expectations described proposition 2 41 bv model letomega open subset ir n function u 2 l whose partial derivatives sense distributions measures finite total variation inomega called function bounded variation class functions denoted radon measures defined inomega finite total mass inomega zomega zomega thus gradient u vector valued measure whose finite total variation open omega given defines positive measure called variation measure u information concerning functions bounded variation refer 9 27 lebesgue measurable subset e ir n point x 2 r n following notation used dx e dx e called upper lower densities x e upper lower densities equal common value called density x e denoted dx e measure theoretic boundary e defined e 0 dx ir n n e 0g follows shall denote h ff hausdorff measure dimension ff 2 0 n particular h n gamma1 denotes n gamma 1dimensional hausdorff measure h n ndimensional hausdorff measure coincides lebesgue measure ir n let e subset ir n wih finite perimeter amounts say space functions bounded variation rectifiable ie 1dimensional embedded submanifold ir n h n h n gamma1 e k de k shall denote p e perimeter e shown 1 define connected components set finite perimeter e sets finite perimeter constitute partition us describe results set finite perimeter say decomposable exists partition b e p b strictly positive measure say e indecomposable decomposable theorem 2 1 let e set finite perimeter ir n exists unique finite countable family pairwise disjoint indecomposable sets fy n g n2i sets finite perimeter iii sets n maximal indecomposable ie indecomposable set f e contained modulo null set set n sets n called mcomponents e moreover f set finite perimeter contained e mcomponent f contained mcomponent e words f per denotes family subsets ir n finite perimeter statement gives connected component analysis ir n f per let 1omegagamma3 without loss generality may assume u takes values b know almost levels level set u set finite perimeter let fig u gamma1 ff fi finite perimeter theorem 2 describes connected component analysis gu let p n sequence partitions b p n1 refinement p n b n 2 sections u associated levels p n sets finite perimeter c given oealgebra measure denote completion respect ie setg sequences partitions b satisfying b c let a1 resp b1 oealgebra generated sequence oealgebras apn resp aqn proof suffices prove given n 2 x mcomponent interval p n set z 2 b1 x deltaz large enough c intervals qm c 2 b ffl since mcomponent set b contained x disjoint z union mcomponents sets b contained x obviously z 2 b1 xnz implies statement lemma proves oealgebra generated sequence oealgebras apn n 1 independent sequence partitions satisfying us denote u oealgebra given last lemma observe euja u theorem 3 let v 2 l sequence partitions satisfying b c let v martingale relative fapn converges l 1 ae function may considered projection v space l p limit independent sequence partitions satisfying particular remark let u jdujdx may also define z vjdujdx z results similar proposition 2 theorem 3 hold e 0 operator l formally z vjdujdx z z cua vjdujdx z cua z c dt z u vjdujdx z c dt z u z c z z c z connected component c z z denotes connected component obtained letting c case consideration amounts interpret algorithm computation average v along connected components level curves u note take formula gives letting c 42 contrast invariance color state contrast invariance axiom color contrast invariance operations color 6 say operator morphological u h u oe h continuous increasing real function refer functions h contrast changes color vectors proposition 3 let u color image l 2 omegagamma let al oealgebra associated luminance channel described previous section let us define filter f u e ehujal l f morphological operator proof let h contrast change color vectors let v color image luminance saturation hue color vector hv given oe theta hv oe theta01 luminance saturation hue color vector f hu e hlu ehujal c l using proposition 1 ii may write 13 e ehujal c l definition f u immediate equal e ehujal c l thus f ie operator f contrast invariant acknowledgement gratefully acknowledge partial support cycit project reference tic990266 tmr european project viscosity solutions applications fmrxct980234 r connected components sets finite perimeter applications contrast invariant image intersection total variation methods restoration vectorvalued images topographic maps local contrast changes natural images topographics maps color images measure theory fine properties functions robot vision mit press point et ligne sur plan filtrage et desocclusion dimages par methodes densembles de niveau phd thesis cahiers de lens cachan fast computation contrast invariant image representation anisotropic diffusion multivalued images applications color filtering image analysis mathematical morphology morphological area openings closings grayscale im ages cambridge mathematical textbooks tr curvature primal sketch dynamic shape weakly differentiable functions scalespace edge detection using anisotropic diffusion theory multiscale curvaturebased shape representation planar curves topographic maps local contrast changes natural images robot vision topographic maps color images ctr ballester vicent caselles laura igual joan verdera bernard roug variational model pxs image fusion international journal computer vision v69 n1 p4358 august 2006 jean serra lattice approach image segmentation journal mathematical imaging vision v24 n1 p83130 january 2006