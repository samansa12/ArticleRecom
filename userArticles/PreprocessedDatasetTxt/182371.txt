measure stochasticity density hard languages main theorem paper every real number alpha1 eg alpha099 measure 0 subset languages decidable exponential time leqpnalpha ttreducible languages exponentially dense thus every leqpnalpha tthard language e exponentially dense strengthens watanabes 1987 result every leqpo log ntthard language e exponentially dense combinatorial technique used sequentially frequent query selection also gives new simpler proof watanabes result main theorem also implications structure np strong hypotheses ogiwara watanabe 1991 shown hypothesis pnenp implies every leqpbtthard language np nonsparse ie polynomially sparse technique appear allow significant relaxation either query bound sparseness criterion shown stronger hypothesisnamely np measure 0 exponential timeimplies stronger conclusion every real alpha1 every leqpnalpha tthard language np exponentially dense evidence presented stronger hypothesis reasonable proof main theorem uses new general weak stochasticity theorem ensuring almost every language e statistically unpredictable feasible deterministic algorithms even linear nonuniform advice b introduction dense must language f0 1g order hard complexity class c ongoing investigation question especially important yielded several significant results 3 11 19 21 22 29 30 past 15 years formalization question must specify class c give precise meanings hard dense results paper concern polynomial subclasses c classes though particularly interested case consider polynomialtime reducibilities p turing reducibility p btt bounded truthtable reducibility qgammatt truthtable reducibility qn queries inputs length r reducibilities say language p r hard class c languages c p r r ag two criteria dense language widely used language polynomially sparse write 2 sparse polynomial p jan j pn n 2 n language exponentially dense write 2 dense real number ffl 0 jan j 2 n ffl sufficiently large n 2 n clear sparse language dense choices reducibility p r known p r hard languages np dense efforts explain observation similar observations classes reducibilities yielded many results see 8 thorough survey mention four results particularly relevant work presented let dense c denote complement dense ie set languages ffl 0 exist infinitely many n reducibility p r set languages write first result density hard languages following theorem 11 meyer 21 every p hard language e larger class dense theorem 11 subsequently improved truthtable reducibility olog n queries theorem 12 watanabe 30 29 every p olog ngammatt hard language e dense regarding np berman hartmanis 3 conjectured sparse language hard np unless conjecture subsequently proven correct theorem 13 mahaney 19 p 6 np sparse language hard np sparsetheorem 13 recently extended truthtable reducibility bounded number queries theorem 14 ogiwara watanabe 22 p 6 np sparse language p btt hard np sparsethe main theorem paper theorem 42 extends theorems 11 12 showing every real ff measure 0 subset languages e p reducible nondense languages measure 0 subset refers resourcebounded measure theory lutz 15 16 also explained section 3 notation theory main theorem says every real ff 1 means p n ff gammatt dense c e negligibly small subset e 15 16 particular main theorem implies ie every p n ff gammatt hard language e dense strengthens theorem 12 extending truth table reducibility olog n queries n ff queries ff 1 also worth noting combinatorial technique used prove 11 12the sequentially frequent query selectionis simpler watanabes direct proof theorem 12 surprising one considers proof 12 via 11 resourcebounded instance probabilistic method 5 24 25 6 26 1 exploits fact often easier prove abundance objects given type construct specific object type proof 11 also shows every real ff 1 much interest main theorem concerns class np theorems 13 14 already noted reducibilities p r discussed paper known p r hard languages np dense one thus led ask whether reasonable hypothesis prove results form various choices reducibility p r result much stronger corresponding result enormous gap polynomial 2 n ffl growth rates ogiwara watanabes proof theorem 14 appear allow significant relaxation either query bound sparseness criterion fact appears beyond current understanding prove results form 14 p 6 np karp lipton 11 proven stronger hypothesis sigma p 2 gives stronger conclusion theorems 13 14 however karp liptons proof appear allow relaxation sparseness criterion results form appear achievable time taken sigma p make progress matters type lutz proposed investigation measuretheoretic hypotheses np e 6 0 expressions say np measure 0 e 2 np negligible subset e 2 np measure 0 negligible subset e respectively explain meaning hypotheses best understood terms negations condition np means exist fixed polynomial q fixed positive quantity c 0 capital money fixed betting strategy algorithm oe following properties given language strategy oe bets membership nonmembership successive strings betting begins oe capital money c 0 betting string w 2 f0 1g strategy oe given input string consisting successive bits v 2 strings v precede w standard ordering f0 1g input strategy oe computes 2 qjwj steps fraction r 2 gamma1 1 current capital bet w 2 oes capital prior bet c oes capital bet c1 betting fair finally strategy oe successful sense 2 np oes capital diverges 1 betting progresses successive strings w 2 f0 1g thus condition np asserts existence fixed 2 qn timebounded algorithm betting successfully membership strings languages np np dtime2 rn fixed polynomial r easy devise strategy np conversely np j np nearly contained fixed dtime2 qn sense fixed 2 qn timebounded algorithm oe successfully betting languages np appear priori reason believing strategy oe exists ie appear priori reason believing np similarly appear priori reason believing np j e 0 hypotheses e 6 0 thus reasonable relative current knowledge hypothesis polynomialtime hierarchy separates infinitely many levels enjoys similar status may false false remarkable algorithm exists fact lutz conjectured conditions np e 6 0 may true time unable prove disprove widelybelieved conjectures together known implications e means currently unable prove disprove statements e 6 0 thus present interested conditions np e 6 0 conjectures rather scientific hypotheses may explanatory power traditional complexitytheoretic hypotheses p 6 np separation polynomialtime hierarchy time mathematical proof refutation available reasonableness unreasonableness hypotheses illuminated investigation consequences investigation may indicate example consequences np en masse credible state affairs thereby increasing reasonableness hypothesis hand investigation may uncover implausible consequences even proof np outcome would contribute understanding np main theorem implies ff 1 e theorem 44 hypotheses np np j e 6 0 implies every p language np dense conclusion credible consistent observations date known follow p 6 np traditional complexitytheoretic hypotheses recent investigation also shown hypotheses np np j e 6 0 imply np contains pbiimmune languages 20 every p hard language np exponentially dense exponentially hard complexity core 9 taken together results appear indicate reasonable hypotheses may considerable explanatory power proof main theorem based general result weak stochasticity languages e e 2 result proven section 3 useful tool independent interest explain proving results form c complexity class often simplifies matters available generalpurpose randomness properties languages c term generalpurpose randomness property heuristic meaning set z languages following two properties almost every language c property membership z condition written means z c z c complement z ii often case one wants prove result form easier prove x example espacedspace2 linear known 15 10 almost every language high spacebounded kolmogorov complexity variety sets x shown measure 0 espace simply proving every element x low spacebounded kolmogorov complexity 15 10 18 14 thus high spacebounded kolmogorov complexity generalpurpose randomness property languages espace section 3 reviewing fundamentals measure complexity classes prove weak stochasticity theorem stating almost every language e almost every language e 2 weakly stochas tic ie statistically unpredictable feasible deterministic algorithms even linear nonuniform advice see section 3 precise definitions section 4 give simple combinatorial proof language thereby proving main theorem appears weak stochasticity sense generalpurpose randomness property languages e e 2 useful future investigations preliminaries paper denotes boolean value condition ie 0 languages sets binary strings ie sets f0 1g identify language characteristic sequence 2 f0 1g 1 defined standard enumeration f0 1g relying identification set f0 1g 1 consisting infinite binary sequences regarded set languages say w prefix x write w v x cylinder generated string w 2 f0 1g note cw set languages note also c denotes empty string noted section 1 work exponential time complexity linear polynomial wellknown np 6 e let ng set dyadic rationals also fix onetoone pairing function h f0 1g theta f0 1g onto f0 1g pairing function associated projections hx yi 7 x computable polynomial time several functions paper form 0 1 set nonnegative real numbers formally order uniform criteria computational complexities regard functions domain f0 1g codomain f0 1g example function n 2 theta f0 1g formally interpreted function interpretation di j means u suitable binary encoding dyadic rational r function n theta define function xi regard uniform enumeration functions n 2 write function nfold composition ffi proof weak stochasticity theorem uses following form chernoff bound lemma 214 7 independent 01valued random variables uniform distribution particular taking proof see 3 measure weak stochasticity section reviewing fundamentals measure exponential time complexity classes prove weak stochasticity theorem theorem useful proof main result section 4 also expect useful future investigations measure structure e resourcebounded measure 15 16 general theory whose special cases include classical lebesgue measure measure structure class rec recursive languages measure various complexity classes paper interested measure e e 2 discussion measure specific classes interested reader may consult section 3 15 discussion examples throughout section identify every language f0 1g characteristic sequence 2 f0 1g 1 defined section 2 constructor function x x 2 f0 1g result constructor ffi ie language constructed ffi unique language rffi ffi n v rffi n 2 n recall means string ffi n prefix characteristic sequence rffi intuitively ffi constructs rffi starting iteratively generating successively longer prefixes rffi given set delta functions f0 1g f0 1g write rdelta set languages rffi constructor first note exponential time complexity classes e e 2 characterized terms constructors notation classes consisting functions f defined follows computable polynomial timeg computable n log n o1 timeg lemma 3113 1 2 using lemma 31 measure structures e e 2 developed terms classes p 2 definition density function function f0 1g 0 1 satisfying w 2 f0 1g global value density function set covered density function w2f01g recall xg cylinder generated w density function covers set x f0 1g 1 x sd density functions paper equality actually holds 31 required consider random experiment sequence x 2 f0 1g 1 chosen using independent toss fair coin decide bit x taken together parts 31 32 definition imply experiment intuitively regard density function detailed verification prx 2 x sets generally interested uniform systems density functions computable within resource bound ndimensional density system nds function k density function every k 2 n n sometimes convenient regard density function 0ds computation nds function b fi fi fi b kr w k 2 n n r 2 n w 2 f0 1g computation nds computation b b exists p computation b nds n n theta f0 1g 2 p trivially p computable fortunate circumstance need compute approximations occurs frequently practice applications typically involve approximations hidden invoking fundamental theorems whose proofs involve approximations come key idea resourcebounded measure theory definition null cover set x f0 1g 1 1ds covers x global value k 2 gammak cover x null cover x p computable words null cover x uniform system density functions cover x rapidly vanishing global value easy show set x f0 1g 1 classical lebesgue measure 0 ie probability 0 cointossing experiment exists null cover x definition set x p measure 0 write p exists p null cover x set x p measure 1 write p thus set x p measure 0 p provides sufficient computational resources compute uniformly good approximations system density functions cover x rapidly vanishing global value turn internal measure structures definition set x measure 0 rp write x j rp set x measure 1 rp write say almost every language rp x following lemma obvious useful lemma 32 every set x f0 1g 1 probability prx 2 x computed according random experiment sequence x 2 f0 1g 1 chosen probabilistically using independent toss fair coin decide bit x thus proof set x pmeasure 0 gives information size x e e 2 f0 1g 1 noted lemma 32 p fact true lemma 33 17 let z union sets x p lemma 33 also called abundance theorem implies almost every language 2 e 2 prandom ie property singleton set fag pmeasure 0 proof lemma 33 makes essential use fact p 2 contains universal function p case p shown 15 definitions endow e e 2 internal measure structure specifically either collection p p measure 0 sets collection rp sets measure 0 p ideal ie closed subsets finite unions countable unions generated resources importantly measure conservation theorem 15 says ideal irp proper ideal ie e measure 0 e measure 0 e 2 taken together facts justify intuition negligibly small subset similarly proof weak stochasticity theorem directly use definitions instead use sufficient condition proved 15 set measure 0 state condition need polynomial notion convergence infinite series series consist nonnegative terms modulus series n function j 2 n series pconvergent modulus polynomial sequence 1 series uniformly pconvergent exists polynomial j 2 n j modulus seriesp jk use following sufficient condition uniform pconvergence wellknown lemma easily verified routine calculus lemma 34 let jk 2 0 1 n exist real 0 polynomial g n n jk e gammak series 1 uniformly pconvergent 2 proof weak stochasticity theorem greatly simplified using following special case p uniform resourcebounded generalization classical first borelcantelli lemma lemma 3515 pcomputable 2ds seriesx uniformly pconvergent kt sd jk kt sufficient condition concluding pmeasure 0 note j consists languages infinitely many sets sd jk formulate notion weak stochasticity need definitions notion advice classes standard 11 advice function function h given function q advq set advice functions h jhnj qn given language f0 1g advice function h define language ah advice h given functions n define advice class weakly q stochastic b 2 dtimetadvq c 2 dtimet jc n j n sufficiently large n lim intuitively b c together form prediction scheme b tries guess behavior set c weakly q stochastic scheme better limit guessing random tosses fair coin use term stochastic follows kolmogorovs terminology 12 28 properties defined terms limiting frequencies failure prediction schemes adverb weakly distinguishes notion stronger stochasticity property considered 17 weak stochasticity powerful convenient tool following lemma captures main technical content weak stochasticity theorem lemma 36 fix c 2 n proof assume hypothesis let u 2 dtime2 c1n language universal dtime2 cn theta dtime2 cn following sense ng define set ijk languages follows k power 2 z2f01g cn f0 1g immediate definition weak stochasticity complement cfl ws cfl satisfies cfl km follows lemma 35 suffices exhibit pcomputable 3ds following two properties seriesp ijk uniformly pconvergent ii define function n 3 theta f0 1g 0 1 follows k power 2 ijk z2f01g cn conditional probabilities pry ijkz jcw computed according random experiment language f0 1g chosen probabilistically using independent toss fair coin decide membership string follows immediately definition conditional probability 3ds since u 2 dtime2 c1n c fixed use binomial coefficients exactly compute ijk w time polynomial ijkjwj thus pcomputable see property note first chernoff bound lemma 21 tells us writing whence ijk z2f01g cn let l 1 g polynomial writing 4 j thus ijk e gammak ffi follows lemma 34 holds finally see ii holds fix k power 2 ii trivially affirmed assume fix z 2 f0 1g cn 2 ijkz let w characteristic string ijk w pry ijkz jcw 2 cw sd ijk completes proof lemma 36 2 main result section theorem 37 weak stochasticity theorem 1 c 2 n fl 0 almost every language 2 e weakly 2 almost every language proof part 1 follows immediately lemma 36 via lemma 32 part 2 follows lemma 36 via lemmas 33 32 2 4 density hard languages section prove main result every real ff 1 set p n ff gammatt dense c measure 0 e e 2 derive consequences result terminology notation useful given querycounting function q qquery function function f domain f0 1g x 2 f0 1g f x called query f input x qtruth table function function g domain f0 1g x 2 f0 1g gx encoding qjxjinput 1output boolean circuit write gxw output circuit input w 2 f0 1g qjxj p qgammatt reduction ordered pair f g f qquery function g qtruth table function f g computable polynomial time qgammatt reduction b p qgammatt reduction f g x 2 f0 1g recall denotes boolean value condition case say g say p qgammatt reducible b write qgammatt b exists f g p proof main result makes essential use following construction given n ff query function f n 2 n sequentially frequent query selection smfq selection f inputs length n sequence defined follows k f0 1g n q k js k j theta n ff matrix strings string q k colored either green red rows q k indexed lexicographically elements k x row x q k sequence f 1 x f n ff x queries f input x q k contains least one green string k green string occurring greatest number rows q k ties broken lexicographically q k entirely red undefined sets k coloring specified recursively set color strings q 0 green assume k set k appears row x q k strings q k1 colored exactly q k except k colored red completes definition smfq selection clear every row q k contains least k red strings particular matrix q n ff entirely red main results follow following lemma recall ws cfl set weakly languages lemma 41 every real ff proof let assume p suffices show 62 ws 3 1 fix polynomial p jf xj following conditions hold n n 0 2 let g note k infinite l dense languages b c advice function h follows cn dn hn defined smfq selection f inputs length n follows let greatest integer 0 k n ff note k exists js define let dn set coded pairs hx zi x 2 k z 2 finally let tries predict c specif ically n n 0 x 2 bit x 2 b guessed value bit x 2 actual value given reduction f g l entries row x matrix q k guessed value uses advice function h get correct string w red q k guesses w 62 l string w green q k easy see c 2 dtime2 3n bound 3n generous also condition choice n 0 2 n 2 n show b good job predicting cn two cases strings q k red guesses made b correct r number rows q k ie jc n j choice k gamman 2ffl r green string appears 2 gamman 2ffl r rows q k moreover since jl pn 2 n ffl green strings w w 2 l thus 2 gamman 2ffl gamman 2ffl r rows q k b makes incorrect guess green string l guesses made b correct rows condition ii choice n 0 b incorrect 1r rows q k either case ii since holds n 2 k since k infinite thus b c testify weakly 2 3n 3n 2 n stochastic ie 62 ws 3 1 2 main results easily derived start fact languages decidable exponential time p reducible nondense languages theorem 42 main theorem every real number ff 1 proof follows immediately theorem 37 lemma 41 2 main theorem yields following separation result theorem 43 every real ff 1 every p n ff gammatt hard language e dense proof measure conservation theorem 15 e j e 6 0 follows immediately theorem 42 2 note theorem 43 strengthens theorem 12 extending number queries olog n n ff ff worthwhile examine roles played various methods theorem 42 measuretheoretic result concerning quantitative structure e yields qualitative separation result theorem 43 technical standpoint proof theorem 43 following three components sequentially frequent query selection lemma 41 used prove every language p n ff gammatt dense c predictable ie fails weakly stochastic suitable parameters ii weak stochasticity theorem theorem 37 shows measure 0 subset languages e predictable iii measure conservation theorem 15 shows e measure 0 subset three components ii iii general theorems concerning measure e component specific issue densities languages given general principles ii iii proof theorem 43 sequentially frequent query selection ie proof lemma 41 latter proof combinatorially much simpler watanabes direct proof theorem 12 surprising noted proof theorem 43 application resourcebounded generalization probabilistic method 5 24 25 6 26 1 exploits fact often easier establish abundance objects given type construct specific object type much proof theorem 43 hidden power method ie proofs measure conservation weak stochasticity theorems freeing us apply sequentially frequent query selection problem hand important feature general method uniformly constructive following sense taken together proofs measure conservation weak stochasticity theorems give straightforward au tomatic construction language follows immediately 2 enp n ff gammatt dense c thus one apply complexitytheoretic version probabilistic method complete assurance resulting existence proof automatically translate construction primary objective resourcebounded measure theory give detailed account quantitative structure e e 2 complexity classes derivation qualitative separation results theorems 43 12 byproduct quantitative objective analogy value classical lebesgue measure probability far surpasses role tools existence proofs case e example quantitative content theorem 42 set p n ff gammatt dense c negligibly small subset e noted introduction paper interested consequences hypothesis np negligibly small subset exponential time regard main theorem yields following result theorem 44 npje 6 0 npje 2 6 0 ff 1 every language np dense ie np 6 p n ff gammatt dense c proof np p language h dense theorem 42 tells us note hypothesis conclusion theorem 44 stronger counterparts ogiwara watanabes result note also proof theorem 44 actually shows fact implication theorem 44 hold np replaced ph pp pspace class 5 conclusion density criterion theorem 42 cannot improved since every language 2 e p n open question whether query bound n ff significantly relaxed construction wilson 31 shows oracle b ongammatt sparse progress direction require nonrelativizable techniques several open questions involving special reducibilities mention one example recently arvind kobler mundhenk 2 proven p ctt refers polynomialtime conjunctive reducibility strengthens theorem 14 class p btt p ctt dense c measure 0 e noted introduction known p hard languages np dense ie experience suggests np 6 pdense c suggests two open questions see figure 1 karp lipton 11 shown theorem 44 present paper shows ff 1 first question posed selman 23 whether strong hypothesis sigma p used combine ideas get conclusion np 6 pdense c second fundamental question suggested first wellknown downward separation principle 27 says polynomial time hierarchy separates level separates lower levels thus example sigma p implies p 6 np downward measure separation principle stating sigma p particular imply np hypothesis npje 2 6 0 ie np negligibly small subset e 2 recently shown number credible conse quences npje 2 6 0 np contains prandom languages 17 np contains ebiimmune languages 20 every p hard language np exponentially dense exponentially hard complexity core 9 figure 1 insert msdhdiagramps output theorem 43 every p language np ff 1 exponentially dense investigation consequences reasonableness related strong measuretheoretic hypotheses clearly indicated acknowledgements first author thanks bill gasarch alan selman helpful discussions r probabilistic method bounded truthtable conjunctive reductions sparse tally sets isomorphism density np complete sets measure asymptotic efficiency tests hypothesis based sum observations remarks theory graphs probabilistic methods combinatorics guided tour chernoff bounds hard sparse sets complexity distribution hard problems kolmogorov complexity connections nonuniform uniform complexity classes algorithms random ness category measure complexity classes upward measure separation theorem almost everywhere high nonuniform complexity preparation preparation circuit size relative pseudorandom oracles sparse complete sets np solution conjecture berman hartmanis almost every set exponential time pbiimmune reported polynomial bounded truthtable reducibility np sets sparse sets personal communication mathematical theory communication synthesis twoterminal switching circuits ten lectures probabilistic method polynomialtime hierarchy individual sequence zeros ones random structure intractable complexity classes time reducibility set small density relativized circuit complexity tr ctr john hitchcock max3sat exponentially hard approximate np positive dimension theoretical computer science v289 n1 p861869 23 october 2002 olivier powell note measuring p theoretical computer science v320 n23 p229246 june 14 2004 john hitchcock size spp theoretical computer science v320 n23 p495503 june 14 2004