view updates semantic data modelling paradigm sketch data model skdm new semantic modelling paradigm based category theory specifically categorical universal algebra used successfully several consultancies major australian companies paper describes sketch data model investigates view update problem vup sketch data model paradigm proposes approach vup skdm presents range examples illustrate scope proposed technique common previously proposed approaches define circumstances view update propagated underlying database unlike many previously proposed approaches definition succinct consistent ad hoc exceptions propagatable updates form broad class argue avoid ad hoc exceptions basing definition propagatable state underlying database examples demonstrate range circumstances view schema shown propagatable views states thus stateindependence frequently recovered b introduction paper view update problem framework new semantic data model sketch data model view updating long recognised important difficult see example 11 chapter 8 growth need database interoperability graceful evolution importance even greater yet proposed approaches continue ad hoc incomplete require explicit application code support range recent approaches views see 5 13 19 20 21 29 1 interoperability evolution also led calls greater semantic data modelling 24 power better model real world constraints authors coworkers developing modelling paradigm 16 18 dampney johnson using large scale consultancies 9 8 28 recently methodology come called sketch data model skdm based category theoretic notion mixed sketch 3 4 paper framework skdm propose approach view updating problem based unlike previous approaches database states also known database instances snapshots approach consistent across range different schemata instances despite approach instance based prove large number schemata view updates propagated underlying database independently specific instances involved plan paper follows section 2 introduce sketch data model illustrating example based health informatics model section 3 outlines briefly mathematical foundation sketch data model foundation important although try suppress mathematical details far possible rest paper believe paper understood reasonably well without detailed study section section 4 sets view update problem framework sketch data model presenting formal broad definition view section 5 discuss importance logical data independence use motivate definition propagatable inserts deletes given view section 6 presents selection examples view inserts deletes shows propagatability frequently determined schema without reference instances finally section 7 reviews related work section 8 concludes inpatient operation 66666666under opern type gp isa specialist medical practner isa memb practice agreemt hospital college person figure 1 fragment health informatics graph main component health informatics 2 sketch data model sketch data model paradigm semantic data modelling paradigm closely related er modelling 7 functional data models 12 204207 incorporating support constraints via commutative diagrams finite limits finite coproducts 3 formally sketch data model specified giving er sketch notion er sketch defined section 3 section concentrate giving informal presentation sketch data model working example ure 1 figure presents small fragment health informatics graph chosen illustrative value figure 1 fact part department health data models confidential aid following discussion simplified model little affinity er modelling clear casual inspection graph shows nodes entities relationships arrows certain manytoone relations functions attributes often shown may also included representing domain attribute values node function representing assignment values arrow relationships practice agreement tabulated represented two functions others isa represented single functions extraer aspects sketch data model semantics incorporated model recording diagrams commute objects arise limits coproducts components graph diagram said commute composites functions along two paths common source target required equal thus example specialist isa medical practitioner member college specialist specialisation isa college naturally require two references college last sentence refer single specialist college require diagram commute diagrams commute demonstrated repeatedly consultancies value determining early design process diagrams commute commute fact commuting diagrams used model real world constraints example business rules seen considering two triangles commutativity reflects requirement operations take place without practice agreement practitioner hospital instead arrow model practice agreement would merely record agreements made arrow triangles required commute operation would take place agreement would possible example substitute practitioners one practitioner operate another practitioners agreement define limits coproducts instead refer reader standard text say 30 3 indicate uses limits coproducts example coproducts correspond disjoint union used model logical disjunctions certain type hierar chies take simple example requiring medical practitioner coproduct specialist gp ensures every practitioner also appears either specialist gp registration details different specialists gps recorded attributes shown relevant subtypes limits take many forms mention three 1 cartesian product limit usually called product could used example specify func tion specialisation theta operation type scheduled fee 2 injective functions specified via limit functions figure 1 shown required injective achieved via limit specifica tion important point model arrow person required injective reflecting fact single person may appear medical practitioner example person might practice gp specialist might one specialisation 3 wide range selection operations expressed pullbacks example specifying square figure 1 pullback ensures practitioners members colleges occur among list specialisations appear specialists sum sketch data model ie graph like er graph together specifications commutative dia grams limits coproducts emphasise simple structure notions described terms graph associative composition arrows identities graph called category yet specifications surprisingly wide range semantic power furthermore approach demonstrated useful industrial consultancies 3 formal definitions skdm completeness section outlines mathematical foundation sketch data model paradigm full details essential understanding main points paper readers might wish skip section first reading cone directed graph e consists graph graph morphism c b base c node c v g vertex c node edge cocones dual edges e cone respectively cocone called projections respectively injections c directed graph g set pairs paths g common source target called commutative diagrams set cones respectively cocones g denoted l respectively c sketches sketch morphism h ie 0 graph morphism g ries composition diagrams cones l co cones c respectively diagrams 0 cones l 0 cocones c 0 definition 3 model sketch ie category assignment nodes edges g objects arrows images pairs paths equal composites cones respectively cocones l respectively c images limit cones spectively colimit cocones sketch ie corresponding theory 3 classifying category 6 denote e ie using evident inclusion g ie refer nodes g objects edges g arrows cocones ie cocones e ie model ie extends functor f e 0 models homomorphism natural transformation f f models homomorphisms determine category models ie denoted modie full subcategory functor category e speak limitclass colimitclasssketches l c required contain cocones specified colimitclasses example finite limit finite coproductsketch sketch cones co cones finite graphs domains cocone bases finite graphs cocones discrete graphs bases cocones edges nodes definition 4 er sketch c finite limit finite coproductsketch ffl specified cone empty base l vertex called 1 arrows domain 1 called elements ffl nodes vertices cocones whose injections elements called attributes attribute domain arrow ffl underlying graph ie finite paper er sketch frequently called sketch data model sketch data model refers skdm paradigm definition 5 database state er sketch ie model ie set 0 category finite sets category database states ie category models ie set 0 thus morphisms database states natural transformations remark 6 notice every er model yields er g er graph let empty let l contain mandated empty cone vertex 1 let c set discrete cocones elements attribute domain want ensure errelations actual mathematical relations add errelation product cone base discrete diagram containing entities relates monic arrow relation node vertex cone add cones l ensure monic arrows indeed monic models pullback diagram arrow suffice easy see precisely extra descriptive capabilities sketch data model used record constraints l c used calculate query results objects query results turn used add constraints etc furthermore techniques using developed firm mathematical foundation much originally developed categorical universal algebra 4 view update problem views sometimes called external models instances subschemes allow user query andor manipulate data part derived underlying database medical informatics graph ure 1 represents view large health administration database turn might provide views epidemiologist needs deal two triangles operation type associated attributes administrator college orthopaedic surgeons needs deal data inverse image col lege data associated colleges hospitals etc view update problem vup determine circumstances updates specified view propagated entire database propagation take place essence problem views updatable insert delete seems perfectly reasonable view may illdefined proscribed applied entire database ex ample college administrator insert medical practitioner details new member college even though administrators see practice agreements members college cannot insert new practice agreement member cannot see inverse image view details hospitals every practice agreement must specify hospital order limit effect view update problem views sometimes defined limited ways example allowable views might restricted certain row column subsets relational database generally seek support views derived way underlying database views might result query provided database ought able structured way acceptable data model use sketch data model provide definition view supports generality described section 5 provide solution view update problem sketch data model paradigm section 6 give range examples give indication breadth solution recall section 3 sketch ie corresponding category denoted e ie observed 10 objects classifying category correspond structural queries corresponding database struc tural queries include numerical computations like count avg motivates following definition definition 7 view sketch data model ie sketch data model v together sketch morphism ie thus view sketch data model v entities interpreted via v query results original data model ie formal terms database state ie finite set valued functor e composing v gives database state 0 v v view notation 8 operation composing v usually written v thus fact v func tor morphism database states ff obtain morphism v ff 0 following usual practice often refer database state form v view context determine whether view refers state sketch morphism ambiguity v referred view schema 5 logical data independence definition view provided previous section wide applicability presentation view sketch data model means take skdm structural form sketch morphism v ensures semantics associated view diagrams limits colimits sketch data model compatible structure underlying database fact v takes values e allows view derived data obtainable ie views thus support logical data independence logical structure design database change time applications programs access database views able operate unchanged provided data need available database view mechanism v maintained underlying database design ie changed argued 17 view based logical data independence required database interoperability provided suggested myopoulos 24 semantically rich model like sketch data model views ordinary database states albeit obtained database queried way database important question ask view update problem views updatable logical data independence works fully updates view propagated via view mechanism underlying database sketch data model view updates fail either two ways 1 may states database would yield updated view usually occurs update carried underlying database would result proscribed states example view schema might include product two entities one factors view inserting deleting product seems straightforward looks like ordinary entity function another entity underlying database resulting state product might impossible instance numbers elements product factor become coprime 2 may many states database would yield updated view simplest example occurring view schema includes entity one attributes inserting entity seems straightforward underlying database way know value new instance invisible attribute usually many choices since view database state know insert delete instances thus define definition 9 say specified view insertdelete propagatable unique minimal insertdelete entire database whose restriction view via v given view insertdelete insertdelete propa gatable call database obtained unique minimal insertdelete propagated update mathematical terms definition let ie view ie suppose consists two database states v database state monomorphism q 0 insert update q database state ie say insert q propagatable exists among database states 00 v initial means initial object full subcategory slice category state 0 called propagated update sometimes update definition propagatable delete dual seek terminal among 00 ii use unique minimal definition general mean unique state obtained inserting deleting minimal number elements insert update 0 unique minimal among class insert updates update 00 class unique morphism databases states ff 0 respecting inclusions database state updates iii usually case database keyed entity specified attribute called key attribute specified injective function entity attribute two interpretations unique minimal fact coincide iv notice define insertdelete view database state propagatable rather trying determine view schemata inserts deletes always propagated thus propagatability view updata bility principle dependent database state updated fact frequently characterise updatable states given view schema even prove variety view schemata database states updatable results important designers design views always updatable next section provides collection examples happens definition 11 view called insert respectively delete updatable inserts respectively deletes propa gatable independently database state 6 examples collect range illustrative examples generally keep unrealistically small simple better emphasise point made example examples intended show definition given previous section embody intuitively reasonable notion propagatability give indication breadth applicability definition example 12 take square figure 1 consider sketch data model remember attributes shown figure 1 consider view consisting specialists given specialisation say obstetri cians formal terms view v one entity ob stetrician together perhaps attributes sketch morphism v inclusion entity attributes classifying category generated square image obstetrician classifying category limit college oo medical practitioner first arrow picks college obstetri cians second arrow member limit example pullback view delete updatable attributes medical practitioner appear view attributes obstetri cian view insert updatable notice results independent states attributes specialisation college note systems support inserts view since systems would require user specify specialisation newly inserted obstetrician even though always obstetrics cant done view doesnt include specialisation date 12 p153 argued need systems allow specification defaults view defining fields example 13 consider sketch data model square figure 1 suppose view consists specialists possibly several specialisations perhaps obstetrics paediatrics orthopaedics suppose view includes attribute specialisation current database state unique values chosen specialisations formal definition view little changed v still one entity associated attributes including time attribute specialisation morphism v still evident inclusion image entity classifying category limit oo medical practitioner n number specialisations viewed first arrow picks corresponding colleges second arrow still member view also delete updatable attributes medical practitioner appear view attributes viewed entity inserts propagatable current state viewed attribute specialisation guaranteed take unique values example key inserts propagatable states view insert updatable conversely state viewed attribute specialisation take unique values chosen specialisations inserts would propagatable state example 14 take entities figure 1 college reached following chain arrows forward direction entities except operation type hospital person consider sketch data model triangle square com mute view data model given taking v diagram shape except node corresponding college two arrows missing send entity inverse image say orthopaedics college along path arrows connecting corresponding entity college college admin istrators view orthopaedics college administrator see details except personal details members college practi tioners details view delete updatable careful square specified pullback deleting one instance specialisation fact delete everything view correspondingly members college data full database insert updatable entities except inpatient operation practice agreement full database needs know associated operation types hospitals specialisation one element construction view sketch data model entire database square specified pullback medical practitioner specified coproduct inserts gp propagatable insert gp necessitates insert medical practitioner necessitates insert specialist coproduct constraint never recovered example 15 lets extend figure 1 adding new subtype inpatient operation called investigation contain operations investigation result complaints whether patients families practitioners extended graph new data model let v consist two entities injective function inpatient operations conducted surgeons practicing members orthopaedics college instances view previous example let v take pullback inverse image v b along inclusion investigation inpatient operation thus v intersection v b investigation subtypes inpatient operation view investigating board orthopaedics college view insert delete updatable example insert would part view specify orthopaedic operation investigated propagated would generate new instance investigation corresponding operation would happen complaint first received col lege instead complaint arrived say hospital new instance would inserted investigation college investigating board would able see appear view fact view conisted would still insert delete updatable provided included attributes investigation inpatient opera although wouldnt match semantics example well inserts would propagate new instances investigation inpatient operation would correspond complaint arriving orthopaedic operation stored database seems surprising know operation must taken place complaint instead change semantics consider ex ample among employees intersection senior executives medical staff administrator responsible hiring senior executive medical staff might employ someone perform insert intersection view would propagate successfully entities senior executives medical staff employees example interesting see definition says data models include attributes see extreme case applicability suppose data model includes cocones cones except mandated 1 cone happens view single entity data model insert updatable update calculated kan extension 23 amounts freely adding instances related inserted instance rather seeking extant instances satisfy obligatory relations doesnt work presence attributes attribute domains fixed cant freely add new attribute values example 17 finally lets consider effect medical practitioner specified coproduct gp specialist two triangles taken sketch data model medical practitioner ordinary entity view including medical practitioner insert delete updatable two triangles plus gp specialist together coproduct specification taken sketch data model view including medical practitioner delete updatable insert updatable view includes medical practitioner gp instead spe cialist insert delete updatable 7 related work number authors using sketches support data modelling initiatives notably piessens 25 26 developed notion data specification including sketches since obtained results algorithmic determination equivalences model categories 27 intended support plans view integration diskin cadish used sketches variety modelling cir cumstances see example 14 15 concentrating developing diagrammatic language diagram operations atzeni torlone 2 developed solution problem updating relational databases weak instance interfaces although explicitly discuss views note approach deal technique obtaining solution similar technique used consider range possible solutions consider range possible updates 00 construct partial order seek greatest lower bound analogous ini tialterminal solution similar approach also non view problem appears 22 8 conclusion date approach common many others deals inserts deletes modifications extant values also views contain arithmetic operations developed special treatments null values subject ongoing work similarly paper deal implementational issues subject ongoing research computational category theory despite caveats approach presented surprisingly wide applicability seems significant part difficulty solving view update problem arisen previous authors sought single coherent solution based proposed solutions schemata practice many particular situations states solutions although fall outside proposed solution ad hoc adjustments made losing coherence also contributed impression class updatable views difficult characterise proposed single coherent solution based states avoiding ad hoc amendments although based states prove many schemata always arent updatable provided range examples situations gives benefits sought schema based solutions avoiding ad hoc amendments 9 acknowledgements research reported supported part australian research council canadian nserc nsw department health oxford computing laboratory r complexity answering queries using materialized views updating relational databases weak instance interfaces category theory computing science toposes triples theories update semantics relational views handbook categorical algebra 3 entityrelationship model toward unified view data fibrations doh data model illustrated mathematical foundation era introduction database systems introduction database systems correct translation update operations relational views algebraic graphbased approach management multidatabase sys tems variable set semantics generalised sketches er object oriented oo value commutative diagrams information modelling database interoperability state based logical data inde pendence algorithms translating view updates database updates views involving selec tions view updates relational databases independent scheme implementing queries updates universal scheme interfaces categories working mathematician next generation database systems wont work without semantics data specifications analysis based categorical formulation categorical data spec ifications selective attribute elimination categorical data specifica tions lessons failed information systems initiative issues complex organisations international journal medical informatics information integration using logical views categories computer science tr introduction database systems vol 4th ed view updates relational databases independent scheme illustrated mathematical foundation era updating relational databases weak instance interfaces categories computer science category theory computing science 2nd ed answering queries using views extended abstract complexity answering queries using materialized views next generation database systems wont work without semantics panel update semantics relational views correct translation update operations relational views entityrelationship modelmyampersandmdashtoward unified view data algorithms translating view updates database updates views involving selections projections joins introduction database systems information integration using logical views implementing queries updates universal scheme interfaces selective attribute elimination categorial data specifications ctr michael johnson c n g dampney category theory meta ontology information systems research proceedings international conference formal ontology information systems p5969 october 1719 2001 ogunquit maine usa j nathan foster michael b greenwald jonathan moore benjamin c pierce alan schmitt combinators bidirectional tree transformations linguistic approach viewupdate problem acm transactions programming languages systems toplas v29 n3 p17es may 2007