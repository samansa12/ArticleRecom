interacting virtual characters interactive storytelling recent years several paradigms emerged interactive storytelling characterbased storytelling plot generation based behaviour autonomous characters paper describe user interaction fullyimplemented prototype interactive storytelling system describe planning techniques used control autonomous characters derive htn planning hierarchical task network representing characters potential behaviour constitute target user intervention terms narrative goals terms physical actions carried stage introduce two different mechanisms user interaction direct physical interaction virtual objects interaction synthetic characters speech understanding physical intervention exists user onstage interaction invisible avatar enables remove displace objects narrative significance resources characters actions thus causing actions fail linguistic intervention user influence autonomous characters various ways providing information solve narrative goals instructing take direct action giving advice appropriate behaviour illustrate functionalities examples systemgenerated behaviour conclude discussion scalability issues b figure 1 figure 1 story instantiation generated system ross asks phoebe rachels preferences phoebe lies graphic environment system based unreal computer game engine researchers field interactive storytelling previously described use game engine 12 13 increasingly used non gaming applications since work 15 main advantage game engine provide highquality graphics seamless integration visualisation interaction environment objects software architecture offers various modes integrating software via c plugins udp socket interfaces integrated commercial speech recognition system 3 narrative representations characterbased storytelling general rule characterbased storytelling systems represent explicitly narrative knowledge narrative functions decision points 5 7 could direct target user interaction instance system described sgouros et al 7 user prompted strategic decision made narrative causality maintained via assumptionbased truth maintenance system atms process described usercentred plot resolution interactive storytelling authoring system machado et al 5 narrative events generated using description terms narrative functions inspired propp 16 constitute basic building blocks plot story nets described swartout et al 2 correspond plotlike representation consequences user action however unlike usercentered plot resolution 7 plot models need explicit derived rules operating key decision points corresponding user actions 17 system integrates aspects plotbased characterbased systems however strongly centred user behaviour nominal mode assumes permanent user involvement hand characterbased approaches plot generated multiple interactions autonomous characters problem characterbased systems generally faced ensure actions take narratively relevant corresponds narrative control problem studied young 13 mateas stern 18 among others system plot mainly driven synthetic characters approach supporting continuous storytelling anytime user intervention order reconcile characterbased approach problem narrative control describe characters behaviours terms roles ie narrative representation goals corresponding actions instance principal character ross plans seduce character rachel role described greater details refinement highlevel goal refinement define various steps hell take seducing rachel acquiring information gaining friendship finding ways talk private offering gifts inviting etc also correspond first level refinement various stages yet linear story however role representation also includes refined large set alternative solutions level terminal nodes correspond final actions actually played onstage 3d animation synthetic characters consist interactions onstage objects watching tv reading book buying gifts makingdrinking coffee members cast talking socialising etc figure 2 htn representation character behaviour characters roles thus represented consistent fashion hierarchical task networks htn represents actors potential contribution overall plot see figure 2 single htn corresponds several possible decompositions main task words htn seen implicit representation set possible solutions erol et al 1995 naturally led us investigating use htn planning techniques underlie characters behaviour 12 13 next section describe approach planning characters narrative behaviours extended incorporate user intervention 4 planbased behaviours broad agreement use planning techniques describing highlevel behaviour autonomous agents embodied virtual environments taskbased simulation 19 20 characterbased storytelling 12 description characters roles htns naturally led use starting point implementation planning system htnbased planning also known taskdecomposition planning among oldest approaches providing domainspecific knowledge planning system generic case htn planning may faced practical difficulties 21 approach considered appropriate knowledgerich domains provide applicationsspecific knowledge assist plan generation 22 interactive storytelling constitutes knowledgerich application least authoring process involved description baseline story besides renewed interest recent years htn planning 23 demonstrated stateoftheart performance number benchmarks interactive storytelling requires interleaving planning execution devised search algorithm produces suitable plan form htn taking advantage total ordering assumption subtask independence searches htn depthfirst lefttoright executes primitive action generated least attempts execute virtual stage backtracking allowed actions fail eg intervention agents user search strategy thus essentially similar one described smith et al 24 addition heuristic values attached various subtasks forward search make use values selecting subtask decomposition similar use heuristics described weyhrauch 25 bias story instantiation heuristic values used represent narrative concepts well namely various tasks associated features index narrative dimension sociable nature activity rudeness behaviour turn converted heuristic values dimensions using heuristics according personality emotional status character give preference different tasks heuristics altered dynamically turns modifies subsequent action selection characters plan instance rachel may change mood action ross upset consequence would abandon social activities solitary ones another essential aspect htn planning based forward search goaldirected time toplevel task main goal important consequence since system planning forward initial state expands subtasks left right current state world always known case current stage reached plot adopted total ordering subtasks initial description roles totalorder htn planning precludes possibility interleaving subtasks different tasks thus eliminating task interaction large extent 23 case storytelling subtask independence hypothesis derived inherent decomposition plot various scenes though additional simplifying assumption parallel storylines however additional requirements planning techniques control synthetic actors environment synthetic characters nature dynamic one world evolve might constantly change influence characters due user intervention would traditionally call approach interleaving planning execution actions taken constantly adapted current situation addition action taken actor may fail due external factors least user intervention latter requires characters behaviour incorporate replanning abilities see section 5 features also support interactive aspects storytelling allowing user intervention trigger generation new behaviours corresponding evolution plot behaviours various characters corresponding individual roles defined independently htns integration takes place spatial environment carry actions consequence onstage interactions generate whole range situations explicitly described original roles examples situations obtained system 1 ross wants steal rachels diary using phoebe room preventing stealing 2 ross wants talk phoebe rachel busy talking monica 3 ross bumps rachel early stage story yet obtained information 4 ross talks phoebe scene witnessed rachel figure 3 dramatisation action repair bottomup situations illustrate characters behaviour cannot solely determined topdown planner order realistic situations 1 2 would normally lead replanning convenient solutions devised action repair 26 example 1 instance ross could wait rachel leave would restore executability conditions readdiary action see figure 3 examples 3 4 represent situations actively avoided character practical solution consists using situated reasoning implemented subplans triggered rules recognising potential occurrence situations return active postconditions initial plans resumes mechanisms described 27 finally characters also exhibit reactive behaviour based situations cases rachel get jealous sees ross sustained conversation another female character phoebe get upset ross interrupts reactive behaviours directly alter characters plans trigger scripted response leaving room cases though output reactive behaviour generally alter emotional response reacting character turns affects subsequent role altering mood value equivalent dynamically changing heuristic coefficients attached certain activities hence emotional representations however simple play important role storys consistency relating character behaviour personality variables even though individual mechanisms actors behaviour fairly deterministic overall plot generated generally predictable spectator several mechanisms incorporated support random allocation characters onstage together duration actions greatly affects probability encounters major determinant plot variability important conclusion user interaction takes place characters topdown plans every mechanism supporting agents behaviour potential target user intervention discussed section 6 5 system architecture system implemented using unreal game engine development environment implementation philosophy like previous behavioural animation systems go highlevel planning lowerlevel actions animation sequences case keyframe animation interrupted anytime case replanning game engine offers api via scripting language unrealscript using scripting language possible define new actions basic primitives provided engine instance offering gift consists passing object one character another implementation elementary action comprises updating graphic data structures eg object list given character environment plus associated keyframe animation played graphic environment characters roles generated htn plans following way characters plan interleaves planning execution lowestlevel operators plan carried environment form unreal actions figure 4 12 action outcome passed back planner figure 4 3 terms architecture planning component c module integrated game engine using dynamically linked library dll interfaces graphic environment via actions representation layer programmed unrealscript similarly changes taking place environment analysed layer passed back planner figure 4 3 figure 4 system architecture 6 physical intervention user spectator unfolding 3d animation corresponding generated story freely explore stage embodied invisible avatar makes possible interfere directly course action physical intervention stage current system physical interaction limited narrative objects user remove objects stage change location cannot physically interfere actors instance preventing enter room meant consistent spectatorbased approach rule minimal involvement many onstage objects appear affordances ie candidates user interaction signalled either intrinsic narrative significance use synthetic characters former case referred dispatcher modern narratology 28 dispatcher object choice associated triggering narrative consequences instance example scenario roses chocolate box potential gifts rachel bear properties natural target user interaction dispatchers also signalled dynamically characters acting rather improvising actions direct narrative significance hence ross directs towards object rachels diary telephone object acquires narrative relevance becomes potential target user interaction onstage objects play role behaviour importantly spatial localisation virtual actors coffee machines tv sets used characters user steals coffee machine phoebe use would replan activity might take another location stage seen moving another location significant narrative consequences figure 5 replanning action failure implementation perspective actions part characters plans associated executability conditions include availability resources instance ross read rachels diary room phoebe make coffee coffee machine usual place physical user intervention thus consists causing characters action fail altering executability conditions action failure turn trigger replanning instance figure 5 shows fragment ross plan acquiring information rachel initial plan consists reading rachels diary user stolen reaching diarys default location ross realises missing needs replan solution find information rachel case consists asking phoebe implemented using search mechanism htn planner backpropagating failure action readdiary corresponding subgoal search backtrack produce alternative solution narrative perspective user contrasted ross visible goal apart immediate amusement failure ross action dramatised part plot see figure 6 real impact lies longterm consequences resulting situations instance example asking phoebe rachel ross might seen rachel would misunderstand situation become jealous figure 6 dramatisation action failure aspect becomes obvious considering interaction objects used secondary characters normal activities phoebes coffee machine narrative significance rachels potential gifts however displacing serious consequences well would move stage might available answer ross could meet rachel proven powerful mechanism story generation early stage explored impact terms user experience 7 natural language interaction autonomous characters natural language intervention interactive storytelling strongly depends storytelling paradigm adopted instance permanent user involvement eg immersive storytelling training systems 2 requires linguistic interaction part story naturally calls dialoguebased interaction described instance traum rickel 29 project approach based userasspectator paradigm user interventions including speech input essentially brief occur anytime essentially take form instructions advice 19 speech input tailored interactive storytelling context user influences virtual characters order implement consistent user experience instance utterance often start name addressee ross nice monica identify relevant character also establish simple relation user character influencing also speech guidance naturally line various stages plot correspond narrative actions situations user become acquainted possibilities intervention either introduced overall storyline otherwise suggested mateas stern 18 repeated use storytelling system extensive research use natural language instructions virtual actors webber et al 19 laid foundations relating natural language instruction planbased highlevel behaviour embodied virtual agents also provided classification natural language instructions terms effects bindiganavale et al 30 described use instructions advice influence dynamic behaviour autonomous agents dealing certain situations checkpoint training though specifically addressing storytelling many results adapted narrative context incorporated offtheshelf system ear sdk babel technologies prototype integrated unreal engine using dynamically linked libraries like htn system ear sdk supports speakerindependent input allows definition flexible recognition grammars include optional sequences joker characters makes possible implement various paradigms speech recognition full utterance recognition multikeyword spotting stage experimenting recognition grammar optional sequences added flexibility small test vocabulary 100 words includes main actions narrative objects well situations figure 7 situational advice ross dont let rachel see phoebe stage natural language interpretation user input based simple template matching defined templates several categories advice prescribed action talk phoebe provision information actor diary living room rachel prefers chocolates generic specific advice dont rude nice phoebe situational advice dont let rachel see phoebe see figure 7 etc instantiation templates slots carried simple procedural finitestate transition network parsing relevant recognised elements consistency checking based templates contain role structures certain number key narrative actions speech input supposed influence based selectional restrictions various slots given template instance advisee often main character especially doctrine elements involved selection relevant candidate template determined semantic categories verbs action markers sentence used heuristics identify best template noted obvious mapping surface form interpretation terms narrative influence instance talk monica interpreted direct suggestion action solve subgoal obtaining information rachel dont talk phoebe global advice generate situated reasoning whose result try avoid phoebe generic rule though would appear negative statements consist advice doctrine statements 19 first series test essentially focusing advice related characters behaviour dramatic effect also interaction objects often remit physical intervention stage overall identified various forms natural language intervention provision information actor including conspicuously false information direct instruction action warnings generic advice characters behaviour next section give examples linguistic interaction relate mechanisms effects characters behaviours plot actually implemented 71 examples direct provision information solve characters sub goal instance early stage plot ross acquiring information rachels preferences helped user would suggest rachel prefers chocolates provision information multiple effects besides directly assisting progression plot also prevents certain situations potentially narrative impact encounter ross phoebe emerging implementation perspective subgoals htn labelled according different categories informationgoals goals active checked new information input nl interface marked solved corresponding information matches subgoal content ross think rachel prefers chocolates figure 8 providing information characters provision information also used trigger action repair instance ross looking rachels diary cannot find default location receive advice user diary room repair current action restores executability condition readdiary action see figure 8 case spoken information competes replanning another solution ross outcome depend timing duration various actions user intervention goal abandoned cannot current implementation restored user advice another form linguistic interaction consists giving advice characters advice often related intercharacter behaviour social relationships identified three kinds advice generic advice related overall behaviour eg dont rude matched personality variables turn determine choice actions htn advice interpreted altering personality variables match heuristic functions attached candidate actions htn instance nice ross refrain certain number actions reading personal diaries mail interrupting conversations expelling characters set course relies priori classification actions htn based static heuristic values attached nodes htn situational advice form rule help character avoiding certain situations one example advice avoid making rachel jealous dont let rachel see phoebe processing advice complex implemented simplified procedural versions far one example situation consists warning ross rachel approaching figure 9 figure 9 advice think rachel coming speech input mostly targets planbased performance actors role also target forms behaviour mentioned section 4 situated reasoning reactive behaviour instance specific reactive behaviour inhibited spoken instructions rachel advised jealous rachel dont jealous 8 conclusions described specific approach interactive storytelling user rather immersed story essentially trying influence spectator position would suggest paradigm worth exploring future entertainment applications could bridge gap traditional media interactive media longterm interest approach however case user evaluation first require system reach critical scale prototype currently four autonomous characters based htn plans though main character ross complex plan able generate short stories oneact plays 18 three minutes duration approximately one beat 18 per minute contrasts objective suggested mateas stern 18 1015 minute stories three characters certainly valid objective interactive storytelling systems performance planning component shown good potential scalingup simulated tests main difficulties expected arise increased interaction characters associated descriptions situated reasoning clear methodological principles established hand much learned running largerscale tests results could generic interest study highlevel behaviour embodied characters 9 r interactive movies toward holodeck integrating graphics narrative virtual environments towards emergent narrative real characters virtual stories promoting interactive storycreation activities interactive storytelling systems children using technology explore language identity framework plot control interactive story systems grabson braun acting character narrative intelligence socially intelligent agents human loop creating interactive narrative structures potential ai approaches overview mimesis architecture integrating narrative control gaming environment bringing vr desktop game morphology folktale adaptive narrative autonomous agents towards integrating plot character interactive drama intentional planning system itplans hybrid planning partially hierarchical domains validation structure based theory plan modification reuse control strategies htn planning thoery versus practice computer bridge big win ai planning guiding interactive drama consequence incorporating intentions meansend planning emergent situations interactive storytelling introduction lanalyse structurale des r embodied agents multiparty dialogue immersive virtual worlds dynamically altering agent behaviours using natural language instructions tr validationstructurebased theory plan modification reuse instructions intentions expectations hybrid planning partially hierarchical domains control strategies htn planning interactive movies interactive storytelling systems children dynamically altering agent behaviors using natural language instructions toward holodeck emergent situations interactive storytelling bringing vr desktop acting character adaptive narrative real characters virtual stories guiding interactive drama ctr arturo nakasone helmut prendinger mitsuru ishizuka web presentation system using rst events proceedings fifth international joint conference autonomous agents multiagent systems may 0812 2006 hakodate japan fred charles marc cavazza exploring scalability characterbased storytelling proceedings third international joint conference autonomous agents multiagent systems p872879 july 1923 2004 new york new york steven dow manish mehta annie lausier blair macintyre micheal mateas initial lessons ar faade interactive augmented reality drama proceedings 2006 acm sigchi international conference advances computer entertainment technology june 1416 2006 hollywood california yundong cai chunyan miao ahhwee tan zhiqi shen fuzzy cognitive goal net interactive storytelling plot design proceedings 2006 acm sigchi international conference advances computer entertainment technology june 1416 2006 hollywood california marc cavazza fred charles steven j mead interactive storytelling ai experiment new media proceedings second international conference entertainment computing p18 may 0810 2003 pittsburgh pennsylvania bruno herbelin michal ponder daniel thalmann building exposure synergy interaction narration social channel presence teleoperators virtual environments v14 n2 p234246 april 2005 arturo nakasone mitsuru ishizuka storytelling ontology model using rst proceedings ieeewicacm international conference intelligent agent technology p163169 december 1822 2006 fred charles marc cavazza steven j mead olivier martin alok nandi xavier marichal compelling experiences mixed reality interactive storytelling proceedings 2004 acm sigchi international conference advances computer entertainment technology p3240 june 0305 2005 singapore scott w mcquiggan james c lester learning empathy datadriven framework modeling empathetic companion agents proceedings fifth international joint conference autonomous agents multiagent systems may 0812 2006 hakodate japan bradford w mott james c lester udirector decisiontheoretic narrative planning architecture storytelling environments proceedings fifth international joint conference autonomous agents multiagent systems may 0812 2006 hakodate japan scott w mcquiggan james c lester modeling evaluating empathy embodied companion agents international journal humancomputer studies v65 n4 p348360 april 2007 jaekyung kim wonsung sohn soonbum lim yoonchul choy definition layered avatar behavior script language creating reusing scenario scripts multimedia tools applications v37 n2 p233259 april 2008