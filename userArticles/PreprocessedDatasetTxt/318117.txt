using traffic regulation meet endtoend deadlines atm networks abstractthis paper considers support hard realtime connections atm networks atm network set hard realtime connections admitted worst case endtoend delays cells belonging individual connections less deadlines several approaches managing network resources order meet delay requirements connections paper focuses use traffic regulation achieve objective leaky buckets provide simple userprogrammable means traffic regulation efficient optimal algorithm selecting burst parameters leaky buckets meet connections deadlines designed analyzed algorithm optimal sense always selects set burst parameters whose mean value minimal delay requirements hard realtime connections met exponential size search space makes problem challenging one algorithm efficient systematically pruning search space observed dramatic improvement system performance terms connection admission probability traffic regulated using algorithm b introduction growing interest application atm networks distributed hard realtime hrt systems distributed hrt system tasks executed different nodes communicate amongst exchanging messages messages exchanged timecritical tasks delivered certain deadlines successful operation system examples systems include supervisory command control systems used manufacturing chemical processing nuclear plants telemedicine warships etc paper addresses issue guaranteeing endtoend deadlines timecritical messages atm networks support distributed hrt systems since atm connectionoriented technology messages packetized fixedsize cells guaranteeing message deadlines tantamount ensuring worst case endto end delay cell exceed deadline provide guarantees three orthogonal approaches taken 1 route selection connections 2 output link scheduling atm switches 3 traffic regulation user network interface uni first approach select appropriate routes connections delays within bounds since typical atm networks hrt applications lans scope approach limited second approach focuses scheduling atm switches output links traffic different connections multiplexed drawing similarities cpu scheduling classical realtime scheduling policies first come first serve fcfs earliest deadline first edf generalized processor sharing gps fair queuing fq etc employed 2 12 13 16 23 24 25 however commercially available switches use high priority queue hrt connections queue served fcfs manner paper focus third approach control network delays regulating input traffic connection regulating input traffic smooth burstiness traffic tends reduce adverse impact burstiness endtoend delays connections existing atm networks provide traffic regulation uni relatively easy tune regulation parameters desired justifies focus using traffic regulator access control mechanism hrt atm networks must noted three approaches important complement results using traffic regulation complement previous work route selection output link scheduling idea behind traffic regulation regulate connections traffic lower impact delays cells connections two connections multiplexed single link increase burstiness one connections traffic adversely impacts delays cells others regulating connections traffic makes traffic less bursty thereby reducing delays connections cells however regulating connections traffic may delay cells therefore important choose appropriate degree traffic regulation connections meet endtoend deadlines paper study impact input traffic regulation worst case endtoend delays experienced cells set hard realtime connections particular consider bucket regulator degree regulation connection depends leaky bucket parameters assigned degree traffic regulation chosen connection affects delays connection also others sharing resources connection thus leaky bucket parameters entire set connections must carefully assigned ensure every connection meets endtoend deadline berger proposed analysis model bucket regulators 1 work berger examined single leaky bucket analysing job blocking probabilities system throughput versus parameters job arrival patterns capacity token bank size job buffer different bergers work 1 consider interactions set leaky bucket regulators searching vector burst parameters bucket regulators meet endtoend deadlines hrt connections algorithm searching burst parameters leaky bucket optimal terms find vector burst parameters whose mean value minimal delay requirements hrt connections met whenever assignment exists algorithm computationally efficient utilized connection setup results presented paper directly applicable currently available atm networks without making modifications hardware compatible proposed atm standards evaluate systems capability support hard realtime connections terms metric called admission probability 18 admission probability probability meeting endtoend deadlines set randomly chosen connections observed admission probability increases proper choice leaky bucket parameters uni focus traffic regulation meeting endtoend deadlines work also complements much previous studies essentially concentrate designing analyzing scheduling policies atm switches 2 5 6 8 10 11 12 13 16 20 21 23 24 25 modified fcfs scheduling scheme called proposed studied 2 switch scheduling policy called stop go presented 8 virtual clock scheduling scheme cells prioritized virtual time stamp assigned discussed 25 use earliest deadline first scheduling wide area networks also investigated 6 23 discusses scheduling output link introducing regulator link atm switch 12 uses ratemonotonic scheduling policy input scheduler constrained regulating traffic connection traversing scheduler scheduling policies based fair queueing derivations discussed 5 16 analysis network delays assume output link scheduling policy used fcfs however analysis methodology easily applied systems using scheduling policies outline rest paper follows section 2 defines system model section 3 develops formal definition traffic regulation problem hrt atm networks section presents algorithm select leaky bucket parameter values performance results presented section 5 conclude section 6 summary results host 4 host 1 host 2 host 3 switch switch b switch switch c network interface card network interface card network interface card network interface card hosts switches hosts switches hosts switches hosts switches hosts switches hosts switches hosts switches hosts switches figure 1 atm network architecture 2 system model section present network model connection model traffic descriptors used specify worst case traffic pattern hrt connections 21 network model figure 1 shows typical atm lan atm networks 4 9 22 messages packetized fixedsize cells time transmit single cell constant denoted ct assume time normalized terms ct paper time considered discrete quantity cell transmission time ct taken one time unit atm connectionoriented transport technology two hosts begin communication connection set figure 2a shows sequence network components constitute typical connection illustrated connection host 1 host 2 figure 1 cells connection pass traffic regulator entrance network user network interface uni traverse one atm switches interconnected physical links reaching destination host cell processing network interface card input switch fabric switch input switch fabric switch b cell processing network interface card output output host 1 host 2 constant delay server host 1 host 2 variabledelay server constant delay server variabledelay server constant delay server constant delay server constant delay server variabledelay server constant delay server constant delay server constant delay server constant delay server devices links traversed connection b sequence servers traversed connection figure 2 connection decomposition servers atm networks traffic regulated source using leaky buckets leaky bucket regulator consists token bucket input buffer cells source associated leaky bucket buffered leaky bucket pending cell input buffer transmitted least one token available token bucket associated leaky bucket regulator two parameters burst parameter rate parameter burst parameter denoted fi size token bucket ie maximum number tokens stored bucket rate parameter denoted ae token generation rate bucket number cells may transmitted leaky bucket regulator interval length bounded fi atm switch multiplexes number connections onto physical link cells connections multiplexed buffered controller output link commercially available switches cells connections stringent delay requirements ie class traffic buffered highpriority queue served fcfs order hence paper consider fcfs scheduling policy hrt connections 22 connection model support hrt applications network must guarantee cells given set connections transmitted deadlines use following notations concerning set hrt connections hereafter omit qualifier hrt connections since deal hrt connections ffl n denotes total number connections system ffl set n connections competing resources within atm network connection specified following information source address destination address connection route 1 upper bound average cell arrival rate worst case input traffic characteristics vector specifies endtoend deadlines connections endtoend deadline cell connection cell arrives source time reach destination connection see figure 2a network components traversed connections cells modeled server thus connection considered stream cells served sequence servers 3 18 servers classified constant delay servers variable delay servers constant delay server one offers fixed delay every arriving cell example physical links considered constant delay servers hand cells may buffered variable delay server hence suffer queueing delays leaky bucket traffic regulator fcfs output link schedulers atm switches examples variable delay servers figure 2b shows logical representation connection figure 2a traffic pattern connection point network characterized traffic descriptor traffic source connection raw traffic unregulated generated applications described periodic descriptor c p means maximum c cells may arrive connection interval length p periodic descriptor general describe realtime traffics application level classical periodic synchronous ensure system stability assume connection routes form loops 3 16 traffic ie c contiguous cells arriving beginning every period length p special case kind traffic hard realtime traffic source assumed synchronous 14 15 hence adequately specified traffic descriptor raw traffic connection regulated leaky bucket regulator gets network regulated leaky bucket parameters fi ae traffic pattern becomes interval length regulation traffic traverses atm switches traffic pattern becomes irregular cells multiplexed buffered switches description general traffic patterns use rate function descriptor 17 18 gammai describe traffic leaky bucket regulation gammai specifies maximum arrival rate cells interval length maximum delta gammai cells connection may arrive interval length gammai general describe traffic pattern example traffic pattern described fi expressed rate function 61 appendix a1 rest paper following notations used describe traffics different network points c server traffic leaky bucket connection gamma server ij gamma server output traffic fcfs server j connection 23 delay computations set connections admissible atm network worst case delays cells exceed deadlines let vector whose components worst case endtoend delays connections worst case endtoend delay experienced cell connection relation vectors follows let relation set hrt connections admissible hence check whether admissible need systematic method computing worst case endtoend delay experienced cell connection consider connection 2 compute need investigate delays every network component traversed cell decompose three parts follows switch b switch bucket bucket figure 3 experimental setup 1 const denotes summation delays cell suffers constant delay servers connection route 2 lb denotes worst case queueing delay experienced cell leaky bucket regulates traffic traffic regulated lb 0 3 net denotes summation worst case delays cell suffers variable delay servers leaky bucket net obtained decomposing follows suppose route connection traverses switches fcfs servers cell delay connection fcfs server j net thus expressed net worst case endtoend delay obtained const const since const constant focus obtaining upper bounds lb fcfs ij 3 problem definition section formally define problem leaky bucket parameter selection hrt atm networks motivate discussion first examine experimental data consider simple network consisting two atm switches see figure 3 atm switch 2 input lines 2 output lines 3 connections system connections share output link second switch switch b connections 1 2 enter network switch traverse switches b connection 3 enters system switch b traverses switch b three connections carry identical streams video data video source study two hour encoding movie starwars 7 video source provides total 171000 frames rate 24 frames per second bendtoend delay cell units figure 4 experimental results experiment vary fi 1 leaky bucket burst parameter 1 keeping fi 2 burst parameters 2 3 respectively constant figure 4 shows increases delay measured ct units experienced 1 tends decrease however fi 1 increased delay experienced 3 tends increase observe delays experienced 1 3 reach constant values intuitive explanation results provided increase fi 1 tends increase burst size 1 traffic network larger burst size allowed output leaky bucket need buffer cells within leaky bucket decreases tends lower connection 1 delay fi 1 increased hand increased burstiness 1 fi 1 increased adversely impacts connection 3 traffic increasing 3 worst case cell delay however large values fi 1 1400 delays either connection unaffected increase fi 1 large values fi 1 burst size allowed 1 high cells 1 queued leaky bucket input buffer ie virtually traffic regulation 1 traffic experiment traffic monitored expected exhibit trend 3 fi 1 increases clearly experimental results shown figure 4 indicate choice fi different connections plays critical role worst case cell delays experienced connections formal definition problem need notations ffl ae rate vector ie ae rate parameter assigned leaky bucket regulating connection network interface assume ae assigned value equal long term average cell arrival rate ffl fi burst vector ie fi burst parameter assigned leaky bucket regulating traffic ffl fi norm burst vector fi ie since analyze slotted system fi takes positive integers therefore minimal value fi n ffl fi worst case endtoend delay vector given selection fi ie fi worst case cell delay connection fi chosen burst vector using 7 fi expressed const const lb worst case queueing delays leaky bucket th fcfs server respectively burst vector fi computation lb fcfs given 60 63 respectively appendix ffl set burst vectors connection set admissible ie main goal meet 5 ie ensure endtoend deadlines connections given set met chosen traffic regulation means achieving objective terms notations given set hrt connections method must find vector fi belongs going design analyze fiselection algorithm purpose algorithm take connection set input return vector fi output clearly empty assignment fi make connection set admissible parameter selection algorithm return allzero fi empty furthermore since degree regulating traffic stream higher smaller values fi ie regulated traffic less bursty thus less impact others desirable select vector fi small norm fi let fi minimum terms norm fi satisfies fi2am define fiselection algorithm optimal always produces fi whenever nonempty prove fi unique exists set connections following lemma introduced illustrate relationships fi net lemma 31 consider connection set net decrease fi increases lemma 31 valid intuition fi increases cells connections whose fi values increased get leaky buckets injected network add cells following fcfs servers compete network resources cells therefore net fi total delays cell fcfs servers increase remain servers still capacity transmit increased amount cells without buffering net never decrease fi increases formal proof lemma 31 given 17 next theorem proves uniqueness fi theorem 31 given system fi satisfies fi2am unique 6 proof prove theorem contradiction assume 6 two distinct vectors fi fi 0 n satisfy 15 thus fi2am construct new vector fi fi 1 fisuch using 17 10 since leaky bucket regulator entrance connection lb independent fi j j 6 thus lb 17 1 n lb lb lb also fi fiand fi fi lemma 31 net fiand fiare distinct given 1 n two cases case 1 hence 20 get lb 21 get net therefore lb fisatisfies 15 therefore lb case 2 hence 20 get lb 21 get net therefore lb fisatisfies 15 therefore lb 25 29 fi also feasible assignment connection set admissible however 18 definition fi fiand ficannot fi contradiction hence theorem holds 2 4 algorithm development section develop optimal efficient algorithm first formulate problem search problem investigate useful properties search space properties help us development algorithm 41 parameter selection search problem definition optimal algorithm takes input returns fi whenever nonempty returns 0 output empty view problem selecting search problem search space consists fi vectors let set fi vectors set consisting fi vectors deadlines met subset let gamma relation defined follows given fi gamma fiif 9j 1 j n note fidiffers fi jth component let 4 fi fi denote index j example relation gamma allows us define acyclic directed graph g node set v edge set e given fig thus g graph representation search space graph g also considered rooted leveled graph vector root level p consists fi vectors norm p p n figure 5 illustrates graph graph g let l p set fi vectors level p note node level p edges nodes level p 1 based representation search space simple breadthfirst search method constructed find fi figure 6 shows pseudocode method shown dotted search path figure 5 search method first examines fi vectors l p proceeding l p1 fi vector considered method uses procedure 2 compute fi evaluate fi first fi encountered search path satisfies deadline constraint fi clearly fi vector point reader may raise following questions method shown figure 6 2 procedure compute worst case endtoend delay connections please refer appendix a3 213 411 figure 5 example search space graph select burst parametersm 01 1 fmain iterative loopg 02 foreach fi 2 l p 03 04 05 return fi 06 endif 07 endforeach 08 endfor fend main loopg figure pseudocode breadthfirst search method 1 given connection set set may empty case fi defined algorithm searching fi terminate 2 even nonempty exhaustive nature breadthfirst search results exponential time complexity next subsection overcome first difficulty bounding search space subsequent subsection reduce search complexity pruning search space adopting search method efficient breadthfirst search 42 bounding search space experiment described section 3 interesting observation fi 1 increased beyond 1400 change worst case endtoend delays connections following theorem asserts behavior expected atm network leaky bucket regulators let fi max minimum value fi lb zero theorem 41 connection whose traffic described c server regulated leaky bucket parameters fi bounded c server ilb proof let q ilb maximal queue length leaky bucket lemma a2 appendix a1 defined smallest integer value maximum waiting time cell leaky bucket queue becomes zero ie q ilb becomes zero solve value fi makes 31 zero 42 connection increasing value fi beyond fi max impact worst case endtoend cell delay connection proof connection since fi max minimal value fi lb zero cell queued leaky bucket fi reaches fi max cell arrives leaky bucket get leaky bucket without buffered virtually traffic regulation traffic case therefore increasing value fi beyond fi max impact worst case endtoend cell delay connection 2 important consequence theorem 42 search space candidate fi vectors bounded need consider fi vectors satisfy fi fi select burst parametersm 01 compute fi 02 fi fmain iterative loopg 03 foreach fi 2 l p fi fi max 04 05 06 return fi 07 endif 08 endforeach 09 endfor fend main loopg 10 return 0 figure 7 pseudocode bounded breadthfirst search algorithm note fi precomputed given set consider example figure 5 assume fi applying theorem 42 get another graph shown figure 8 shaded region figure 8 automatically eliminated consideration using theorem 42 modify breadthfirst search procedure shown figure 6 take account bounded search space resulting pseudocode shown figure 7 however since size l p increases exponentially complexity algorithm still exponential next subsection prune search space design efficient algorithm 43 search space pruning breadthfirst search algorithm defined figure 7 exponential time complexity consider alternative exhaustive breadthfirst search method alternative breadthfirst search path desire search path begins root node follows directed edges graph g locate fi fi exists search path would allow us examine one vector fi level consider example figure 9 depicts case 3 shaded region already eliminated consideration based fi assume would like search guided along one two paths 2 guide search along direct path root fi g must choose appropriate child node level example figure 9 node 213 411 figure 8 example bounded search space 213 411 figure 9 example graph search space pruning either choose next candidate node however node must guide search choose next candidate node order select candidate nodes level need know whether particular node ancestor fi fi indeed exists node fi said ancestor node fidenoted fi gamma fi fican reached fi directed path g example figure 9 ancestor nodes formally define ancestor relationship proceed follows first vector considered ancestor let fi p fi pk two vectors fi pk gamma fi pk 9 fi fi gamma fi gamma fi gamma fi pk next theorem states important result help us construct directed path root node ie fi given need notations first status vector associated node fi vector fi indicates status stream ie whether deadlines individual streams met fi selected burst parameter vector following lemmas introduced help proof theorem defines direct search fi lemma 41 consider connection set j fi decrease increase fi 6 j lemma 41 valid j const const j constant lb independant fi j 6 net changes increase fi net decrease increase fi therefore lemma 41 holds formal proof lemma found 17 lemma 42 consider connection set assume fi exists fi ancestor fi 1 n makes proof since fi ancestor fi prove 1 n 35 need prove fi 6 fi prove contradiction assume since fi lemma 41 fi decrease matter much increase fi 6 increment corresponding components fi make fi equal fi fi holds contradicts definition fi existance assumption fi therefore fi 6 fi fi fi 2 theorem 43 fi exists following true ancestor fi 2 fi ancestor fi exists fisuch fi gamma fi b c either fiis fi ancestor fi proof statement 1 true since ancestor fis let fi fi 6 fi ancestor fi therefore x 1 x n since fi unique exists 1 n lemma 42 construct fisuch z z 6 fi 0 definition gamma obviously thus holds definition 4 4 fi also thus b holds 36 37 x 1 x n x fi thus hence either fi fi exists directed path g gamma fi fiis ancestor fi thus c holds 2 consider claims made theorem first claim theorem 43 trivial states fi exists must least one path root node fi second claim theorem 43 implies fi ancestor fi ie fi exists assignment fi make admissible ie fi assignment fiderived fi fi gamma fiand 0 also ancestor fi first claim helps us begin search root node level p examining node fi 2 l p second claim helps us choose child node fi fi theorem states choose child node fiof fi 0 theorem ensures child node must also directed path fi fi exists hence fi found search starting using status vector guide search along directed path leading fi 44 efficient algorithm properties subsection first present efficient optimal algorithm prove properties figure shows pseudocode algorithm algorithm derived one figure 7 pruning search space algorithm iterative procedure starting root ie iteration algorithm selects node next level node selected line help status vector computed function compute line 8 iterative process continues either fi found following two theorems assert correctness property complexity algorithm figure 10 theorem 44 connection set algorithm figure 10 optimal proof theorem follows theorem 43 pseudocode algorithm theorem 45 time complexity algorithm figure 10 proof algorithm shown figure 10 maximum number iterations n1 iteration algorithm calls three procedures lines 4 8 9 worst case time complexity procedure compute fi line 4 function network size ie 3 note line 9 algorithm modified select connection whose deadline missed minimum value modification improves average case time complexity algorithm without changing worst case one select burst parametersm 01 compute fi 02 03 fi fmain iterative loopg 04 05 06 return fi 07 else 08 find index j fsuch 10 fi 11 return 0 12 else 13 fincreasing component j 1g fby theorem 43 new burst vector also ancestor fi 14 endif 15 endif 16 endfor fend main loopg figure 10 pseudocode efficient algorithm hostfrom hostfrom hostfrom hostfrom hostfrom hostfrom hostfrom hostto hostto hostto hostfrom hostswitch switch connections source desitination host 00 host 100 host 01 host 101 host 10j host 99 host 109 figure 11 example network used simulation longest path network hence given network time complexity compute bounded constant procedure compute steps comparisons therefore time complexity finally worst case time complexity procedure find index j line hence time complexity algorithm figure 10 5 performance evaluation section present performance results evaluate impact leaky bucket regulation hrt systems consider sample network architecture shown figure 11 consists two stages total 11 atm switches atm switch 10 input lines 10 output lines connections network form symmetric pattern 100 connections system connection goes two switches connections arranged way connections share one output link stage first stage connections multiplexed switch 0 transmitted link 0 second stage connections multiplexed switch 10 transmitted link host 100 evaluate performance system terms admission probability ap u defined probability set randomly chosen hrt connections admitted given traffic load terms average utilization links u obtain performance data developed program simulate atm network connections program written c programming language runs sunsolaris environment run program 200 connection sets randomly generated connection total number cells per period chosen geometric distribution mean 10 worst case cell arrival rate c p connections sharing particular link first stage chosen random variables uniformly distributed 0 u subject summation u average utilization link similar results obtained different settings parameters connection set generated following systems simulated ffl system system connection traffic unregulated ie burst vector selected connection set fi max ffl system b system constant burst vectors used connections particular system b1 sets burst vector 3 sets burst vector ffl system c system burst vector produced optimal algorithm used figures 13 14 show performance figures corresponding cases set 2p 15p respectively common deadlines associated periods 14 15 hrt systems figures make following observations system c optimal algorithm used set burst vectors performs best performance gain particularly significant link utilization becomes high comparison systems b1 b2 example figure 13 close 1 system c 0 systems b2 justifies early claim burst vector must properly set order achieve best system performance hrt applications ffl general admission probability sensitive average link utilization utilization increases admission probability decreases expected higher network utilization difficult system admit set connections also find decreasing speed admission probability systems b1 b2 much faster system c increase utilization suggests situations link utilization high proper selection burst vector becomes important system performance ffl comparing performance systems b1 b2 system c clearly see difference noregulation regulation large fi regulation small fi regulation optimal fi system traffic regulation performs worst among systems system b1 small fi performs better system b2 larger fi system c optimal fi performs best another evidence proves correct direction work choosing minimal fi still meet endtoend deadlines simulation results strengthen need good fi selection algorithm ffl performance systems stable change curves figure 13 similar shapes figure 14 demonstrates simulation results stable affected system dynamic factors system loading system traffics 6 conclusions paper addressed issue guaranteeing endtoend deadlines hrt connections atm network much previous work concentrated scheduling policies used atm switches approach problem regulate input traffic network interface particular consider leaky bucket traffic regulators study first one uses traffic regulation particular leaky buckets method guaranteeing endtoend deadlines hrt connections traditionally leaky bucket used policing mechanism source traffic input network conform negotiated characteristics designed analyzed efficient optimal algorithm selecting burst parameters leaky buckets order meet connections deadlines algorithm optimal sense exists assignment burst parameters deadlines set hrt connections met algorithm always find assignment algorithm also efficient simulated compared performance atm networks different regulation policies observed dramatic improvement system performance burst parameters selected algorithm solution guaranteeing endtoend deadlines hrt atm networks effective generic independent switch architecture scheduling policy used atm switches used admission control atm network uses leaky bucket traffic regulators r performance analysis ratecontrol throttle tokens jobs queue supporting realtime applications integrated services packet network architecture mechanism calculus network delay asynchronous transfer mode solution broadband isdn analysis simulation fair queueing algorithm scheme realtime channel establishment widearea networks contributions toward realtime services packet switched networks framing strategy congestion management rate controlled servers highspeed networks scheduling realtime traffic atm networks scheduling algorithms multiprogramming hardrealtime environment hard realtime communication multipleaccess networks generalized processor sharing approach flow control integrated services networks real time communication atm networks guaranteeing endtoend deadlines atm networks admission control hard realtime connections atm lans proceedings ieee infocom96 responsive aperiodic services highspeed networks congestion control multimedia services atm concepts comparison ratebased service disciplines virtual clock new traffic control algorithm packet switching networks tr ctr khalil shihab modeling performance evaluation atm switches proceedings 5th wseas international conference applied informatics communications p377383 september 1517 2005 malta l lo bello gangemi slot swapping protocol timecritical internetworking journal systems architecture euromicro journal v51 n9 p526541 september 2005