combinatorial consistency lemma application proving pcp theorem current proof probabilistically checkable proofs pcp theorem ie cal npcal pcplogo1 complicated one source difficulty technically involved analysis lowdegree tests refer difficulty obtaining strong results regarding lowdegree tests namely results type obtained used arora safra j acm 45 1998 pp 70122 arora et al j acm 45 1998 pp 501555in paper eliminate need obtain strong results lowdegree tests proving pcp theorem although remove need lowdegree tests altogether using results possible prove pcp theorem using simpler analysis lowdegree tests yields weaker bounds words replace strong algebraic analysis lowdegree tests presented arora safra arora et al combinatorial lemma refer lowdegree tests polynomials b introduction characterization np terms probabilistically checkable proofs pcp systems almss hereafter referred pcp characterization theorem one fundamental achievements complexity theory loosely speaking theorem states membership nplanguage verified probabilistically polynomialtime machine inspects constant number bits random locations redundant npwitness unfortunately current proof pcp characterization theorem complicated consequently assimilated complexity theory clearly changing state affairs highly desirable two things make current proof pcp characterization theorem difficult one source difficulty complicated conceptual structure proof notably acclaimed proof composition paradigm yet time part seems easier understand explain first introduced furthermore proof composition paradigm turned useful played central role subsequent works area cf bglr bs bgs h96 source difficulty technically involved analysis lowdegree tests refer difficulty obtaining strong results regarding lowdegree tests namely results type obtained used almss paper eliminate latter difficulty although get rid lowdegree tests altogether using results possible prove pcp characterization theorem using weaker simpler analysis lowdegree tests presented glrsw rs92 rs96 words replace complicated algebraic analysis lowdegree tests presented almss combinatorial lemma refer lowdegree tests even polynomials believe combinatorial lemma intuitive find proof much simpler algebraic analysis almss however simplicity may matter taste loosely speaking combinatorial lemma provides way generating sequences pairwise independent random points assignment values sequences must induce consistent values individual elements obtained consistency test samples constant number sequences stress length sequences well domain elements chosen parameters may grow number samples remains fixed 11 two combinatorial consistency lemmas following problem arises frequently trying design pcp systems particular proving pcp characterization theorem sets v one procedure given bounded oracle access function f 7 v tests f desired property furthermore case f sufficiently bad ie far function property test detects noticeable probability example function f may prooforacle basic pcp system want utilize ingredient composition pcp systems problem want increase detection probability equivalently reduce error probability without increasing number queries although willing allow informative queries example willing allow queries one supplies sequence elements expects obtain corresponding sequence values f elements problem sequences values obtained may consistent phrase simple problem testing consistency one given access function asked whether exists function f 7 v sequences loosely speaking prove querying f constant number related random sequences suffices testing relaxion lemma 11 combinatorial consistency simple case every ffi 0 exists constant poly1ffi probabilistic oracle machine input jsj runs poly delta log jsj time makes c queries oracle f 7v ffl exist function f 7 v f accepts given access oracle f ffl accepts probability least 1 access oracle f exist sequences f agree least positions least fraction possible specifically test examines value function f random pairs sequences r checks corresponding values r indeed equal details see section 4 unfortunately relatively simple consistency lemma suffice pcp appli cations reason application error reduction see done via randomnessefficient procedures pairwiseindependent sequences since cannot afford utilize delta log 2 jsj random bits consequently function f defined entire set rather sparse subset denoted thus one given access function asked whether exists function f 7 v sequences sequences f agree continious subsequences length main result paper lemma 12 combinatorial consistency sparse case every two integers 1 exists set ae following holds 1 every ffi 0 exists constant c poly1ffi probabilistic oracle machine input runs poly delta log stime makes c queries oracle ffl exist function f 7 v f accepts given access oracle f ffl accepts probability least 1 access oracle f exist least fraction possible sequences f agree least fraction subsequences length 2 individual elements uniformly selected sequence uniformly distributed pairwise independent furthermore set cardinality polys constructed time polys specifically test examines value function f related random pairs sequences sequences viewed theta matrices loosely speaking chosen random extensions random row column details see section 2 particular presentation section 2 axiomatizes properties set sequences tester works thus provide parallel repetition theorem holds random nonindependent instances rather independent random instances results however parallel repetition theorem applies case single query asked basic system rather pair related queries results due limitation could apply parallel repetition theorem directly errorreduction generic proof systems instead explained applied parallel repetition theorem derive relatively strong lowdegree test weaker lowdegree test believe combinatorial consistency lemma section 2 may play role subsequent developments area 12 application pcp characterization theorem currently known proof pcp characterization theorem almss composes proof systems verifier makes constant number multivalued queries verifiers constructed parallelization simpler verifiers thus problem consistency arises problem solved use lowdegree multivariant polynomials turn requires highquality lowdegree testers specifically given function f gfp n 7 gfp p prime one needs test f close lowdegree polynomial n variables finite field gfp required function f disagrees every ddegree polynomial least say 1 inputs rejected say probability 99 test allowed use auxiliary proof oracles addition f may make constant number queries answers must length bounded polyn log p using technical lemma due arora safra arora et al almss proved result 1 full proof quite complex algebraic nature weaker result due gemmel et al glrsw see rs96 asserts existence ddegree test using d2 queries rejects bad functions probability proof much simpler combining result gemmel et al glrsw rs96 combinatorial consistency lemma ie lemma 12 obtain alternative proof following result lemma 13 lowdegree tester every ffi 0 exists constant c probabilistic oracle machine input n p runs polyn log ptime makes c queries f auxiliary oracle f ffl f degreed polynomial exist function f always accepts ffl accepts probability least 1 access oracles f f f agrees degreed polynomial least 1 fraction domain 2 stress contrast almss proof lemma mainly combinatorial reference algebra relying result gemmel et al glrsw rs96 improved analysis later obtained friedl sudan fs actually almss prove agreement arbitrary large constant fraction domain weaker simpler proof almss tester works performing many pair wise independent instances glrsw test parallel guaranteeing consistency answers obtained tests via combinatorial consistency test ie lemma 12 contrast prior work way guarantee consistency answers resulted need perform lowdegree test type asserted lemma 13 using almss alternative known meant losing advantage utilizing lowdegree tests simpler algebraic analysis 13 related work refrain attempt provide account developments culminated pcp characterization theorem works certainly mentioned include gmr bgkw frs lfkn s90 bfl bfls fglss almss well bf blr ls rs92 detailed accounts see surveys babai b94 goldreich g96 hastads recent work h96 contains combinatorial consistency lemma related lemma 11 ie simple case lemma however hastads lemma refers case test accepts low probability conclusion weaker though harder establish raz safra rasa claim inspired lemma 12 ie sparse case lemma organization basic sparse case consistency lemma presented section 2 application pcp characterization theorem presented section 3 section 4 contains proof lemma 11 refers sequences totally independent random points remark writeup reports work completed spring 1994 announced weizmann workshop randomness computation january 1995 2 consistency lemma sparse case section present main result combinatorial consistency lemma refers sequences bounded independence specifically considered k 2 long sequences viewed kbyk matrices emphasize combinatorial nature lemma proof adopt abstract presentation properties required set matrices explicitly stated axioms comment set kbyk matrices satisfies axioms important case given construction 23 based standard construction pairwiseindependent sequences ie matrix pairwiseindependent sequence rows row pairwiseindependent sequence elements general notation positive integer k let k kg finite set notation 2r means uniformly selected case multiset element selected probability proportional multiplicity 21 setting let finite set let k integer k parameters yet implicit subsequent notations rows columns let r multiset sequences length k every e 2 appears sequence r sake simplicity think r set ie sequence appears multiplicity 1 similarly let c another set sequences length k neither assume consider matrices rows r columns c thus call members r rowsequences c columnsequences denote multiset kbyk matrices rows r columns c namely axiom 1 every th row element r th column element c every 2 k r 2 r denote r set matrices r th row similarly j 2 k c 2 c denote j c set matrices c j th column every denote j c set matrices r th row c j th column ie shifts assume r closed shift operator namely axiom 2 every exists unique denote rightshifted sequence oer similarly assume exists unique 1 denote leftshifted sequence oe gamma1 r furthermore 3 assume shifting rows direction yields matrix 0 also stress assume c closed shifts analogous manner every positive integer notations oe r oe gammai r defined natural way distribution turn axioms concerning distribution rows columns uniformly chosen matrix assume rows columns uniformly chosen matrix uniformly distributed r c respectively 4 addition assume rows necessarily columns also pairwise independent specifically axiom 3 let uniformly selected 1 every 2 k th column uniformly distributed c 2 every 2 k th row uniformly distributed r 3 furthermore every j 6 r 2 r conditioned th row equals r j th row uniformly distributed r finally assume columns uniformly chosen matrix containing specific rowsequence distributed identically uniformly selected columns corresponding entry formal statement indeed place axiom 4 every th column matrix uniformly selected among r th row ie 2r r uniformly distributed among columnsequences r j th element 3 extra axiom really necessary see remark following definition consistency test 4 fact implies axiom 1 clearly j th element differs th element axiom j c empty axiom implies case r denotes set columnsequences e th element second equality obtained axiom 4 22 test gamma function assigning matrices may proper subset possible kbyk matrices values kbyk matrices set values v ie function gamma supposed consistent ie assign element e value independently matrix e appears purpose following test check property holds approximate sense construction 21 consistency test 1 column test select columnsequence c uniformly c select two random extensions column namely test th column gammam 1 equals j th column gammam 2 2 row test analogous column test select rowsequence r uniformly r k select two random extensions row namely test th row gammam 1 equals j th row gammam 2 3 shift test select matrix uniformly integer 2 k gamma 1 let 0 matrix obtained shifting row namely th row 0 oe r r denotes th row test first columns gammam match last columns gammam test accepts three subtests succeed remark actually suffices use seemingly weaker test rowtest shifttest combined following generalized rowtest select rowsequence r uniformly r integers 1g select random extension row shift namely test tlong suffix th row gammam 1 equals prefix j th row gammam 2 main result asserts construction 21 good consistency test almost entries almost matrices assigned consistent manner would obvious entries almost rows almost matrices assigned consistent manner lemma 22 suppose satisfies axioms 14 every constant ffi 0 exist consistency test probability least exists function 7 v probability least 1 gamma ffi value assigned gamma uniformly chosen matrix matches values assigned elements uniformly chosen row matrix namely k constant ffl depend k furthermore polynomially related ffi corollary get part 1 lemma 12 part 2 follows proposition 24 23 proof lemma 22 motivation towards proof lemma 22 consider following mental experiment let arbitrary matrix e th entry first uniformly select random matrix denoted containing th row next uniformly select random matrix denoted 2 containing j th column 1 claim 2 uniformly distributed among matrices containing element e thus gamma passes items 1 2 consistency test must assign consistent values almost elements almost matrices yet falls short even proving exists assignment matches values assigned elements row matrix indeed consider function gamma assigns 0 elements first fflk columns matrix 1s elements clearly gamma passes rowtest probability 1 columntest probability greater random matrix values assigned gamma row match easy see shifttest takes care special counterexample furthermore may telling see wrong naive arguments main issue arguments tend ignore adversarial choice gamma candidate choice 7 v handle column location elements random matrix disagrees gamma shifttest plays central role getting around problem see subsection 232 claim 2214 recommendation reader may want skip proofs claims first reading believe claims quite believable proofs though slightly tedious cases quite straightforward contrast believe ideas underlying proof lemma found high level structure namely definitions claims made notation following notation used extensively throughout proof kbyk matrix denote row th row col j j th column restating conditions lemma hypothesis gamma passes column test uniformly selected corresponding sets ie c2c c similarly hypothesis gamma passes row test convenient extend shift notation matrices obvious manner namely oe defined matrix 0 satisfying row hypothesis gamma passes shifttest obtain finally denoting entry ij th entry matrix restate conclusion lemma follows prob im 9j entry ij gammam 6 entry ij 231 stable rows columns part 1 r 2 r denote p r ff probability gamma assigns rowsequence r valuesequence namely implies almost rowsequences typical sequence values see claim 223 definition 221 consensus consensus rowsequence denoted conr defined value ff p r ff maximum namely ff lexicographically first valuesequence p fig definition 222 stable sequences let ffl 2 ffl say rowsequence r stable otherwise say r unstable clearly almost rowsequences stable 223 ffl 2 fraction rowsequence stable proof fixed r ff r taking expectation r 2r r using eq 2 get r p max r ffg using markov inequality get claim follows 2 definition almost matrices containing particular stable rowsequence assign row sequence sequence values ie consensus value say matrices conforming rowsequence definition 224 conforming called iconforming conforming rowposition gamma assigns th row consensus value namely row otherwise matrix called inonconforming nonconforming rowposition 225 probability uniformly chosen 2 k 2 matrix inonconforming ffl 3 furthermore bound holds also require th row stable proof stronger bound probability equals sum probabilities following two events first event th row matrix unstable whereas second event th row matrix stable yet matrix inonconforming bound probability first event ffl 2 fix 2 k combine axiom 3 claim 223 bound probability second event fix stable r use definition stable row 2 remark clearly analogous treatment applied columnsequences sequel freely refer notions claims also discussing columnsequences 232 stable rows part 2 shifts consider relation consensus rowsequences consensus shifts short shift rowsequence r mean rowsequence obtained 1g aim show consensus well stability usually preserved short shifts definition 226 verystable row let ffl say rowsequence r stable stable ffl 4 fraction 2 1g rowsequence also stable clearly 227 ffl 4 fraction rowsequence verystable proof simple counting argument 2 definition 228 superstable row let ffl say rowsequence r superstable verystable every j 2 k following holds ffl 6 fraction 2 k rowsequence stable con j th element conr note th element oe tgammaj r r thus rowsequence superstable consensus value elements preserved almost short shifts 229 ffl 6 fraction rowsequence superstable proof start proving almost rowsequences almost shifts approximately matching statistics statistics vector r 2 r defined klong sequence r delta p j r v probability gamma assigns value v j th element row r namely r definition consensus know every stable rowsequence r 2 r shift stable approximately matching statistics ie corresponding statistics subvectors close consensus must match ie corresponding subsequences consensus equal subclaim 2291 ffl 5 fraction rowsequences r ffl 5 fraction shifts proof subclaim let pref row ij denote jlong prefix row suff row ij jlong suffix shifttest see eq 3 prob mid pref row ikgammad gammam suff row ikgammad gammam 0 using axiom 3 part 2 averaging argument get ffl 5 fraction r 2 r ffl 5 fraction 2 k gamma 1 prob im pref row ikgammad gammam suff row ikgammad gammam 0 fix pair r thus fixing also matrixpairs 0 equality holds contributes equally appropriate long portion statistic vectors rowsequences r contribution matrix pairs equality hold difference vj 2 per relevant j subclaim follows 3 corollary get 2292 let us call rowsequence r infective every j 2 k 2ffl 5 fraction 2 k satisfy 2ffl 5 fraction rowsequences infective proof subclaim proof obvious yet confusing say r fine1 ffl 5 fraction 2 k every oe r r fine1 every j ffl 5 k positions 2 fj1 kg oe tgammaj r vj 2ffl 5 similarly r fine2 ffl 5 fraction 2 k every j oe gammad r vj 2ffl 5 whenever r fine2 every j ffl 5 k positions oe gammajt r vj 2ffl 5 thus rowsequence r fine1 fine2 every j 2 k 2ffl 1 fraction positions 2 k satisfy oe tgammaj r vj 2ffl 5 subclaim 2291 get ffl 5 fraction row sequences fine1 similar statement holds fine2 since shifttest rewritten selecting setting combining trivialities clearly rowsequence r verystable infective satisfies every j 2 k ffl 4 2 k particular follows p must hold thus r superstable combining lower bounds given claim 227 subclaim 2292 current claim follows actually get better bound ie ffl 4 summary proceeding let us summarize state knowledge key definitions regarding rowsequences stable verystable superstable rowsequences ie defs 222 226 228 respectively recall stable rowsequence assigned value almost matrices appear furthermore prefixes resp suffices superstable rowsequence assigned values almost matrices containing portions part row regarding matrices defined matrix iconforming assigns th row corresponding consensus value ie conforms consensus rowsequence cf definitions 224 221 seen almost rowsequences superstable almost matrices conforming rows actually use latter fact respect columns almost matrices conforming columns cf claim 225 remark following 233 deriving conclusion lemma ready derive conclusion lemma loosely speaking claim function defined e value frequently assigned gamma e satisfies eq 4 actually use slightly different definition function definition 2210 function columnsequence c denote con c values conc assigns th element c denote c e set columnsequences e th component let q e v denote probability consensus uniformly chosen columnsequence containing e assigns e value v namely e ties broken arbitrarily assume contrary claim eq 4 hold namely uniformly chosen following holds probability greater ffi 9j entry ij gammam 6 entry ij 5 notion annoying rowsequence defined plays central role argument using contradiction hypothesis first show many rowsequences annoying next show lower bounds number annoying rowsequences translate lower bounds probability uniformly chosen matrix nonconforming uniformly chosen column position yields contradiction claim 225 definition 2211 rowannoying said annoying rowsequence r j th element conr differs r j rowsequence r said annoying r contains element annoying using claim 229 get 2212 suppose eq 4 hold least fraction rowsequences superstable annoying proof axiom 3 part 2 extensively used throughout proof explicit reference combining eq 5 claim 229 probability least uniformly chosen satisfies following 1 exists j entry ij different entry ij gammam 2 row superstable 3 matrix iconforming ie entry ij gammam equals con j row every j 2 k combining conditions 1 3 get e entry ij annoying th row current claim follows 2 key observation stable rowsequence annoying yields many matrices nonconforming annoying column position ie column position containing element annoys rowsequence namely 2213 suppose rowsequence stable r j annoying r least fraction matrices containing rowsequence r nonconforming columnposition j stress rowsequence r claim necessarily verystable let alone super stable proof let us denote v value assigned r j consensus r ie v r follows v different r j consider probability space defined uniformly selecting r stable follows almost matrices value assigned r j matrix equals v namely r axiom 4 j th column uniformly distributed thus may replace c 2r c r j j th column 2r r using definition function accompanying notations get r inequality holds since v 6 r j definition combining eq 6 7 get claim follows 2 another key observation superstable rowsequences annoying property infecting almost shifts annoying positions thus spreading annoyance column positions namely 2214 suppose rowsequence r superstable annoying particular suppose j th element annoying r ffl 6 fraction 2 k rowsequence stable th element indeed r j annoying proof since r superstable know ffl 6 fraction ts con j stable well annoying r combining claims 2212 2214 derive almost positions 2 k lower bound number stable rowsequences annoyed th element 2215 suppose eq 4 hold exists set k every 2 set least ffi 1 stable rowsequences th position annoying sequences proof combining claims 2212 2214 get set superstable row sequences r contains least ffi 1 fraction r every r 2 exist j r 2 k ffl 6 2 k rowsequence stable th position annoying ie counting argument follows set jt j every 2 least half rs satisfy ie stable th position annoying fixing 2 consider set denoted containing rs namely every rowsequence r r stable th position annoying ie thus established mapping set stable rowsequences annoyed th position specifically r mapped oe tgammaj r r rowsequence range mapping k preimages corresponding k possible shifts maintain th element recalling contains least ffi 1delta jrj sequences conclude mappings range must contain least ffi 1 sequences claim follows 2 combining claims 2215 2213 get lower bound number matrices nonconforming j th column 8j 2 claim 2215 namely guaranteed claim 2215 suppose j 2 least 1fraction matrices nonconforming columnposition j proof claim 2215 least ffi 1 stable rowsequences annoyed th position rowsequences consider subset denoted containing exactly rowsequences claim 2213 r 2 least fraction matrices containing rowsequence r nonconforming columnposition j claim almost matrices contain another rowsequence use fact isnt large allow us addup matrices guaranteed r 2 without worrying multiple counting namely subclaim 22161 every r 2 r proof subclaim axiom 3 part 3 get every 0 6 0 th row 2r r uniformly distributed r thus every 0 r subclaim follows 3 using subclaim conclude r 2 least fraction matrices containing rowsequence r nonconforming columnposition j contain rowsequence desired lower bound follows namely let b denote set matrices nonconforming columnposition j let b denote set matrices b r contain row except th row claim follows 2 combination claims 2215 2216 yields uniformly chosen matrix nonconforming uniformly chosen column position probability least 1 1 suitable choice constants eg yields contradiction claim 225 thus eq 4 must hold defined def 2210 lemma follows 24 construction satisfies axioms clearly set kbyk matrices satisfies axioms 14 interesting useful set matrices defined follows construction 23 basic construction associate set finite field suppose furthermore k associated k elements field 1 multiplicative unit 2 k sum units let set matrices defined four field elements follows matrix associated quadruple x th entry remark columnsequences correspond standard pairwiseindependent sequences fr similarly rowsequences expressed fr proposition 24 basic construction satisfies axioms 14 proof axioms 1 obvious remark rightshift sequence frjs prove axiom 3 holds rewrite th row fs pairwise independent uniformly distributed theta corresponds set rowsequences remains prove axiom 4 holds start proving following fact 241 consider j 2 k two sequences r proof fact construction exists unique pair b 2 theta every existence obvious uniqueness follows considering two equations eg similarly exist unique pair ff fi ff every get system four linear equations x x system rank 3 thus jsj solutions defining matrix j using fact 241 axiom 4 follows since js theta sj proposition 3 stronger consistency test pcp application prove lemma 13 need slightly stronger consistency test one analyzed lemma 22 new test given access three related oracles supplying assignments certain classes sequences supposed establish consistency oracles one function 7 v specifically one oracle assigns values k 2 long sequences viewed twodimensional arrays two oracles assign values k 3 long sequences viewed 3dimensional arrays whose slices along specific coordinate correspond 2dimensional arrays first oracle using lemma 22 auxiliary oracles present test verifies first oracle consistent even stronger sense established lemma 22 namely entries almost rows almost 2dimensional arrays assigned consistent manner entries almost 2dimensional arrays assigned consistent manner 31 setting let k r c previous section consider family c kbyk matrices entries c family c satisfy axioms 14 previous section addition induced multiset rowsequences denoted r correspond multiset namely row matrix c form matrix ie sequence elements c corresponding row c matrix correspond mmatrix put formally axiom 5 every every 2 k exists every j 2 k th entry equals j th column ie entry ij equivalently row furthermore matrix unique analogously consider also family r kbyk matrices entries elements r rows 5 correspond matrices 32 test gamma function assigning kbyk matrices values kbyk matrices set values v ie supossedly corresponding function assigning kbyk matrices c resp r values kbyk matrices v construction 31 extended consistency test 1 consistency sequences apply consistency test construction 21 gamma c gamma r 2 correspondence test uniformly select matrix row 2 k compare th row gamma c gammam matrix formed celements th row gamma r test accepts subtests succeed lemma 32 suppose mm c satisfy axioms 15 every constant fl 0 exist constant ffl function together functions gamma c passes extended consistency test probability least 1 exists function 7 v probability least 1 gamma fl value assigned gamma uniformly chosen matrix matches values assigned elements namely probm constant ffl depend k furthermore polynomially related fl proof lemma starts applying lemma 22 derive assignments c resp r consistent gamma c almost rows almost k 3 dimensional arrays ie c r respectively proceeds applying degenerate argument kind applied proof lemma 22 reader may want skip proofs claims first reading 33 proof lemma 32 start considering item 1 extended consistency test lemma 22 exists function c value assigned gamma c uniformly chosen row uniformly chosen matrix c matches high probability values assigned c celements resp relements appearing 5 alternatively one consider family r kbyk matrices entries elements r columns correspond matrices however would require modify basic consistency test construction 21 matrices shifts columns instead rows row high probability means probability least 1 gamma ffi ffi 0 constant related ffl specified lemma 22 namely entry ij 331 perfect matrices typical sequences eq next step relate c gamma done easily referring item 2 extended consistency test specifically follows value assigned gamma uniformly chosen matrix 2 matches high probability values assigned c columns resp rows definition 321 perfect matrices matrix 2 called perfect columns every th column gammam equals value assigned c j th column ie called perfect rows row row every 2 k perfect c ffi 1 fraction matrices perfect columns r ffi 1 fraction matrices perfect rows proof correspondence subtest probability least 1 gamma ffl uniformly chosen row uniformly chosen given values gamma c gamma ie row gamma c hand eq 8 probability least 1 gamma ffi uniformly chosen row uniformly chosen given values gamma c ie entry ij gamma c entry ij 2r k j 2 k thus probability least 1 uniformly chosen row uniformly chosen given values gamma c ie entry ij 2r k j 2 k using regarding c furthermore part axiom 5 get part c claim ie col j similar argument holds part r 2 perfect columns matrix forces columns satisfy property pi specifically value assigned c columnsequences must match value gamma matrix recall shown almost matrices perfect thus force columns satisfy property pi using counting argument one show 1 fraction columnsequences must satisfy pi almost matrices appear namely definition 323 typical sequences let say columnsequence c resp rowsequence r typical c otherwise say c nontypical 324 fraction columnsequence resp rowsequences typical use bound fraction typical rowsequences proof mimic part counting argument claim 2216 let n set nontypical rowsequences containing exactly sequences fix r 2 n consider set matrices containing r axiom 3 part 3 regarding ffi 2fraction matrices contain row n hand definition nontypical rowsequence least fraction matrices containing r gamma disagree r r r thus nonperfect rows follows least ffi 2fraction matrices containing r nonperfect rows contain row n combining bounds obtained r 2 n get least 2fraction matrices perfect rows contradicts claim 322r current claim follows rowsequences similarly columnsequences 2 332 deriving conclusion lemma ready derive conclusion lemma loosely speaking claim function defined e value frequently assigned c e satisfies claim lemma definition 325 function c denote value assigned c th element denotes set columnsequences e th component consider e ties broken arbitrarily proof satisfies claim lemma 32 simplified version proof lemma 22 6 assume contrary claim uniformly chosen probm entry ij gammam 6 entry ij proof lemma 22 define notion annoying rowsequence using contradiction hypothesis first show many rowsequences annoying next show lower bounds number annoying rowsequences translate lower bounds probability uniformly chosen matrix nonperfect columns yields contradiction claim 322c definition 326 new definition annoying rows rowsequence said annoying exists j 2 k j th element r r differs r j using claim 322r get 327 suppose eq 9 hold let least k fraction rowsequences annoying 6 reader may wonder possible simpler proof yields stronger result claim concerning current stronger answer current defined based restricted function c also stronger restrictions gamma restrictions due facts inferred using lemma 22 proof combining eq 9 claim 322r get probability least uniformly chosen matrix perfect rows contains entry denoted j gamma value different value ie entry ij gammam 6 entry ij since value rows matches gamma value follows th row annoying thus least fl 1 fraction matrices contain annoying rowsequence using axiom 3 part 2 regarding conclude fraction annoying rowsequences must claimed 2 key observation rowsequence typical annoying yields many matrices nonperfect columns namely suppose rowsequence r typical annoying least fraction matrices containing rowsequence r nonperfect columns annoying exists j 2 k j th component r value assigned r j different r j let us denote v value r assigns r j note v 6 r j consider probability space defined uniformly selecting r typical follows almost matrices value assigned r j gamma equals v namely axiom 4 regarding j th column uniformly distributed c r j using definition function accompanying notations get inequality holds since v 6 r j definition q r j combining eq 10 11 get prob im entry ij gammam 6 c claim follows 2 combining claims 327 324 328 get lower bound number matrices nonperfect columns namely suppose eq 9 hold let 2 least fl 2fraction matrices nonperfect columns proof claims 327 324 least fraction rowsequences annoying typical let us consider set exactly delta jrj rowsequences denoted mimicking counting argument part claim 2216 bound r 2 fraction nonperfect columns matrices contain r rowsequence using adequate setting ffi 2 fl 2 fraction least 1 summing bounds achieved r 2 claim follows 2 using suitable choice fl function ffl claim 329 contradicts claim 322c eq 9 hold lemma follows 34 application lowdegree testing set kbykbyk arrays satisfies axioms 15 useful set 3 dimensional arrays defined follows construction 33 main construction let basic construction ie construction 23 let c set matrices defined applying basic construction elementset specifically matrix c defined quadruple x four elements pair th entry matrix equals viewed twodimensional vectors finite field scalars th entry pair represents pairwise independent sequence equals element clearly 34 construction 33 satisfies assuptions 15 combining lowdegree test glrsw rs96 using results claimed 7 get lowdegree test sufficiently efficient used proof pcp characterization np construction 35 low degree test let f f n 7 f f field prime cardinality integer jf j 4d r construction 33 auxiliary tables contain corresponding fvalues low degree test consists 1 applying extended consistency test 7 2 selecting uniformly matrix 2 testing polynomial interpolation condition cf glrsw holds row namely test 3 select uniformly matrix test matching random entry f namely select uniformly check entry ij test accepts three subtests accept proposition 36 let f f n 7 f f field let j low degree test construction 35 requires randomness query length poly answer length satisfies completeness f degreed polynomial exist test always accepts 7 rather using much stronger results obtained via complicated analysis almss rely lemma soundness every exists ffl 0 every f distance least ffi degreed polynomial every test rejects probability least ffl furthermore constant ffl polynomial ffi depend n f corollary get lemma 13 proof usual completeness clause easy establish thus turn soundness requirement claim 34 may apply lemma 32 first subtest infer either first subtest fails constant probability say ffl 1 exists function f n 7 f high constant probability say entry ij holds hand glrsw see also s95 thm 33 rs96 thm 5 either close specifically distance 1d polynomial key observation main construction ie construction 33 property rows distributed identically distribution eq 13 thus every j 2 k either distance ffi 2 degreed polynomial however claim case eq 14 holds second subtest reject constant probability claim proven first considering copies glrsw test ie test eq 14 using chebishevs inequality hypothesis copy rejects probability least 12d conclude probability none copies rejects bounded 2d2 2 1 thus second subtest must reject probability least ffl 2 accounts substitution values entries gammadelta conclude must close degreed polynomial else test rejects high probability ie finally claim f disagrees inputs third subtest rejects probability least ffl 3 distance f bounded sum distances f matrix matrix proposition follows using arithmetics specifically set lemma 32 verify 4 proof lemma 11 easier direct way proving lemma 11 however proven lemma 22 apply 8 derive short proof lemma 11 end view multisets 8 indeed overkill example avoid complications regarding shifts proof lemma 22 kbyk matrices recall resulting set matrices satisfies axioms 14 thus lemma 22 case test accepts probability least 1 gamma ffl exists function set kmultisets e l set lmultisets extending think probability space first selecting b 2r k 2 next selecting ksubset b thus denotes set kmultisets contained b implies otherwise eq 15 violated probability random ksubset hits subset densityk least 1 lemma follows previous version paper gs96 stated stronger version lemma 11 sequences f claimed identical rather different k locations fraction possible unfortunately proof given correct mistake concluding lines proof claim 429 found madhu sudan still conjecture stronger version holds well established test examines two random 1extensions random ksubset acknowledgment grateful madhu sudan pointing error earlier version helpful comments r proof verification intractability approximation problems probabilistic checkable proofs new characterization np transparent proofs limits approximation checking computations polylogarithmic time hiding instances multioracle queries free bits efficient probabilistically checkable proofs applications approximation improved nonapproximability results approximating clique almost npcomplete power multiprover interactive pro tocols improvement total degree tests taxonomy proof systems proofs yield nothing validity languages np zeroknowledge proof systems combinatorial consistency lemma application proving pcp theorem knowledge complexity interactive proof systems clique hard approximate within n 1 fully parallelized multi prover protocols nexptime algebraic methods interactive proof systems testing polynomial functions efficiently rational domains robust characterization polynomials application program testing efficient checking polynomials proofs hardness approximation problems tr ctr eli bensasson oded goldreich prahladh harsha madhu sudan salil vadhan robust pcps proximity shorter pcps applications coding proceedings thirtysixth annual acm symposium theory computing june 1316 2004 chicago il usa eli bensasson madhu sudan robust locally testable codes products codes random structures algorithms v28 n4 p387402 july 2006