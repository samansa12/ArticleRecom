message multicasting heterogeneous networks heterogeneous networks sending messages may incur different delays different links node may different switching time messages wellstudied telephone model obtained link delays switching times equal one unit investigate problem finding minimum time required multicast message one source subset nodes size k problem nphard even basic telephone model present polynomialtime algorithm approximates minimum multicast time within factor olog k algorithm improves best known approximation factor telephone model factor ofraclog nloglog k approximation algorithms known general model considered paper b introduction task disseminating message source node rest nodes communication network called broadcasting goal complete task fast possible assuming nodes network participate eort message needs disseminated subset nodes task referred multicasting broadcasting multicasting important basic communication primitives many multiprocessor systems current networks usually provide pointtopoint communication pairs nodes network yet many applications node network may wish send message subset nodes connected sender directly due signicance operation important design ecient algorithms broadcast multicast operations frequently used many applications messagepassing systems see 11 also provided communication primitive several collective communication libraries express parasoft 8 message passing library mpl 1 2 ibm sp2 parallel systems operation also included part collective communication routines messagepassing interface mpi standard proposal 7 application domains use broadcast multicast operations extensively include scientic computations network management protocols database transactions multimedia applications part work done rst three authors visited ibm tj watson research center preliminary version paper appeared proc 30th acm symp theory computing 1998 att research labs 180 park ave po box 971 florham park nj 07932 leave faculty ee tel aviv university tel aviv 69978 israel email amotzresearchattcom z computer science department stanford university stanford ca 94305 supported ibm fellowship aro muri grant daah049610007 nsf award ccr9357849 matching funds ibm schlumberger foundation shell foundation xerox corporation email sudiptocsstanfordedu x bell laboratories lucent technologies 600 mountain ave murray hill nj 07974 leave computer science department technion haifa 32000 israel email naorresearchbelllabscom ibm tj watson research center po box 218 yorktown heights ny 10598 email sbarwatsonibmcom barnoy guha j naor b schieber applications eciency depends time takes complete broadcast multicast operations two basic models trivial optimal solutions exist rst model nodes assumed connected node may send message one node round takes one unit time round message cross link therefore round number nodes receiving message doubled target set nodes size k process terminates dlog ke rounds second model communication network represented arbitrary graph node capable sending message neighbors one unit time number rounds required deliver message subset nodes maximum distance source node nodes subset model node may send message one node round known telephone model known arbitrary communication graphs problem nding optimal broadcast telephone model nphard 12 even 3regular planar graphs 20 following two easy cases given hard verify telephone model two trivial lower bounds hold minimum broadcast time rst one dlog ne n denotes number nodes graph second one maximum distance source node nodes research past three decades focused nding optimal broadcast algorithms various classes graphs trees grids hypercubes also researchers looked graphs minimum number links broadcast time dlog ne achieved source node problems related broadcast extensively investigated problems broadcast multiple messages gossiping computing certain functions n inputs network see eg 4 5 6 9 13 14 15 19 22 24 25 assumption central telephone model sender receiver busy whole sending process receiver received message ends may send message nodes realistic models context postal model 3 logp model 18 idea sender may send another message current message completely received receiver receiver free early stages sending process note postal model logp model assumed delay message pair nodes optimal solutions broadcast postal model known case complete graph classes graphs however much known arbitrary graphs postal model researchers also concentrated dissemination primitives almost always assumed communication graph complete 11 results paper dene general model based postal model call heterogeneous postal model assume node u sends message node v time 0 message arrives v time uv assumption u free send new message time u v free time 0 time uv r v call uv delay link u v u sending switching time u r v receiving time v denition u r v smaller uv single message multicast problem node receives single message thus problem receiving time almost relevance keep presentation clearer assume rest paper r nodes u observe delay sending time receiving time equal 1 obtain telephone model believe framework may useful model modern communication networks major components processors communication links homogeneous processors faster others links bandwidth others disparities captured dierent values delay switching time since nding minimum multicast time nphard even telephone model turn focus approximation algorithms main result present approximation algorithm computing multicast scheme heterogeneous postal model approximation factor log k k denotes number processors target set previous approximation algorithms multicasting known telephone model kortsarz peleg 17 gave approximation algorithm produces solution whose value bounded away optimal solution n additive term term quite large especially graphs broadcast multicast time polylogarithmic later ravi 21 gave algorithm achieves multiplicative approximation factor log n log k log log k also show nphard approximate minimum broadcast time within factor three model slightly complicated telephone model rest paper organized follows section 2 dene model section 3 describe solution finally section 4 show problem hard approximate small constant factor 2 model problem dene model follows let v e undirected graph representing communication network v set n nodes e set point point communication links let u v denote special set terminals let r special node termed root let cardinality set u k simplify notation assume r 2 u associate node v 2 v parameter v denotes sending time sometimes refer v switching time v indicate time takes node v send new message words 1s v number messages node v send one round unit time associate node denotes receiving time assume r node v associate link u v 2 e length uv denotes communication delay nodes u v denition uv greater u r v v think delay uv taking account sending time u receiving time v let generalized degree node v 2 v actual degree v graph g multiplied switching time v observe generalized degree measures time would taken node v send message neighbors goal nd minimum time multicast scheme scheme time takes nodes set u receive message root r minimized without loss generality may consider multicast schemes lazy ie schemes node nished sending message neighbors already started idle multicast schemes represented outward directed tree rooted r spans nodes u together orderings edges outgoing node tree multicast scheme corresponding tree orderings multicast node tree upon receiving message single incoming edge sends message along outgoing edges specied order barnoy guha j naor b schieber refer tree representation multicast scheme tree used scheme rooted tree denote maximum generalized degree l maximum distance r nodes u respect lengths xy associated link x denition multicast time tree greater greater l hence lemma 21 let opt denote multicast time optimal solution using tree opt 1 3 approximation algorithm section describe approximation algorithm multicasting message set terminals u root node main tool used algorithm procedure computecoreu 0 computes given set terminals u 0 r 2 u 1 subset w u 0 call core u 0 size 3ju 0 j r 2 w 2 scheme disseminate message known nodes w rest nodes u 0 time proportional minimum multicast time r u 0 algorithm computes multicast scheme proceeds phases let u upon termination u frg ith phase invoked compute 1 core u denoted u 2 scheme disseminate message u set u 1 time proportional minimum multicast time r u 1 k resulting multicast scheme given looking rounds algorithm backward order namely starting round multicast scheme message disseminated u u 1 since u u 1 u dissemination phase takes time proportional minimum multicast time r u follows multicast time olog times optimal multicast time rest section describe procedure computecoreu 0 let opt minimum multicast time r u 0 lemma 21 implies exists tree spanning set u 0 procedure computecoreu 0 two main parts rst part nd set ju 0 j paths one terminal ith path connects terminal u another terminal called paths following path properties length property length path 4 congestion property generalized degree nodes graph induced paths 6 second part design dissemination scheme using paths transforming paths set disjoint spider graphs graphs one node degree two spider graphs following spider properties spider contains least two terminals u 0 set spiders spans least half nodes u 0 diameter spider 4 generalized degree center spider 6 center spider unique node degree larger two exists one endpoints spider otherwise spider arbitrarily select one nodes u 0 core u 0 note node multicast message rest terminals spider l time linear opt add terminals contained spiders core u 0 claim size core most4 see let x denote number spiders let number terminals spiders follows size core ju x rst spider property x y2 second spider property get ju 0 j2 thus turn describe two parts procedure computecoreu 0 31 finding set paths rst claim following lemma analogous tree pairing lemma ravi 21 lemma 31 let tree spans set u 0 v suppose ju 0 j even exists way pair nodes u 0 nd paths tree connecting pair 1 paths edge disjoint 2 length path bounded 2l 3 generalized degree node graph induced paths proof tree pairing lemma 21 states exists pairing paths connecting pairs edge disjoint consider paths clearly length paths bounded 2l degree hence generalized degree every node graph induced paths generalized degree since use edges tree hence bounded following corollary handles odd case well corollary 32 let tree spans set u 0 v exists way pair nodes u 0 nd paths tree connecting pair 1 length path bounded 2l 2 generalized degree node graph induced paths 2 proof corollary clearly holds ju 0 j even ju 0 j odd pair ju 0 j 1 nodes lemma 31 pair last node node length path connecting last pair still bounded 2l however degree subgraph may double 2 recall tree spans nodes u 0 objective nd set paths guaranteed corollary 32 respect however know thus instead nd set fractional paths satisfying similar properties end write linear program nding set fractional paths minimizes sum two quantities 1 maximum pairs average length paths connecting pair 2 maximum generalized degree subgraph induced paths connecting pairs linear program variant multicommodity ow edge u v dene directed edges u v v u length uv let u g node v j 2 u 0 associate commodity j node v j source commodity j create articial sink j r j connect nodes barnoy guha j naor b schieber directed edge v objective minimize l exactly one unit ow shipped v j j average length ow paths v j j 2l maximum weighted congestion generalized degree induced subgraph 3 formally let denote set directed edges let f u v denote ow commodity directed edge u v linear programming formulation follows subject 1 h vw2a 1 1 v u2a 1 3 1 show set paths guaranteed corollary 32 respect modied obtain integral solution linear program follows ju 0 j even solution obtained using path connecting pair ship one unit ow u j u j another unit ow u u j length path bounded 2l since use path twice generalized degree bounded 2 ju 0 j odd solution obtained using 1ju 0 j 1 paths connecting rst ju nodes twice direction using path connecting last node u 0 mate ship ow node length path still bounded however additional path degree bounded 3 follows value objective function solution l thus linear program guaranteed nd solution whose value upper bounded value let l denote values length congestion optimal solution linear program optimal solution fractional solution sense unit ow commodity split several ow paths round fractional solution integral solution using algorithm proposed srinivasan teo 23 algorithm builds theorem proved karp et al 16 completeness since details slightly dierent describe rounding fractional solution theorem 33 16 let real valued r matrix real valued svector let b real valued vector ay b let positive real number every column 1 sum positive entries 2 sum negative entries compute polynomial time integral vector every show nd integral ow congestion 6 4l ow path commodity length 4l rst decompose ow polynomially many ow paths path decomposition longer 4l discard observe since average length less 2l discarding long paths leaves least half unit ow pair v scale ows appropriately total ow exactly 1 double ow edge total congestion 6 denote length bounded ow paths denote set nodes path p v p set edges ep let fp denote amount ow pushed path p dene set p j set paths carry ow jth commodity observe path belongs exactly one p j linear system needed theorem 33 dened following linear equations ith equation corresponds ith row ith element b v v j 4l second set inequalities captures fact ow paths corresponding commodity j exactly 1 sum positive entries column length path second part inequality follows since v vw v w j sum negative entries column 4l follows due fact p belongs exactly one p j invoking theorem 33 gives us set paths v v j 4l second set inequalities implies commodity least one ow path set ow paths congestion 6 length 4l since l l paths satisfy length congestion properties desired 32 finding spider decomposition show obtain spider decomposition satisfying spider properties previously dened recall given set paths connecting terminal u j another terminal mateu j set paths satises length congestion properties nd set least ju 0 j2 trees satisfy following properties similar spider properties barnoy guha j naor b schieber tree spans least two terminals u 0 diameter tree 4l 4 generalized degree node trees 6 showing nd trees show transform required spiders repeatedly consider tree edges remove tree edge separates tree two subtrees either subtrees contain least two terminals one contains terminals case subtree removed well repeat process edges removed process terminates since number edges nite observe upon termination connected component spider another edge could deleted thus get following claim 34 process terminates connected component spider clearly terminals spanned trees also spanned spiders diameter spiders 4l since distance every pair nodes u 0 spanned tree 4l begin also generalized degree center spider generalized degree originating tree since introduced new edges process conclude spiders satisfy desired spider properties show nd required trees dene g p undirected graph induced paths terminal mate observe spanning forest graph may satisfy required diameter property hence extra renement necessary node u g p nd unique terminal u 0 closest u respect lengths xy associated link x ties broken arbitrarily modify paths starting terminal follows terminal u begin tracing path connecting u mateu node v along path closest terminal v u guaranteed encounter node closest node mateu mateu node v trace path closest terminal creates path u another terminal denoted newmateu note newmateu may dierent mateu however guaranteed path u newmateu longer path u mateu thus bounded 4l dene auxiliary directed graph h set terminals u 0 set edges denition node h outdegree one thus connected component undirected skeleton h contains exactly one directed cycle discard one edge connected component make rooted tree edges oriented towards root root unique since outdegree node one note every nontrivial strongly connected component h cycle thus done discarding arbitrary edge strongly connected component h let h 0 resulting forest dene level node h 0 number edges path root component ip direction edges h 0 purpose measuring distances distinguish nodes even level nodes odd level edge h 0 goes either odd level node even level node viceversa consider two collections stars h 0 one collection consisting edges odd level nodes even level nodes consisting edges even level nodes odd level nodes every terminal positive indegree outdegree spanned star one two collections every terminal either indegree outdegree zero h 0 spanned star one two collections however simple pigeonhole argument least one collections spans least half terminals consider collection first note star collection induces undirected tree original graph replacing star edge originating path claim following lemma 35 induced trees two stars belonging collection node disjoint proof obtain contradiction assume disjoint exist two distinct terminals even odd parity say u v newmateu 6 newmatev paths traced u newmateu v newmatev common node x consider terminal chosen x closest terminal distinguish two cases case 1 terminal chosen x u u must newmatev contradicting fact u v parity case v chosen terminal x symmetric case 2 terminal chosen x newmateu newmatev must newmateu contradiction case newmatev chosen terminal x symmetric easy see trees induced stars collection satisfy required properties concludes construction 4 hardness approximations section show best possible approximation factor minimum broadcast time heterogeneous postal model 3 show hardness result even restricted model note broadcast message concurrently neighbors proof reduction set cover problem unweighted version set cover problem given set u elements collection subsets u goal nd smallest number subsets whose union set u feige 10 proved following hardness result lemma 41 unless np dt imen log log n set cover problem cannot approximated factor better ln n hence cannot approximated within constant factor proof use fact nphard approximate optimal set cover within constant factor theorem 42 nphard approximate minimum broadcast time graph within factor 3 proof assume contrary exists algorithm violates claim theorem show approximate set cover problem within constant factor using algorithm approximate set cover problem guess size optimal set cover use approximate minimum broadcast time algorithm check guess since size optimal set cover polynomial need check polynomial number guesses consider instance set cover u u set elements collection subsets u let ju let guess size optimal set cover k construct following graph g graph g consists 1 vertices distinguished root vertex r vertices e barnoy guha j naor b schieber corresponding elements u vertices um corresponding subsets k additional vertices r e ae1 root r switching time connected edges delay ra 1 vertex switching time sa connected u j delay u j 1 vertex u j switching time connected vertex e jth set contains ith element delay edge u 4 2 constant vertex e switching time 1 finally complete instance multicasting problem target multicast set consists vertices e rst show set cover size k multicast scheme length 2 time 1 vertices receive message time 2 vertices u j corresponding sets cover receive message possible since connected u j finally vertices send message elements cover since su j multicast time 2 suppose algorithm multicasting problem completes multicasting time contradiction assumption approximation factor 3 since guess size set cover optimal multicast time d2 3 2 strict inequality follows choice rst claim vertices u j participate multicast receive message otherwise exists vertex e 0 received message via path type r means e 0 received message time 3d second claim vertex sends message 2d vertices u j 2d 1st vertex would receive message time 2d would able help multicast eort completed time 3d 2 combining two claims get multicasting completed help 2dk vertices u j corresponding 2dk sets cover elements e violates lemma 41 states set cover problem cannot approximated within constant factor remark proof considered restricted model switching time may get two possible values delay may get three possible values assuming edge exist delay innity observe hardness result apply telephone model switching time always 1 delay either 1 innity similar hardness results special cases however none better 3 use similar techniques acknowledgment thank david williamson helpful comments r ibm external user interface scalable parallel systems ccl portable tunable collective communication library scalable parallel comput ers designing broadcasting algorithms postal model messagepassing systems optimal multiple message broadcasting telephonelike communication systems optimal multimessage broadcasting complete graphs algebraic construction ecient networks document standard messagepassing interface express 30 introductory guide broadcast time communication networks threshold ln n approximating set cover solving problems concurrent processors computers intractability guide theory npcompleteness construction minimal broadcast networks tight bounds minimum broadcast networks survey gossiping broadcasting communication networks global wire routing twodimensional arrays approximation algorithm minimum time broadcast optimal broadcast summation logp model broadcast networks bounded degree minimum broadcast time npcomplete 3regular planar graphs deadline 2 rapid rumor rami generalizations broadcasting gossiping constantfactor approximation algorithm packet routing new method constructing minimal broadcast networks class solutions gossip problem tr ctr teofilo f gonzalez efficient algorithm gossiping multicasting communication environment ieee transactions parallel distributed systems v14 n7 p701708 july michael elkin guy kortsarz sublogarithmic approximation telephone multicast journal computer system sciences v72 n4 p648659 june 2006 david kempe jon kleinberg amit kumar connectivity inference problems temporal networks journal computer system sciences v64 n4 p820842 june 2002 pierre fraigniaud bernard mans arnold l rosenberg efficient triggerbroadcasting heterogeneous clusters journal parallel distributed computing v65 n5 p628642 may 2005 eli brosh asaf levin yuval shavitt approximation heuristic algorithms minimumdelay applicationlayer multicast trees ieeeacm transactions networking ton v15 n2 p473484 april 2007