robotic excavator autonomous truck loading excavators used rapid removal soil materials mines quarries construction sites automation machines offers promise increasing productivity improving safety date research area focussed selected parts problem paper present system completely automates truck loading task excavator uses two scanning laser rangefinders recognize localize truck measure soil face detect obstacles excavators software decides dig soil dump truck quickly move points detecting stopping obstacles system fully implemented demonstrated load trucks fast human operators b introduction surface mining metals quarrying rock construction highways require rapid removal handling massive quantities soil ore rock typically explosive mechanical techniques used pulverize material digging machines excavators load material trucks haulage landfills storage ar eas processing plants shown figure 1 excavator sits atop bench loads material trucks queue side operator responsible designating truck park digging material face depositing truck bed stopping people obstacles loading zone figure 1 excavator loading truck soil typical mass excavation work scenario opportunities automation immense typical ly loading truck requires several passes takes 15 20 seconds reducing time loading pass even second translates enormous gain across entire job operators performance peaks early work shift degrades shift wears scheduled idle times lunch breaks also diminish average production across shift factors areas automation improve productivity safety another opportunity excavator operators likely injured mounting dismounting machine operators tend focus task hand may fail notice site personnel equipment entering loading zone automation improve safety removing operator machine providing complete sensor coverage watch potential hazards entering work area numerous researchers addressed aspects automated earthmoving singh 1997 lowest common level automation teleoperation typi cally operator removed scene reasons safety teleoperated excavators used applications pose danger humans uncovering buried ordnance nease alexander 1993 waste burks et al 1992 wohlford et al 1990 excavation around buried utilities higher level autonomy achieved systems share control excavation cycle human operator typically systems bradley et al 1993 bullock oppenheim 1989 huang bernold 1994 lever et al 1994 rocke 1994 sakai cho 1988 salcudean et al 1997 sameshima tozawa 1992 seward et al 1992 concentrate process digging operator chooses starting location excavators bucket control system takes process filling bucket using force andor joint position feedback accomplish task next level autonomy systems automatically select dig systems measure topology terrain using ranging sensors feng et al 1992 singh 1995 takahashi et al 1995 compute dig trajectories maximize excavated volume highest level autonomy systems sequence digging operations long period bullock et al 1990 romerolois et al 1989 singh 1998 prior work addresses many subproblems important autonomous truck loading however order field fully automated system performs level manually operated equivalent much broader set problems must solved digging sensors needed sense dig face recognize localize truck detect obstacles workspace perception algorithms needed process sensor data provide information work environment planning algo rithms planning control algorithms needed decide work dig face deposit material truck move bucket two developed complete system loading trucks fully autonomously soft materials soil autonomous loading system als implemented demonstrated 25ton hydraulic excavator succeeded loading trucks fast expert human operator rest paper describes als presents results experimental trials 2 system overview autonomous loading system uses two scanning laser rangefinders mounted either side boom see figure sense dig face truck obstacles workspace two scanners needed full coverage workspace enable concurrent sensing opera tions sensor sample rate 12 khz motorized mirror sweeps beam circularly vertical plane additionally scanner pan rate degrees per second enabling circle rotated azimuth shown figure 3 scanner positioned operators cab called left scanner responsible sensing workspace left hand side excavator right scanner located symmetric position right side boom responsible sensing workspace right hand side excavator figure 2 sensors mounted excavator figure 3 two axis scanning sensor configuration excavator uses scanners following fashion loading truck figure 4 excavator digs first bucket left scanner pans left dig face across truck detect obstacles recognize localize measure dimensions truck using information desired location truck dump material planned bucket swings toward truck swing motion right scanner pans left across dig face measure new surface next location dig calculated right scanner continues pan toward truck soil dumped truck right scanner pans back across dig face detect obstacles way implements excavator swings back next dig point swing left scanner pans across truck measure soil distribution truck bed next desired dump location calculated process repeats subsequent loading pass truck full exception truck recognition necessary first pass new truck typically six passes needed load twentyton truck excavator testbed left scanner right scanner pan axis vehicle cab rotating reflector distance scan axis obstacle terrain scan plane sensor measuring figure 4 top view sensor configuration information scanners processed using onboard array four mips processors software architecture shown figure 5 boxes software modules run one system processors circles hardware components sensors lines represent communication channels sensor interfaces receive data two scanners control panning motion devices sensor data interfaces passed scanline processors converted spher ical sensor coordinates cartesian world coordinates using corresponding data position system threedimensional range points made available whatever perception software modules require one consumer processed sensor data truck recognizer recognizes truck measures dimensions location two others dig point planner plans sequence dig points eroding dig face dump point planner plans sequence dump points loading soil truck bed digging motion planner controls excavator digging specified location dumping motion planner dumps bucket soil truck returns dig face sensor motion planner controls panning scanners coordinate scanner excavator motion following scenario described obstacle detector processes sensor data scanner sweeping advance excavators motion stops machine obstacle detected path machine controller interface communicates commands low level machine joint controller executes commands sends excavator state information back planning modules figure 5 als software architecture 3 hardware subsystem als hardware subsystem consists servocontrolled excavator onboard computing system perception sensors associated electronics paper focus perceptual sensors provide data truck identified dig location chosen obstacles avoided ultimately mass excavation process achieved target application earthmoving focussed developing laser based scanning system would able penetrate reasonable amount dust smoke air laser would need able accurately measure range variety target materials eg met als wood dirt rock snow ice water colors tex tures also needed system would robust dust dirt accumulating protective exit window glass plastic protects laser optics weather dirt though permits beam pass past decade variety laser based scanners produced exceptions dornier shulz 1997 schwartz schwartz scanners either research devices limited indoor us age none know addresses problems dust penetration partially occluded ie dirty exit window developed two different timeofflight scanning ladar systems impervious ambient dust condi tions first uses lastpulse technique observes waveform returned light rejects early returns arise internal reflections dirty exit left sensor right sensor dig face truck scan plane scan plane right scanner left scanner left sensor interface right sensor interface left scanline processor right scanline processor left sensor right sensor position system truck recognizer dig point planner dump point planner digging motion planner dumping motion planner sensor motion planner machine controller interface obstacle detector excavator states commands position data sensor data sensor data sensor data sensor data dig pt dump pt truck info sensor sensor commands states sensor data obst det window dust cloud obscuring target see figure 6 general nexttolast pulse returns due dust scene indicative normal first pulse rangefinder would see instance figure 6 first pulse rangefinder would detect dirty exit window would unable see target even window clean first pulse unit would still see dust cloud instead target since reflections exit window rejected last pulse technique unit environmentally sealed using inexpensive transparent cover optically perfect clean another advantage laser system also report multiple returns occur giving warning dust present important overall ranging reliability accuracy decreased dusty condi tions autonomous machine might need adopt slower conservative motion strategy figure 6 last pulse detection concept figure 7 trailing edge detection target target obscured dust cloud however limitation lastpulse rangefind ing target within dust cloud receiver electronics difficulty separating dust target returns see figure 7 built second dust penetrating scanner system identifies target locating trailing edge last return signal shown figure 7 like last pulse system device also robust occlusions exit window making ideal construction mining environments though trailing edge detection technique forgoes range accu racy believe superior approach environments dust may frequently surround target figure 8 last pulse vs trailing edge detection target within dust cloud television monitor pictured figure 8 shows range points plotted single scanline last pulse trailing edge scanners range increases left right monitor top monitor screen shows scans rear dump truck bottom screen shows scans truck shrouded heavy dust cloud note last pulse device unable separate dust cloud truck reports front cloud trailing edge device correctly reports range truck regardless presence dust important note dust penetrating techniques physically limited heavy dust levels attenuate return target signal point detectability 4 software subsystem software subsystem consists several software modules process sensor data recognize truck select digging dumping locations move excavators joints guard collision section algorithms employed key software modules software architecture described 41 truck recognition order properly load truck excavator operator must verify loadable vehicle determine loca tion determine dimensions information essential calculating loading strategy planning sequence joint motions implements strategy dirty exit window dust cloud target laser source threshold using last pulse return signal target range dirty exit window dust cloud target laser source return signal threshold wtrailing edge target range wlast pulse scenarios surface mining loaders serviced mineowned fleet haulage trucks automated system could acquire information equipping truck global positioning system gps sensor identification transponder however scenarios highway construction loaders serviced variety independentlyowned onhighway trucks varying dimensions equipping every truck sensors could infeasible sce narios automated system could acquire necessary information using rangefinder data figure 9 raw range data truck figure 10 truck model fit segmented data truck recognizer uses sensor data automatically recognize localize dimension haulage trucks excavator digs first bucket soil left scanner pans across truck assumed parked ex cavators side raw sensor data shown figure 9 rotation mirror returns one vertical scanline data created intersecting vertical plane truck scanline processed line segments grouped coplanar line segments scanlines form planar regions using interpretation tree approach grimson 1990 simple model truck bed shown figure 10 matched segmented data region region depthfirst search used hypothesize modeltoscene region matches level tree constraints used prune search check consistency previously hypothesized matches interpretation matches model regions survives verification stage selected correct one order truck recognizer recognize class truck models rather single model model figure 10 uses parameter ranges rather single parameter values ranges used sizes planar regions model locations centroids relative angles planes parameter ranges checked consistency every level interpretation process prune search specification allows truck recognizer identify trucks varying sizes truck bed shapes complete interpretation ie attempt match model regions scene regions truck recognizer performs verification verification consists finergrained consistency checking truck parameters identification four corner points sensor data define opening truck bed selected terpretation corner points used calculate position orientation truck bed information passed modules system producing dumping strategy figure 10 shows model matched planar regions segmented raw sensor data 42 coarsetofine dig point planning automated earthmoving operations leveling mound soil distinguished typical planning problems two important ways first soil diffuse therefore unique description world requires large number variables second interaction robot world complex approximate models also computationally tractable available large state space complex robotworld interaction imply locally optimal planners ie per dig created order deal practical issues excavating large volumes earth applications developed multiresolution planning execution scheme highest level coarse planning scheme uses geometry site goal configuration terrain plan sequence digregions turn dig region searched best dig executed region finally selected dig executed force based closed loop control scheme rocke 1994 treatment problem three levels meets different ob jectives coarse planner ensures even performance large number digs refined planner chooses digs meet geometric constraints reachability colli sions locally optimize cost function eg vol ume energy time lowest level control scheme robust errors sensing geometry terrain figure 11 shows process coarse fine planning excavator figure 11 coarse fine planning strategy figure 12 coarse plan excavator coarse planner takes input processed sensor data places terrain map 2d grid height val ues output sequence dig regions turn sent refined planner figure 12 shows strategy removing material recommended expert excavator operator box indicates region number within box indicates order region provided refined planner strategy material removed left right top face bottom several reasons choosing strategy cases truck parked operators left hand side operator unobstructed view digging left right implements need raised high clear material swinging truck digging top bottom less force required implements necessary work weight material addition clearing material away top minimizes range shadows cast face terrain given scanning range sensor mounted cab refined planner operates abstract representation atomic action ie single dig rather searching bucket trajectory refined planner searches compact task parameters within bounds specified coarse planner order select best digging action refined planner evaluates candidates use forward model simulates result choosing action case starting location bucket evaluation function scores trajectory resulting action action meets constraints optimizes cost function chosen process shown figure 13 figure 13 operation refined planner 43 template based dump planning truck must loaded evenly completely uncertainty soil settlement dumping strategy may need revised successive bucket load dump point planner applies templatebased approach robustly find low regions soil distribution truck bed sensor data gathered bucket soil dumped truck excavator swinging back dig face like dig point planner sensor data placed 2d terrain map dump point planner also requires information location truck provided truck recognizer module filter irrelevant sensor data outside truck bed terrain map smoothed using simple gaussian filter eliminate sensor noise current grid cell resolution truck bed terrain map 15 cm typical map containing order 500 cells occlusion deposited soil truck bed walls serious problem rather assuming nothing unseen regions truck bed dump point planner fills unknown grid cells average elevation known grid cells results slight inaccuracies perceived soil distribution first diminish soil placed truck bed finally specific terrain shape template convolved coarse planner refined planner closed loop executor region goal candidate dig starting constraints kinematics coarse plan digs bucket angle location forward dig model evaluation swept volume trajectory entire truck bed terrain map produce score grid cell small 5x5 7x7 grid cell template looks certain profile material truck bed slope hole simple templates constant elevations used find lowest elevation truck bed terrain map well convolution operator produces score represents well template matched particular region truck bed location cell best score returned desired dump location 44 script based motion planning motion planning software coordinates motions excavators joints loading pass beginning immediately digging bucket soil ending bucket returned next dig point main objectives motion planner plan motions place soil desired dump location avoid known obstacles workspace truck execute loading cycle quickly possible figure 14 truck loading script excavator power constraints joint coupling effects excavators hydraulic system well difficulty accurately modeling dynamics machine traditional optimal trajectory generation schemes work well instead recognizing fact exca vators motions highly repetitive similar loading cycle loading cycle operates relatively small portion total workspace script based approach motion planning adopted rowe stentz 1997 script set rules define general motions excavators joints certain task case loading trucks rules contain number variables known script parameters get instantiated every different loading pass rules script designed input expert human excavator operator implicitly constrain excavator allowed example advised moving two particular joints simultaneously bad idea rules script make motion impossible left hand side rules functions excavators state right hand side rules commands planner sends excavators low level joint controllers thus left hand side particular rule evaluates true corresponding command gets sent excavator rules get reevaluated fixed rate 10 hz example execution excavators motion figure 14 shows script rules truck loading task numbers boldface one example set script parameters described detail qs excavators state case angular positions joints commands desired angular joint positions notice joint separate script therefore one rule per joint may active time script parameters computed loading pass starts using information trucks location desired dig dump points two types script parameters appear left hand side script rules affect commands sent planner joint commands appear right hand side rules command script parameters right hand side rules primarily computed geometric kinematic means example consider command step 1 boom joints script figure 14 boom angle required excavators bucket safely clear top truck kinematic function height location truck relative excavator similarly stick joint commands computed using knowledge radial distance truck excavator swing joints commands found desired dig dump points script parameters left hand side rules found combination simple excavator dynamic models heuristics simple dynamic models capture first order effects excavators closed loop behavior given desired angular position commands models provide information velocities accelera tions command latencies joint used intelligently coordinate different joint motions resulting faster loading times example consider case excavator finished digging bucket raising ground excavator need wait bucket raised full clearance height swinging truck instead begin swinging earlier point bucket still joint 1 swing digging finishes wait swing truck swing dig joint 3 stick digging finishes wait move spill point move dump point move dig command command joint 2 boom digging finishes raise lower dig joint 4 bucket digging finishes curl move dig command command raising must knowledge provided dynamic models much time take swing truck raise bucket safely couple two motions avoid collision 45 obstacle detection major requirement automated loading detecting stopping people obstacles pose threat collision obstacle detection software developed uses sensor data perceive objects excavators workspace simple dynamic models predict excavators linkage short time future excavator swings back forth dig face truck predicted excavator linkage locations compared sensor data intersection excavator immediately commanded stop crucial sensors scan far enough ahead excavators motion prediction far enough future excavator enough time space come complete stop avoid hitting obstacle lookahead distance function swing joints maximum velocity found experimentation 40 50 front ex cavators swing joint prediction excavators location done using simplified models excavators closed loop dynamic behavior obstacle detection algorithm predicting excavator must also simulate motion planner using predicted excavator state performs prediction rate script rule base update 10 hz instance final result list predicted excavator linkage states amount time lookahead time found empirically 2 3 seconds figure 15 depiction points calculated underside linkage predicted linkage state coordinates points envelope underneath linkage comput ed done using forward kinematics excavator simple linear models shapes linkages shown figure 15 point underside linkage predicted linkage state compared 2d elevation map sensor data point underside linkage lower elevation grid cell coincides predicted collision reported excavator commanded stop figure 16 typical dig truck loading 5 results figure shows excavator digging bucket soil figure 17 shows truck loaded six buckets soil date autonomously loaded truck hundreds times typical loading times 15 20 seconds per pass six passes needed load truck rate close loading times logged expert operator manually loading trucks configuration using excavator figure 17 truck loaded six passes 6 conclusion demonstrated autonomous loading system excavators capable loading trucks soft underside linkage envelope terial speed expert human operators system uses two scanning laser rangefinders recognize truck measure soil dig face truck detect obstacles workspace system modifies digging dumping plans based settlement soil detected sensors expert operator knowledge encoded templates called scripts adjusted using simple kinematic dynamics rules generate fast machine motions believe first fully autonomous system load trucks mass excavation acknowledgments paper summarizes work autonomous loading system team team consists stephannie behrens scott boehmke howard cannon lonnie devier frazier tim hegadorn herman herman alonzo kelly murali krishna keith lay chris leger oscar lu engo bob mccall ryan miller richard moore jorgen pedersen chris ravotta les rosenberg wenfan shi hitesh soneji addition authors r artificial intelligence control operation construction plantthe autonomous robot excavator laboratory study forcecognitive excavation force geometry constraints robot excavation remote excavation using telerobotic small emplacement excava tor research control method planning level excavation robot object recognition computer role geometric constraints control model robotic backhoe excavation obstacle handling robotics challenging environments intelligent excavator control lunar mining system strategic planner robot excavation operation system hydraulic excavator deep trench works impedance control teleoperated mini excavator 8th ieee international conference advanced robotics icar development auto digging controller construction machine fuzzy logic control schwartz electrooptics inc imaging ladar camera washing robots synthesis tactical plans robotic excava tion state art automation earthmoving autonomous shoveling rocks using image vision system lhd new capability remotely controlled excavation tr ctr joaqun gutirrez dimitrios apostolopoulos jos luis gordillo numerical comparison steering geometries robotic vehicles modeling positioning error autonomous robots v23 n2 p147159 august 2007