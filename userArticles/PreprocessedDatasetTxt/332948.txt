analysis isp ipatm network traffic measurements paper presents network traffic measurements collected commercial internet service provider isp whose traffic carried atm backbone network much aggregate traffic webrelated thus represents webtcpipaal5atm protocol stack four traces collected aal5 frame level using navtel iw95000 atm test set traces provide detailed look protocollevel behaviours rather short time durations eg 3040 seconds per trace analyses focus aggregatelevel traffic characteristics well hostlevel tcp connectionlevel traffic characteristicsthe main workload characteristics observed measurements burstiness aggregate individual traffic flows nonuniform distribution traffic amongst hosts trimodal packet size distribution strong presence networklevel effects eg client modem speed network maximum transmission unit mtu network round trip time tcp slow start traffic structures seen workload characteristics quite consistent across four traces studied b introduction paper presents network traffic measurements commercial internet service provider isp environment western canada isp offers internet service primarily web access customers using oc3 155 mbps atm backbone network carry traffic tcpip packet traffic converted atm cells using aal5 adaptation layer protocol resulting aggregate traffic represents webtcpipaal5atm protocol stack network traffic measurements collected using gn nettest navtel iw95000 atm measurement device measurements provide finegrain traffic information ie complete packet payloads short time periods eg 30 total four traces collected date measurements provide enough information offline protocol decoding aal5 ip tcp layers making possible identification characterization individual traffic flows ie tcp connections well aggregate traffic characteristics analyses primary purpose measurements workload characterization trying understand characteristics enduser webtcpipatm network traffic especially interested characterizing aggregate traffic stream function constituent parts since understanding statistical multiplexing behaviours important network traffic management main highlights measurements following ffl burstiness aggregate individual traffic flows ffl nonuniform distribution generated traffic amongst hosts ffl asymmetric nature clientserver traffic patterns ffl presence networklevel effects eg client modem speed network maximum transmission unit mtu network round trip time slow start traffic structures observed also find lognormal distribution provides reasonable fit connection duration bytes per connection similar observations made researchers 1 5 short duration traces unfortunately precludes analysis heavytailed behaviours web traffic important impact traffic characteristics eg network traffic selfsimilarity 4 remainder paper organized follows section 2 describes measurement en vironment tools used data collection analysis section 3 presents aggregatelevel traffic measurement results section 4 presents tcp connectionlevel traffic measurement results four traces finally section 5 concludes paper measurement methodology measurements reported paper collected using navtel iw95000 atm test set test set provides nonintrusive capture complete atm celllevel aal5 framelevel traffic streams including packet headers payloads test set timestamps atm cell frame one microsecond timestamp resolu tion records captured traffic memory compressed proprietary binary data format size memory capture buffer atm test set eg 24 megabytes ram test set used determines maximum amount data captured time capture buffer size along volume network traffic measured determines maximum interval time traces collected eg several seconds full oc3 rates several minutes rates traces able record 35 seconds worth traffic data time capture buffer full traces saved disk copied another machine using ftp offline trace analysis analyses reported paper used c program specially written decode uncompressed proprietary data format used navtel iw95000 program converts binary data file ascii format tcpip protocol information example humanreadable trace format shown 1 figure 1 format includes timestamp microseconds relative start trace protocol types recognized selected fields ip tcp packet header applicable ip source destination address ip packet size including tcp ip headers tcp source destination port num bers tcp sequence number information data acknowledgments available latter form straightforward construct customized scripts process trace file extract desired information timestamp packet size well ip tcp protocol information total four traces captured navtel iw95000 test set first trace collected may 3 1998 trace served guinea pig design debugging programs trace decoding trace analysis next three traces collected may 13 1998 1 note ip addresses figure 1 throughout paper sanitized conceal true identities traces taken one time approximately minutes apart evening hours single working day deemed representative samples isp network traffic table 1 provides statistical summary four traces collected remaining sections report analysis traces 3 aggregatelevel traffic characteristics section discusses aggregate traffic characteristics four traces analyses focus traffic profile packet size distribution hostlevel traffic characteristics 31 figure 2 shows traffic profile one four traces isp network packet traffic trace 2 trace contains 45434 packets transmitted 3648 seconds overall mean bit rate 415 mbps graphs figure 2 show volume traffic bits including protocol headers transmitted per time interval three different time interval sizes 10 seconds figure 2a 01 seconds figure 2b 001 seconds figure 2c graphs figure 2 show network traffic bursty across several time scales aggregate bit rate hovers around overall mean 415 mbps low 30 mbps high 61 mbps interval measured burstiness even pronounced finergrain time scales illustrated data points plotted burstiness across time scales indicative network traffic selfsimilarity 11 18 though trace far short duration make rigourous claim effect 32 packet size distribution understanding isp network traffic characteristics gained studying ip packet size distribution figure 3 shows frequency distribution observed ip packet sizes including headers using linear scale vertical axis figure 3a logarithmic scale vertical axis figure 3b results cumulative four traces figure 3a shows ip packet size distribution trimodal distribution dominated 30 40byte packets carry tcp acknowledgements tcp data significant spike 12 1500 bytes maximum transmission unit mtu size used 14966 ip tcp 56187710457 7410 4278612704 80 508 410104 32779 22126 ip tcp 58212775591 1291 41974876 figure 1 example tcpip trace bits transmitted per interval time seconds traffic profile webtcpipatm trace 2 a2000006000001e06 bits transmitted per interval time seconds traffic profile webtcpipatm trace 2 bits transmitted per interval time seconds traffic profile webtcpipatm trace 2 c figure 2 traffic profile isp ipatm trace 2 bits transmitted per 10 second inter val b bits transmitted per 01 second interval c bits transmitted per 001 second interval mbps ethernet local area networks 2 also many tcpip packets range 300600 bytes typical sizes packets traversing widearea internet backbone many pdu sizes observed see figure 3b though distribution clearly dominated main peaks described 33 hostlevel analysis one advantage finegrain traffic measurements possible extract ip higher protocol information traces cap tured fact used capability identify individual ip traffic streams traces attempt characterize behaviour context overall traffic identified 1000 different ip source destination addresses traces see table 1 indicating large user community using isps services also noted least relatively short traces traffic generated ip addresses highly nonuniform example uncommon 10 active ip source addresses trace generate 80 ip packet traffic volume destination address distribution also highly nonuniform detailed statistics regarding 10 busiest ip source destination addresses one traces trace 1 shown table 2 10 ip addresses combination account 50 2 primary web site hosted isp actually 10 mbps ethernet lan collection point measurements oc3 backbone atm link used telecommunications provider carry isps internet traffic table 1 summary isp ipatm traffic traces trace 0 trace 1 trace 2 trace 3 trace date may 398 may 1398 may 1398 may 1398 trace time 700pm 700pm 730pm 800pm trace size bytes 16876032 22129152 22129152 22129152 trace duration sec 3430 3642 3648 3679 mean packetssec 977 1292 1245 1304 mean bit rate mbps 338 411 415 405 aal5 pdus 33524 47057 45434 47977 ip packets 33349 46764 45172 47684 tcpip packets 24257 34072 31914 31417 webtcpip packets port 80 17054 24795 24407 22175 ip source addresses 616 864 953 1019 ip destination addresses 662 915 1002 1064 total ip addresses 696 954 1054 1123 mean aal5 pdu size bytes 435 400 418 392 mean ip packet size bytes 405 370 388 3635152535 relative frequency percent ip packet size bytes ip packet size distribution webtcpipatm measurements traces a000101100 200 400 600 800 1000 1200 1400 1600 relative frequency percent ip packet size bytes ip packet size distribution webtcpipatm measurements traces b figure 3 ip packet size distribution isp ipatm traffic measurements linear scale vertical axis b logarithmic scale vertical axis packet traffic trace observation surprising clientserver architecture used many internet services however worth noting traffic specific ip address bursty even bursty overall aggregate traffic flow 18 example figure 4 shows traffic volume selected ip address table 2 representing web server traffic profile plotted 01 second time granularity similar figure 2b note vertical scale different graphs 34 summary section looked aggregatelevel traffic characteristics isp network traffic mea surements analyses identified bursty nature traffic flow trimodal packet size distribution nonuniform distribution generated traffic amongst hosts using net work next section proceeds analyze tcp connectionlevel traffic characteristics four traces 4 connectionlevel traffic characteristics section zooms measurement data examine finergrain connectionlevel protocollevel behaviours 41 connectionlevel characteristics table 3 summarizes number tcp connections observed four traces well table 2 traffic selected ip addresses trace 1 ip packets total packets total total total address sent packets sent recd packets recd packets packets total 17241 3687 8403 1797 25644 548450001500025000 bits transmitted per interval time seconds traffic profile busy web server trace 1 bits transmitted per interval time seconds traffic profile busy web server trace 1 b figure 4 traffic profile selected ip address traffic web server b traffic web server statistical characteristics tcp connections tcp connection refers bidirectional exchange tcpip packets pair ip host addresses using specific source destination port connection normal cases monotonically increasing sequence number acknowledgement number data bytes transferred establishment new tcp connection done using threeway handshake using syn synchronize flag tcp packet header termination tcp connection done similar threeway handshake using fin flag 17 table 3 shows 500 completed connections per trace table complete tcp connection defined one opening syn closing fin seen trace incomplete tcp connection one syn fin present trace note definition biases results since shortlived tcp connections qualify complete tcp connections analysis connections account less half total packet volume traces nevertheless approach identify 2000 complete connections four traces used workload characterization 95 completed connections webrelated ie tcp port 80 figure 5 provides closer look distribution packets bytes time per complete tcp connection graphs show empirically observed pdf distribution histogram well approximate lognormal fit distribution dashed line using mean table 3 summary tcp connectionlevel characteristics trace 0 trace 1 trace 2 trace 3 complete tcp connections 425 586 642 458 total ip packets 10352 10445 12065 9715 min packets per connection 6 3 6 5 mean packets per connection 244 178 188 212 max packets per connection 2645 380 222 288 min data bytes per connection mean data bytes per connection 10519 5474 5595 6992 max data bytes per connection 1976090 229673 81027 221935 min duration per connection 0131 0177 0194 0158 mean duration per connection 4532 5091 5159 5533 max duration per connection 29588 33832 33253 33006 incomplete tcp connections 579 888 919 949 total tcp connections 1004 1474 1561 1407 standard deviation note horizontal axes three graphs represents logarithmic scale base 2 fit means tight general trend data suggests lognormal fit body distribution reasonable hypothesis graphs figure 5 support general observation connections short average connection exchanges 6 kilobytes applicationlevel data using packets lasts 5 seconds observations consistent measurements web traffic workloads 1 2 4 5 tcpip traffic characteristics 3 15 16 variety environments 6 8 10 42 asymmetry clientserver traffic much traffic collected traces webrelated asymmetric clientserver structure traffic client typically sends data bytes eg url requested document server tends send data bytes eg returned document asymmetric behaviour illustrated graphically figure 6 results reported trace 1 total 586 complete tcp connections recognized figure 6a shows number packets transmitted direction connections using downward vertical axis ie negative values represent number client packets transmitted upward vertical axis ie positive values represent number server packets transmitted seen direct correlation number packets sent direction given connection261014 frequency percent log2number data bytes exchanged directions distribution bytes per complete tcp connection traces frequency percent log2number packets exchanged directions distribution packets per complete tcp connection traces frequency percent log2number seconds opening syn closing fin distribution time duration per complete tcp connection traces c figure 5 distributional characteristics tcp connections traces number packets exchanged per connection b number bytes exchanged per connection c time duration connection number packets transmitted connection number time series illustration clientserver packets per tcp connection trace 1 server client 5000050000150000250000 number data bytes transmitted connection number time series illustration clientserver bytes per tcp connection trace 1 server client b figure illustration asymmetric nature clientserver traffic trace 1 packets per connection b bytes per connection though client general tends send fewer packets 3 one reasons delayed acknowledgement strategy tcp many cases receiver data transfer generates one tcp acknowledgement every two tcp data segments arrive 17 asymmetry traffic flows clearly evident figure 6b figure shows number data bytes transmitted direction 586 connections using downward vertical axis ie negative values represent number client bytes transmitted upward vertical axis ie positive values represent number server bytes transmitted volume server bytes per connection ranges widely several hundred bytes several hundred kilobytes trace volume client bytes per connection generally low eg tens bytes hundreds bytes bytes transmitted tcp connection client trace 3649 bytes 3 anomaly however connection 290 detailed analysis connection shows client generated 340 tcp acknowledgement packets 38packet transfer 16253 bytes server many packets closelyspaced duplicate acknowledgements attribute anomaly bug clients implementation perhaps respect timer settings 43 detailed connectionlevel analysis figure 7 presents detailed illustration one particular ip hosts connection activity partic ular graph illustrates communication client ip address 274193285435 server ip address 81291635174 table 2 latter ip address represents web server packets illustrated figure 7 represent webbrowsing activity client topmost graph figure 7a twodimensional portrayal packet traffic client server horizontal axis represents time packet seen trace time ranges 0 seconds vertical axis represents size ip packet approach full tcp data packets generated server easily distinguishable tcp acknowledgement packets generated client size ip packets used 552 bytes suggests tcp maximum segment size mss 512 bytes used perhaps networklevel constraint maximum transmission unit mtu size sequence dark vertical bands figure 7a represents tcp connections used transfer individual documents using http 10 11 complete connections trace first tcp connection actually joined progress time 0 trace horizontal white space plot represents either user think time url requests processing time generation tcp connection download embedded documents within web page 4 figure 7b provides detailed look one particular complete tcp connection namely one starts threeway syn handshake initiated client time 296 seconds connection open client sends 465 byte ip packet carrying information requested url upon receipt packet server generates first 1 kb response im plying initial tcp congestion control window size 1024 bytes url requested requiring two packets case mtu used though packets timestamp 4 note usage tcp connections web document transfers change significantly persistent connection feature http 11 widespread use 7 12 persistent connection allows multiple url requests pipelined tcp con nection connection used return requested documents turn found evidence persistent connections used traces may 1998 trace connection proceeds tcp slowstart algorithm 9 figure 7c provides tcp sequence number plot illustrating behaviour clearly plot horizontal axis represents time us ing time scale figure 7b vertical axis represents tcp sequence number bytes denotes data packet transmitted server x denotes acknowledgement packet transmitted client vertical spacing indicates relative size packet ie number data bytes contained within tcpip packet horizontal spacing packet corresponding acknowledgement reflects roundtrip time rtt client server observed fixed measurement point cumulative delayed acknowledgement strategy tcp clearly evident evolutionary growth tcp slowstart congestion window size connection terminates shortly time 40 seconds final data packets acknowl edged fin handshake completes connection exchanges total 16951 bytes using packets 16 sent client 31 server web document accounts 14632 bytes almost constant horizontal spacing clumps data packet transmissions figure indicative roundtrip time rtt client server approximately 150 milliseconds example time function client modem speed eg transmission two 512byte ip packets 64000 bits per second narrowbandisdn link would take 128 milliseconds tcpip packet processing overhead physical propagation delay bottlenecks eg queueing points routers network client server fact acknowledgement packet transmissions close time next data packet transmissions merely indicates atm test set measuring traffic point close server ie servers network similar analyses ip source addresses tcplevel connection behaviours possible using technique analysis interarrival times tcp connections planned near future1003005000 5e06 1e07 15e07 2e07 25e07 3e07 ip packet size bytes time microseconds traffic profile selected ip sourcedestination pair trace 1 a10030050028e06 3e06 32e06 34e06 36e06 38e06 4e06 42e06 ip packet size bytes time microseconds traffic profile selected ip sourcedestination pair trace 1 b38800039200039600040000028e06 3e06 32e06 34e06 36e06 38e06 4e06 42e06 sequence number bytes time microseconds tcp sequence number plot selected tcp connection trace 1 tcp sequence number server tcp ack number client c figure 7 selected ip traffic flow many tcp connections one tcp connection 14 seconds c tcp sequence number plot selected tcp connection 44 summary section presented tcp connectionlevel analyses four isp ipatm traffic traces short duration traces completed connections observed shortlived many tcp connections represent web transfers numbers bytes packets time duration per connection reasonably modeled lognormal distributions finegrain analysis traffic identifies protocolspecific haviours tcp windowbased flow control multiple tcp connections client server web document transfers conclusions paper presented lowlevel measurements internet traffic flowing internet service provider atm backbone network measurements useful terms characterizing individual ip traffic streams generated internet users well characterizing aggregate traffic analyses show much traffic traces webrelated traffic bursty aggregatelevel individual hostlevel furthermore significant traffic structure finegrain time scales due tcpip http protocol behaviours measurements confirm internet users generate demanding traffic telecommunications networks handle reassuring note however burstiness aggregate traffic less burstiness single source indicating significant statistical multiplexing gain across sources observation consistent earlier work assessing effective bandwidth requirements multiplexed selfsimilar traffic streams 6 13 14 hope multiplexing gain continues number internet subscribers increases measurements web ipatm traffic longer time duration clearly needed order assess statistical rigour presence heavytailed distributions traffic well presence longrange dependence traf fic measurements pursued cooperation telesim project canarie acknowledgements measurements presented paper collected telus advanced communications made available researchers project financial support research provided newbridge networks well nserc collaborative research development crd grant atmtn telesim project crd183839 nserc research grant ogp0121969 r workload characterization web proxy cable modem environment internet web servers workload characterization performance implications characteristics widearea tcp con versations selfsimilarity world wide web traffic evidence possible causes ef ficient policies carrying web traffic flowswitched networks network traffic measurements ipframerelayatm performance interactions phttp tcp im plementations modeling performance http several transport protocols congestion avoidance con trol measurement analysis internet traffic frame relay selfsimilar nature ethernet traffic extended version case persistent connection http use fractional brownian motion theory connectionless networks effective bandwidth selfsimilar traffic sources theoretical simulation results empir ically derived analytic models widearea tcp connections wide area traffic failure poisson modeling tcpip illustrated selfsimilarity high variability statistical analysis ethernet lan traffic source level tr ctr rachid ait yaiz geert heijenk polling best effort traffic bluetooth wireless personal communications international journal v23 n1 p195206 october 2002