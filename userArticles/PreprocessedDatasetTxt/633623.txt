phase transition parking blocks brownian excursion coalescence paper consider hashing linear probing hashing table places n items n places noncomputer scienceminded reader shall use metaphore n cars parking places car ci chooses place pi random pi occupied ci tries successively finds empty place pittel 42 proves goes positive limit 1 size b1m1 largest block consecutive cars satisfies 2 converges weakly extremevalue distribution paper examine level n phase transition occurs om intermediate case reveals interesting behavior sizes blocks related standard additive coalescent way sizes connected components random graph related multiplicative coalescent b introduction consider hashing linear probing hashing table n places f1 2 ng items places hashing linear probing fundamental object analysis algorithms study goes back 1960s knuth 17 konheim weiss 19 still active pittel 27 knuth 18 flajolet et al 11 non computer scienceminded reader shall use along paper metaphore mn cars parking n places leaving en places empty car c chooses place p random p occupied c tries successively nds empty place use convention place place 1 name parking function hashing linear probing still studied combinatorists schutzenberger 34 riordan 30 foata riordan 12 francon 15 stanley 1 institut elie cartan inria cnrs universite henri poincare bp 239 54 506 vandoeuvre cedex france chassainiecnunancyfr universite libre de bruxelles departement dinformatique campus plaine cp 212 bvd du triomphe 1050 bruxelles belgium louchardulbacbe 35 36 nice development connections parking functions many combinatorial objects section 4 11 see also 35 paper also 20 use mainly maybe less exploited connection parking functions empirical processes mathematical statistics see also recent paper 25 pittel 27 proves enn goes positive limit size largest block consecutive cars b 1 converges weakly extremevalue distribution paper essentially concerned would call emergence giant block see 5 7 historic emergence giant component random graph also 2 14 16 theorem 11 n mn going jointly to1 b 1 belongs almost surely 0 1 threshold phenomenon less pronounced random graph pro cess however behaviour transition reminiscent random graph process aldous 2 observed limiting behaviour connected components random graph process related multiplicative coalescent rather seems additive coalescent cf aldous pitman 4 comes play theorem 13 describes random variable b 1 k1 decreasing sequence sizes blocks ended innite sequence 0s dene analogously r nn r k k1 sequence sizes blocks blocks sorted increasing date birth increasing order rst arrival car instance figure 1 theorem 12 lim en law x characterized fact x 1 x 2 x k k1 distributed sequence k1 n k standard gaussian independent figure 1 parking schemes places one recognizes marginal law valued fragmentation process derived continuum random tree introduced aldous pitman study standard additive coalescent 4 order describe limit bn n dene family operators space e continuous nonnegative functions fx let e normalized brownian excursion 3bessel bridge see 29 chap xi xii background let k1 sequence widths excursions e sorted decreasing order excursion function f understand restriction function f interval b f change sign precisely b brownian motion known innitely many excursions neighborhood zeros property holds true e exception 0 isolated point set zeroes e nevertheless e almost surely innitely many excursions interval 0 1 seen consequence theorem 41 generally cameron martingirsanov formula theorem 13 lim en p incidentally length l excursion e beginning 0 studied bertoin 6 recent paper gives transition kernel markov process figure 2 parking schemes places theorem 11 width largest excursion e fact b 1 belongs almost surely 0 1 density follows next theorem brownian excursion turn suggested combinatorial nature theorem 12 theorem 14 law sizebiased permutation b satises law k1 n k standard gaussian independent sizebiased permutation random probability distribution b constructed follows consider sequence independent positive integervalued random variables distributed according b probability 1 positive integer appears least sequence k k1 erase repetition rst occurence given integer sequence remains random permutation k k1 positive integers set sizebiased permutations random discrete probabilities studied aldous 3 pitman 23 24 celebrated example sizebiased permutation sequence limit sizes cycles random permutation limit distribution sizes largest second largest cycle complicated expression see dickman 9 shepp lloyd 32 sizebiased permutation k1 u k uniform 0 1 independent see also beautiful developments poissondirichlet distributions 3 21 22 24 26 actually theorem 14 gives implicit description law b instance proves almost surely k positive thus 1 exist even formulas due perman 21 giving joint distribution k th largest weights random discrete probability term joint densities sizebiased permutation special case random discrete probability comes order statistics jumps normalised subordinators formulas seem apply flajolet salvy 13 direct approach computation density b 1 methods based cauchy coecient integrals saddle point method applied density variant dickman function note bertoin 6 studies stochastic process tool study excursions ected brownian motion varying drift establishes interesting properties instance markov property finally set theorem stable subordinator exponent 12 meaning k ktuple positive numbers thus stochastic process law process hitting times brownian motion theorem 14 still another feature shares stochastic additive coalescent theorems 15 14 suggest process 0 law valued fragmentation process providing alternative construction stochastic additive coalescent formal proof scope paper however see concluding remarks theorem 15 interest relevant study parking schemes able prove weak convergence process size block containing car c 1 process 1 0 next theorem lls incompletely gap let r 1 sequence successive widths r 1 nk block containing car c 1 cars parked n places k places still empty k n set r 1 r 1 nd ne able build space brownian excursion e sequence parking schemes n cars n places way theorem 16 pr would need almost sure convergence skorohod topology order completely gap fact pure jump process makes sense parking scheme context since block car c 1 known increase n cars arrived explained coalescence blocks size instantaneous jumps paper organized follows section 2 analyses block containing given car given site leading proof theorem 11 iii section 3 provides combinatorial proof theorem 12 section 4 uses decomposition sample paths e cf theorem 41 believe interest provide simple proof theorems 14 15 theorem 41 proven section 5 help combinatorial identity 22 proofs theorem 13 11 iii also given section 5 exhibit close coupling empirical processes mathematical statistics prole associated parking scheme see previous gures denition prole see section 5 section 6 devoted proof theorem 16 section 7 concludes paper 2 block containing given car given site sectionwe give proof theorem 11i ii order give partial proof theorem 12 concerning size r 1 nen block containing car c 1 theorem 21 n 12 en 0 r 1 law n standard gaussian proof probability parking cars n places block containing car c 1 k elements denoted prr 1 clearly number parking schemes cars n places n one choose set k 1 cars belong block c 1 giving factor place block begins giving factor n way k cars allocated k places giving factor nally one park k remaining cars n k 2 remaining places leaving one empty place beginning end block containing car c 1 gives factor n flajolet et al 1998 knuth 1998 justication third last factor note computations would hold given car instead c 1 end section shall prove lemma 22 0 12 exists constant c whenever simultaneously k n kn f proof theorem 21 owing lemma 22 yields 0 b 1 pran r 1 z 1e y2 dy thus density probability r 1 nen n limit law xdx furthermore previous change variable entails random variable w density x 2 w1 w 1212 law 2 w1 w law square standard gaussian random variable consequence theorem 21 prove ii theorem 11 considering ii provided en n r 1 nd ne n 0 n large nd ne nx due theorem 21 obtain 0 lim sup clearly x 1 pr 0 regards let l n length block cars containing place 1 resp length largest block car c bn p nc arrives k 0 prr 1 place 1 empty probability ne also thus assuming p obtain n large enough depending lim sup nally yielding prove iii theorem 11 section 5 together theorem 13 proof lemma 22 setting brevity en obtain n nally exp 3 proof theorem 12 rst provide useful identity leading proof theorem 12 set theorem 31 proof choice elements blocks done ways arranged inside blocks ways convenient argue terms conned parking schemes knuth 1998 flajolet et al 1998 assume last place empty since rotations change sizes blocks total number conned parking schemes n 1 n obtain conned parking scheme sizes k 1 rst blocks respectively inserting blocks successively empty place attached right insertion taking place front conned parking scheme remaining cars one empty places conned parking scheme remaining cars possible insertions rst possible insertions second block finally probability pk left hand theorem 31 given hard check last expression right hand theorem 31 proof theorem 12 set using line proof theorem 21 approximations lemma 22 n k theorem 31 yield joint density x 1 f equivalently conditional law x j f equivalently x j distributed n j standard gaussian independent x 1 straightforward induction gives theorem 12 4 excursions e section give proofs last two main theorems theorem 14 theorem 15 41 decomposition paths e results simple consequences property decomposition sample paths e believe interest let u 1 random variable uniformly distributed 0 1 independent e let resp f denote last zero e u 1 resp rst zero e u 1 1 theorem 41 distribution n 2 n standard gaussian ii f normalized brownian excursion independent 1 iii let w uniformly distributed 0 1 independent e given f v distributed introduction w rather unpleasant feature actually study h n suggests denote local time r 0 interval 0 point iii replaced reaches unique minimum point distributed could prove last point second problem would arise know uniformly distributed 0 1 independent f 1 however fv wg surely properties hand purpose proving theorem 12 introduction w harmless law length excursion straddles u 1 theorem 41 proven subsection 54 starting point proof combinatorial identity 42 proof theorem 14 dicult following line proof theorem 41 subsection 54 exhibit almost sure convergence ofn r 1 k yielding theorem 14 prefer borrow nice idea section 64 pitman yor 26 uses decomposition sample paths brownian bridge prove distributional properties sample poissondirichlet distribution introduce 26 sequence u independent e probability 1 u k falls inside excursion e excursion width b j dene yielding sizebiased permutation b explained introduction set random variables u k independent uniformly distributed 0 f 1 exist unique number v k 20 1 k1 sequence independent random variables uniform 0 1 independent e u 1 view theorem 41 leads lemma 42 given 1 sequence distributed 1 xy actually among u i2 u k useful determine actually sizebiased permutation sequence widths excursions r precisely sizebiased permutation built help sequence v consequence also sizebiased permutation sequence widths excursions q built help sequence k1 ends proof lemma 42 v sequence independent uniform random variables independent r w using lemma 42 prove induction k two following properties distribution asserted theorem 14 distributed 1 k conditional law conditional law 1 k thus due lemma 42 law giving point2 k 1 set due point2 k point theorem 41 given j equivalently giving 43 proof theorem 15 exists similar result seemingly dierent setting standard additive coalescent cf 4 given f distributed axu u uniform 0 1 hand easy see 2 0 1 x thus given f distributed since last distribution depend also conditional distribution equivalently change variables conditional distribution unconditional distribution 1y last statement yields 11 induction k assuming property see given 1 owing theorem 41 5 proof theorems 13 41 denote number cars tried park place k successfully proof theorem 13 three steps subsection 52 using theorems doob vervaat shall prove theorem 51 lim n weakly h dened help uniform random variable u independent e rst result shall establish subsection 51 close coupling h k empirical processes mathematical statistics theorem 51 generalization similar theorem established marckert chassaing case subsection 53 shall prove convergence widths excursions h n e using essentially results section 23 aldous 1997 figure 3 prole place k empty width excursion h n turns length block cars normalized 1n shall call h n prole parking scheme 51 connection parking empirical processes propositions 53 54 55 end subsection key points convergence blocks sizes model cars parking places described sequence u k k1 independent uniform random variables car c k assumed park try place p u k falls interval let k denote number cars tried rst park place k since either place k occupied car c among h k cars tried place k car c wont visit place k place k empty h understand equation induction alone give h k since starting value thus nd additional relation purpose proposition 52 gives rst connection hashing parking empirical process let v dened ng empirical process mathematical statistics see shorack wellner 33 csorgo revesz 8 pollard 28 background recall given sample u almost interesting statistics functionals empirical distribution empirical process dened process gives measure accuracy approximation true distribution function empirical distribution function fm extensively studied mathematical statistics proposition 52 hashing table place v n empty proof proposition 52 let since clearly thus nonnegative understand convention obviously place k empty h end proof shall assume h v n positive shall deduce induction k place empty contradiction n due 54 thus due 53 h v n 1 2 starting point induction assume k h v n 2 53 obtain k due 54 know true value h k point k namely n use 53 compute value h k sizes blocks cars follow blocks cars correspondence blocks indices k h k 0 blocks call also later excursions h k nd following explicit connection empirical processes h k spirit marckert chassaing 20 proposition 53 k 2 f1 2 n 1g rewritten terms empirical process proposition 54 k 2 fv n proof proposition 53 set places set fv n using 53 obtain obtain proposition 53 prove r already exist last index j k z consequence last empty place including r acording place v n empty due 53 fact v n last empty place place h v two cases arise either h v rst case simultaneously r second case h v nk 1 entails r also w j1 ends tedious proof induction facts prove useful z k easier handle r k dealing uniform convergence next subsection notice use proved proposition 55 record w k z k means empty place 52 convergence e let us recall donsker 1952 following idea doob proved theorem 56 let brownian bridge weakly shall also need next theorem prove theorem 51 theorem 57 verwaat 1979 37 let v almost surely unique point bv dened normalized brownian excursion independent v proof theorem 51 according skorohod representation theorem cf rogers williams 1994 ii861 assume existence space sequence n brownian bridge b almost converges uniformly 0 1 b could way build corresponding sequence u independent random vari ables corresponding random parking scheme however would really needed proof mental picture note sequence u would necessarily embedded u m1 denes sequence mn previous subsection denes also corresponding v n follows 1kn finally let corresponding number cars tried successfully place number k set z assuming lim n en lemma 58 almost uniformly lemma 59 almost v n n converges v consequence lemma 510 almost uniformly z n uniformly also lemma 511 almost uniformly taking theorem 51 reformulation lemma 511 since eft v nng uniformly due estimates proof lemma 58 uniform convergence holds also true indierently continuous stepwise linear versions h n n z n bntcn shall use remark proof theorem 41 proof lemma 58 let n denote max 0kn kn kn denotes number cars want park place k kn binomiallym 1n distributed neexpky 1n exp kc log n thus borelcantelli lemma entails suitable c probability 1 supremum norm bntcn vanishes quickly c log n proof lemma 59 proof next one consider simultaneously bntcn converges uniformly b b reaches minimum know set measure 1 set straightforward continuity property b rst minimum bntcn ie v nn converges minimum b ie v clearly minimum bt set 0 1v v bv positive thus necessarily jv v nnj proof lemma 510 clearly proof lemma 511let z according proposition 53 proposition 54 0st 0st 0st thus lemma 511 follows uniform convergence z n z lemma 510 53 proof theorem 13 widths excursions h n zero sizes blocks cars corresponding parking scheme normalized n unfortunately uniform convergence h n h entails convergence sizes excursions using line proof aldous 1997 section 23 shall argue excursions h n 0 also excursions z n current minimum uniform convergence z n z entails convergence sizes excursions z n current minimum sizes excursions z current minimum provided z never reach current minimum two times last condition classically satised almost sample path z almost sure convergence sizes excursions z n equivalently sizes blocks note excursions z current minimum also excursions e 0 precisely shall apply z n z following weakened form lemma 7 p 824 2 lemma 512 suppose f 0 1 r continuous let e set nonempty intervals l r sl suppose intervals 1 2 2 e l 1 l 2 suppose also complement i2e l r lebesgue measure 0 let uniformly 0 1 suppose ni 1 satisfy following write mng n vague topology measures 0 1 0 1 dealing point processes n proposition 513 n vague topology 0 0 1 n large enough n 0 1 ii x 2 0 1 1 fxg 0 sequence points x n 0 x n x easy consequence partly due fact second components add 1 corollary 514 n vague topology sequence second components points n sorted decreasing order converge componentwise 1 corresponding sequence lemmata propositions subsection hold straightforward specialists well stochastic calculus points next proof give proofs annex f sequence second components n resp nothing else 1 proof theorem 13 lemma 512 corollary 514 applied subsection 52 entails theorem 13 hypothesis lemma 512 concerning regular sample path zt almost surely l 1 l 2 setting r lebesgue measure c 0 well known hold true e solution du see 29 chp xi whole section 3 notably ex 311 ni lemma 512 choose records z n due lemma 55 nt ni empty places counted starting v n depending z n hypothesis iii lemma 512 satised z n last proof also proof theorem 11 width widest excursion e 54 proof theorem 41 theorem 41 basically consequence following identity n 2 equivalent relation 22 let u uniformly distributed independent brownian excursion e decomposition n according length k block containing car c identity 57 yields desintegration e according value x 1 asserted theorem 41 factor gives distribution shape suitably scaled excursion f n h n corresponding block contains car c 1 marckert chassaing 1999 proved conned parking schemes equiprobable weakly shall deduce shape f excursion e contains u 1 limiting prole f n independent width 1 distributed normalized brownian excursion make random rotation angle dn k 1w e parking scheme k remaining cars n k 1 remaining places obtain n equiprobable parking schemes n leading fact rfw g distributed let us give formal proof proof theorem 41 let c space continuous functions 0 1 topology uniform convergence triplet independent random variables denes random variable x 1 f q law q probability measure space 0 1 c 2 normalized brownian excursion e resp denes probability measure resp x c theorem 41 written equivalently z 1f x z z bounded uniformly continuous function space 0 1 c 2 harmless assume order prove theorem 41 shall exhibit probability space sequence 0 almost surely x 1 f q product topology 0 ne iii conditional law k f n given x depend n satises weakly iv conditional law nk q n given x nk weakly consequence bounded uniformly continuous function shall prove properties ii iv sucient insure bounded uniformly continuous function satisfying z 1f x z entailing 58 end proof construction x let bound jj set z 1f x z z z z z z dnxen z z n z z dominated convergence owing iii iv lim n b uniform continuity f lim finally lim n c n due lemma 2 construction x assume setting subsection 52 use skorohod theorem obtain space sequence converges almost surely uniformly brownian bridge enlarge space order obtain two uniform random variables u 1 w independent b set ne sake brevity shall build sequence x describe partly parking scheme mn cars n places let us collect basic facts concerning empirical processes positive jumps height 1 places call v jumps negative slope random vector uniformly distributed simplex f0 x 1 x 2 xm 1g random permutation components would yield sequence u independent uniform random variables 0 1 car c k trying park rst place l unfortunately provided space means given know number cars park place k say mn number jumps taking place interval n know car parks place slight diculty since mind choose nx n place car c 1 parks ii follows relation 22 order circumvent problem note random permutation described random bijection f2 3 4 mg f1 2 3 1g random uniform integer 1 independent rst choose 1 choose random 1 remaining integers renumbered 1 1 shall take u car c 1 parks place dnu 1 e shall leave undened addition fact 1 u random uniform get almost surely u incidentally remaining jumps independent u 1 uniformly distributed simplex f0 x 1 x 2 xm 1 1g rst empty place left dnu e resp rst empty place right beginning resp end block containing car c 1 easy considerations uniform convergence z n z give almost surely recall r 1 yielding point ii also part point almost surely let r nh n uniform convergence h n e uniform continuity et 510 entails uniform convergence f n f uniform convergence regards iii relation 57 tells us given nx f n prole associated one parking schemes k cars k places accordingly conditional law k converges weakly similarly due random rotation dn r n e given nx prole associated one n k 1 k equiprobable parking schemes k cars n k 1 places conditional law nk converges weakly x hypothesis iv unfortunately nk c little bit additional work replace f n q n corresponding piecewiselinear continuous approx imations f n q n relation 56 insures f n resp q n converges uniformly f resp g yielding point relation 56 insures also laws k resp 6 proof theorem 16 use setting subsection 52 use skorohod theorem obtain space sequence n converges almost surely uniformly brownian bridge enlarge probability space sequence independent uniform random variables u k k1 independent independent sequence contain information number cars tried park n places contains information chronology shall use u k 2kn recover chronology pick random one jump jumps give place car c 1 u n 1 dened relation 59 u k 2kn generate random permutation rank remaining order statistics f2 3 ng consequence given n u k 2kn recover whole history process parking n cars n places without losing almost sure uniform convergence n brownian bridge needed convergence sizes blocks thus n k dene prole h nk associated parking rst cars n places use corresponding notation z nk prole h nk given proposition 54 based empirical process nk obtained erasing k last random choices order statistics places jumps n precisely let uniformly distributed simplex denote remaining jumps n u n 1 erased let random permutation generated u k rank u k u k 2kn sorted increasing order k assert rst try car c 1 place dnu n e rst try car c k k 2 place dn e n n parking schemes equiprobable k last random choices provide sample k independent uniform random variables associated empirical process nk nk dkw inequality gives prsup nk tj x 4 thus using borelcantelli lemma obtain easily 0 pr sup sup accordingly simple glance proof lemma 59 see v n denotes rst minimum convergence v n kn v n uniform almost surely compared lemma 59 change slightly denitions u sup inspection relation 55 see convergence z n ne z uniformly holds true almost surely pr uniformly z owing 612 fact sup ne ne 0 r k nd ne lemma 512 yields proposition 61 pr theorem 16 follows 7 concluding remarks main pending question opinion provide alternative construction stochastic additive coalescent construction would complete parallel additive coalescent multiplicative coalescent given concluding remarks 4 stochastic multiplicative coalescent identied aldous 2 limit normalized sequence sizes connected components random graph model also sequence widths excursions simple stochastic process easy corrolary theorems 41 14 15 joint law sequence shapes sizes widths excursions e sizes given theorem 14 easy induction proves shapes independent distributed e independent sizes argument proof theorem says clusters fragmentation process b starts anew fragmentation process distributed given cluster size x rises following questions also property standard additive coalescent charasteristic property standard additive coalescent additional properties eventually needed characterize standard additive coalescent scaling factor x easily understood time change less clear however explained asymptotically property parking schemes time unit discrete fragmentation process associated parking n cars n places departure p cars due law large numbers one time unit given block cars size xn loses approximately x x xn cars meaning internal clock block p acknowledgements starting point paper talk philippe flajolet meeting alea february 1998 asnelles concerning paper viola poblete discussion philippe authors small cafe french riviera smai meeting september 1998 discussions rst author marc yor also uwe rossler quite fruitful thank philippe laurencot calling attention works aldous pitman evans coalescence models papers perman pitman yor random probability measures poissondirichlet processes also great help r continuum random tree critical random graphs multiplicative coalescent exchangeability related topics standard additive coalescent probabilistic method fragmentation process connected brownian motion frequency numbers containing prime factors certain relative magnitude analysis linear probing hashing mappings acyclic birth giant compo nent art computer programming linear probing graphs order statistics jumps normalised subordinators exchangeable partially exchangeable random partitions random discrete distributions invariant sizebiased permuta tion polytope related empirical distribu tions twoparameter poissondirichlet distribution derived stable subordinator probable largest search time grows logarithmically number records convergence stochastic processes ballots trees ordered cycle lengths random permutation empirical processes applications statis tics enumeration problem mathematical essays honor giancarlo rota b relation brownian bridge brownian excursion tr linear probing probable largest search time grows logarithmically number records first cycles evolving graph art computer programming volume 3 ctr philippe chassaing guy louchard reflected brownian bridge area conditioned local time origin journal algorithms v44 n1 p2951 july 2002 svante janson individual displacements linear probing hashing different insertion policies acm transactions algorithms talg v1 n2 p177213 october 2005 jean bertoin random covering interval variation kingmans coalescent random structures algorithms v25 n3 p277292 october 2004